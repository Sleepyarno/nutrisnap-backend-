[debug] [2025-05-14T12:14:10.593Z] ----------------------------------------------------------------------
[debug] [2025-05-14T12:14:10.594Z] Command:       /Users/arnauddecube/.nvm/versions/node/v18.20.8/bin/node /Users/arnauddecube/.nvm/versions/node/v18.20.8/bin/firebase deploy --only functions --project nutrisnap2
[debug] [2025-05-14T12:14:10.594Z] CLI Version:   13.35.1
[debug] [2025-05-14T12:14:10.594Z] Platform:      darwin
[debug] [2025-05-14T12:14:10.594Z] Node Version:  v18.20.8
[debug] [2025-05-14T12:14:10.595Z] Time:          Wed May 14 2025 13:14:10 GMT+0100 (British Summer Time)
[debug] [2025-05-14T12:14:10.596Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-14T12:14:10.696Z] Object "/functions" in "firebase.json" has unknown property: {"additionalProperty":"v1"}
[debug] [2025-05-14T12:14:10.696Z] Field "/functions" in "firebase.json" is possibly invalid: must be array
[debug] [2025-05-14T12:14:10.696Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-14T12:14:10.699Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-14T12:14:10.699Z] > authorizing via signed-in user (sleepyarno@gmail.com)
[debug] [2025-05-14T12:14:10.699Z] [iam] checking project nutrisnap2 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-14T12:14:10.699Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:10.700Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:10.700Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions [none]
[debug] [2025-05-14T12:14:10.700Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:10.700Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-14T12:14:11.472Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions 200
[debug] [2025-05-14T12:14:11.472Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-14T12:14:11.473Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:11.473Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:11.473Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-14T12:14:11.473Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-14T12:14:12.175Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-14T12:14:12.175Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'nutrisnap2'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2025-05-14T12:14:12.768Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:12.768Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:12.768Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 [none]
[debug] [2025-05-14T12:14:13.486Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 200
[debug] [2025-05-14T12:14:13.486Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 {"projectNumber":"1013120896740","projectId":"nutrisnap2","lifecycleState":"ACTIVE","name":"NutriSnap2","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-24T21:36:33.778282Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:13.488Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:13.488Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:13.488Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:13.488Z] Checked if tokens are valid: true, expires at: 1747226444829
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:13.488Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:13.488Z] Checked if tokens are valid: true, expires at: 1747226444829
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:13.489Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:13.489Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:13.489Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-14T12:14:13.489Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:13.491Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-14T12:14:13.491Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:13.492Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-14T12:14:13.492Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:13.493Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-14T12:14:13.493Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:14.368Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-14T12:14:14.368Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-14T12:14:14.372Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com 200
[debug] [2025-05-14T12:14:14.372Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-14T12:14:14.380Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-14T12:14:14.380Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-14T12:14:14.411Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com 200
[debug] [2025-05-14T12:14:14.411Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-14T12:14:14.411Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:14.411Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:14.412Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig [none]
[debug] [2025-05-14T12:14:14.721Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig 200
[debug] [2025-05-14T12:14:14.721Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig {"projectId":"nutrisnap2","storageBucket":"nutrisnap2.firebasestorage.app"}
[debug] [2025-05-14T12:14:14.721Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:14.721Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:14.721Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs [none]
[debug] [2025-05-14T12:14:15.171Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs 200
[debug] [2025-05-14T12:14:15.171Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs {"configs":[{"name":"projects/nutrisnap2/configs/limits"},{"name":"projects/nutrisnap2/configs/openai"},{"name":"projects/nutrisnap2/configs/usda"},{"name":"projects/nutrisnap2/configs/app"},{"name":"projects/nutrisnap2/configs/fatsecret"},{"name":"projects/nutrisnap2/configs/functions"}]}
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.171Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.172Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.172Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.172Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables [none]
[debug] [2025-05-14T12:14:15.173Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables [none]
[debug] [2025-05-14T12:14:15.174Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables [none]
[debug] [2025-05-14T12:14:15.175Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables [none]
[debug] [2025-05-14T12:14:15.177Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables [none]
[debug] [2025-05-14T12:14:15.179Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables [none]
[debug] [2025-05-14T12:14:15.466Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables 200
[debug] [2025-05-14T12:14:15.466Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables {"variables":[{"name":"projects/nutrisnap2/configs/app/variables/enable_llm_enhancement","updateTime":"2025-05-06T13:27:35.731388673Z"},{"name":"projects/nutrisnap2/configs/app/variables/enable_usda","updateTime":"2025-05-06T15:09:39.755522370Z"}]}
[debug] [2025-05-14T12:14:15.466Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.466Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.466Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.466Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.467Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement [none]
[debug] [2025-05-14T12:14:15.469Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda [none]
[debug] [2025-05-14T12:14:15.471Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables 200
[debug] [2025-05-14T12:14:15.471Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables {"variables":[{"name":"projects/nutrisnap2/configs/functions/variables/memory","updateTime":"2025-05-06T15:06:10.989702191Z"}]}
[debug] [2025-05-14T12:14:15.471Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.471Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.471Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory [none]
[debug] [2025-05-14T12:14:15.474Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables 200
[debug] [2025-05-14T12:14:15.474Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables {"variables":[{"name":"projects/nutrisnap2/configs/fatsecret/variables/client_id","updateTime":"2025-05-08T09:44:44.853619324Z"},{"name":"projects/nutrisnap2/configs/fatsecret/variables/client_secret","updateTime":"2025-05-08T09:44:44.295776096Z"}]}
[debug] [2025-05-14T12:14:15.474Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.474Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.474Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.474Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.474Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id [none]
[debug] [2025-05-14T12:14:15.475Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret [none]
[debug] [2025-05-14T12:14:15.477Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables 200
[debug] [2025-05-14T12:14:15.477Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables {"variables":[{"name":"projects/nutrisnap2/configs/openai/variables/api_key","updateTime":"2025-05-06T13:27:19.488607311Z"},{"name":"projects/nutrisnap2/configs/openai/variables/model","updateTime":"2025-05-06T13:31:00.645406310Z"}]}
[debug] [2025-05-14T12:14:15.478Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.478Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.478Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.478Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.478Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key [none]
[debug] [2025-05-14T12:14:15.479Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model [none]
[debug] [2025-05-14T12:14:15.481Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables 200
[debug] [2025-05-14T12:14:15.481Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables {"variables":[{"name":"projects/nutrisnap2/configs/usda/variables/api_key","updateTime":"2025-05-02T21:46:46.257370799Z"}]}
[debug] [2025-05-14T12:14:15.481Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.481Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.481Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key [none]
[debug] [2025-05-14T12:14:15.553Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables 200
[debug] [2025-05-14T12:14:15.553Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables {"variables":[{"name":"projects/nutrisnap2/configs/limits/variables/memory","updateTime":"2025-05-07T14:54:23.507015005Z"}]}
[debug] [2025-05-14T12:14:15.553Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.553Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:15.554Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory [none]
[debug] [2025-05-14T12:14:15.706Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory 200
[debug] [2025-05-14T12:14:15.706Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory {"name":"projects/nutrisnap2/configs/functions/variables/memory","updateTime":"2025-05-06T15:06:10.989702191Z","text":"512MB"}
[debug] [2025-05-14T12:14:15.724Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda 200
[debug] [2025-05-14T12:14:15.724Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda {"name":"projects/nutrisnap2/configs/app/variables/enable_usda","updateTime":"2025-05-06T15:09:39.755522370Z","text":"true"}
[debug] [2025-05-14T12:14:15.725Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id 200
[debug] [2025-05-14T12:14:15.725Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id {"name":"projects/nutrisnap2/configs/fatsecret/variables/client_id","updateTime":"2025-05-08T09:44:44.853619324Z","text":"085c514845bd4626ac4591e21dc09713"}
[debug] [2025-05-14T12:14:15.725Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret 200
[debug] [2025-05-14T12:14:15.725Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret {"name":"projects/nutrisnap2/configs/fatsecret/variables/client_secret","updateTime":"2025-05-08T09:44:44.295776096Z","text":"afb99cbdc7bd4c798e3255640ec1fd9c"}
[debug] [2025-05-14T12:14:15.729Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key 200
[debug] [2025-05-14T12:14:15.729Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key {"name":"projects/nutrisnap2/configs/openai/variables/api_key","updateTime":"2025-05-06T13:27:19.488607311Z","text":"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"}
[debug] [2025-05-14T12:14:15.730Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key 200
[debug] [2025-05-14T12:14:15.730Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key {"name":"projects/nutrisnap2/configs/usda/variables/api_key","updateTime":"2025-05-02T21:46:46.257370799Z","text":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh"}
[debug] [2025-05-14T12:14:15.733Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement 200
[debug] [2025-05-14T12:14:15.733Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement {"name":"projects/nutrisnap2/configs/app/variables/enable_llm_enhancement","updateTime":"2025-05-06T13:27:35.731388673Z","text":"true"}
[debug] [2025-05-14T12:14:15.748Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model 200
[debug] [2025-05-14T12:14:15.748Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model {"name":"projects/nutrisnap2/configs/openai/variables/model","updateTime":"2025-05-06T13:31:00.645406310Z","text":"gpt-4o"}
[debug] [2025-05-14T12:14:15.814Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory 200
[debug] [2025-05-14T12:14:15.814Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory {"name":"projects/nutrisnap2/configs/limits/variables/memory","updateTime":"2025-05-07T14:54:23.507015005Z","text":"512MB"}
[debug] [2025-05-14T12:14:15.816Z] Validating nodejs source
[debug] [2025-05-14T12:14:16.257Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for NutriSnap",
  "scripts": {
    "test": "jest",
    "lint": "eslint src/*.js src/**/*.js --ignore-pattern src/food/detection.js",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "type": "commonjs",
  "dependencies": {
    "@google-cloud/aiplatform": "^3.4.0",
    "@google-cloud/secret-manager": "^6.0.1",
    "@google-cloud/vision": "^5.1.0",
    "dotenv": "^16.4.0",
    "firebase-admin": "^13.3.0",
    "firebase-functions": "^6.3.2",
    "node-fetch": "^2.7.0",
    "openai": "^4.41.0",
    "sharp": "^0.34.1",
    "uuid": "^11.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-config-prettier": "^10.1.5",
    "firebase-functions-test": "^3.4.1",
    "jest": "^29.7.0",
    "prettier": "^3.5.3",
    "supertest": "^7.1.0"
  },
  "private": true
}
[debug] [2025-05-14T12:14:16.257Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-14T12:14:16.258Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-14T12:14:16.262Z] Found firebase-functions binary at '/Users/arnauddecube/MANUS/NutriSnap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8733

[debug] [2025-05-14T12:14:17.522Z] Got response from /__/functions.yaml {"endpoints":{"createUserProfile":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/nutrisnap2"},"retry":false},"labels":{},"entryPoint":"createUserProfile"},"updateUserProfile":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateUserProfile"},"getUserProfile":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getUserProfile"},"getUploadUrl":{"platform":"gcfv1","labels":{},"availableMemoryMb":256,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getUploadUrl"},"processUploadedImage":{"platform":"gcfv1","availableMemoryMb":512,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/nutrisnap2.firebasestorage.app"},"retry":false},"labels":{},"entryPoint":"processUploadedImage"},"analyzeFoodImage":{"availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"analyzeFoodImage"},"learn_getKnowledgeArticleBySlug":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getKnowledgeArticleBySlug"},"learn_listKnowledgeArticlesByCategory":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_listKnowledgeArticlesByCategory"},"learn_listKnowledgeCategories":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_listKnowledgeCategories"},"learn_getFeaturedArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":512,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getFeaturedArticles"},"learn_searchKnowledgeArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_searchKnowledgeArticles"},"learn_getLatestArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getLatestArticles"},"searchFatSecretNutrition":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"searchFatSecretNutrition"},"getFatSecretFoodDetails":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getFatSecretFoodDetails"},"getAutocompleteSuggestions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getAutocompleteSuggestions"},"recognizeFoodFromImage":{"availableMemoryMb":512,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"recognizeFoodFromImage"},"app":{"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:17.542Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:17.542Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:17.542Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-14T12:14:17.542Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:18.419Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-14T12:14:18.420Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-14T12:14:18.420Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-14T12:14:18.420Z] > authorizing via signed-in user (sleepyarno@gmail.com)
[debug] [2025-05-14T12:14:18.420Z] [iam] checking project nutrisnap2 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-14T12:14:18.420Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:18.420Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:18.421Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions [none]
[debug] [2025-05-14T12:14:18.421Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:18.421Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-14T12:14:19.059Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions 200
[debug] [2025-05-14T12:14:19.059Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-14T12:14:19.059Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:19.059Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:19.060Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances pageSize=100&pageToken=
[debug] [2025-05-14T12:14:19.850Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances 200
[debug] [2025-05-14T12:14:19.851Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/arnauddecube/MANUS/NutriSnap/functions (790.4 KB) for uploading 
[info] i  functions: packaged /Users/arnauddecube/MANUS/NutriSnap/functions (790.96 KB) for uploading 
[debug] [2025-05-14T12:14:20.176Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:20.176Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:20.176Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions [none]
[debug] [2025-05-14T12:14:20.946Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions 200
[debug] [2025-05-14T12:14:20.946Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions {"functions":[{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getKnowledgeArticleBySlug","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:11.135916293Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getKnowledgeArticleBySlug"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_listKnowledgeCategories","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.691287150Z","versionId":"1","labels":{"firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeCategories"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getFeaturedArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:17.302860315Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getFeaturedArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getLatestArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.635660746Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getLatestArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_searchKnowledgeArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.415085157Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_searchKnowledgeArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_listKnowledgeArticlesByCategory","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:15.140535757Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-05-14T12:14:20.948Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:20.948Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:20.949Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-14T12:14:22.013Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions 200
[debug] [2025-05-14T12:14:22.014Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions {"functions":[{"name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/43cae6dd-46ff-4a80-a4af-2fc84dc4f7bc","runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-12T22:30:38.142359418Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"bb71db1acb94353f235de1763c3a152c7f5d4799"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","createTime":"2025-05-08T10:56:47.287289138Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/ebfdc92e-1c29-4677-b081-f85943b69f4e","runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T10:23:39.667998666Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"182dcb85006731186492c5d52b7e99b989bca1e9"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","createTime":"2025-04-29T18:50:11.173073206Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnv2_getFeaturedArticles","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/ef48cf36-f724-43a1-a3ce-89af78899db7","runtime":"nodejs22","entryPoint":"learnv2_getFeaturedArticles","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"learnv2_getFeaturedArticles/function-source.zip","generation":"1747046953355584"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"learnv2_getFeaturedArticles/function-source.zip","generation":"1747046953355584"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/learnv2-getfeaturedarticles","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/learnv2_getFeaturedArticles","FUNCTION_TARGET":"learnv2_getFeaturedArticles","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://learnv2-getfeaturedarticles-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"learnv2-getfeaturedarticles-00001-gum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-12T10:51:23.680803617Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-codebase":"learn","firebase-functions-hash":"e640a827f46c30d7e0cbf3662ebadac1e882e810"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnv2_getFeaturedArticles","createTime":"2025-05-12T10:49:13.627795525Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/fatsecretApi","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/c6e840bf-f421-4b96-9048-95d83936dcad","runtime":"nodejs20","entryPoint":"fatsecretApi","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"fatsecretApi/function-source.zip","generation":"1746797893912556"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"fatsecretApi/function-source.zip","generation":"1746797893912556"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-05-09T13:41:12.036106520Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0eb572bdd785984b29d84596b7bc393f752f78a4"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/nutrisnap2/locations/us-central1/services/fatsecretapi for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/fatsecretApi","createTime":"2025-05-09T13:38:14.126086322Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/43cae6dd-46ff-4a80-a4af-2fc84dc4f7bc","runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00013-zug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-12T22:30:39.504460806Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"bb71db1acb94353f235de1763c3a152c7f5d4799"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","createTime":"2025-05-08T10:58:46.248832509Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getGlucoseCurve","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/852387a7-5b41-43d3-8365-985dacbe13be","runtime":"nodejs20","entryPoint":"getGlucoseCurve","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getGlucoseCurve/function-source.zip","generation":"1746797894323470"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getGlucoseCurve/function-source.zip","generation":"1746797894323470"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getglucosecurve","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getGlucoseCurve","FUNCTION_TARGET":"getGlucoseCurve","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getglucosecurve-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"getglucosecurve-00037-cub","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-09T13:40:36.522738644Z","labels":{"deployment-callable":"true","firebase-functions-hash":"0eb572bdd785984b29d84596b7bc393f752f78a4","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getGlucoseCurve","createTime":"2025-05-06T21:31:40.525790640Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/43cae6dd-46ff-4a80-a4af-2fc84dc4f7bc","runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-12T22:30:39.720507731Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"bb71db1acb94353f235de1763c3a152c7f5d4799"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","createTime":"2025-05-12T22:29:04.222209961Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getFoodScanResult","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/54c52efe-9ccd-4fe3-8df0-418ba124ba58","runtime":"nodejs20","entryPoint":"getFoodScanResult","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFoodScanResult/function-source.zip","generation":"1747212172320117"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFoodScanResult/function-source.zip","generation":"1747212172320117"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfoodscanresult","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFoodScanResult","FUNCTION_TARGET":"getFoodScanResult","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfoodscanresult-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"getfoodscanresult-00015-soc","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T08:45:36.500957376Z","labels":{"firebase-functions-hash":"477bb539aca0add0e7096e9112b11ce35c4a9186","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFoodScanResult","createTime":"2025-05-08T13:12:36.712994893Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/9a0bf136-d17d-46d4-8e23-ee515b74de18","runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T09:24:22.344109140Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"55c55371792874754ecc05ed92026cf387cdc6e7"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","createTime":"2025-05-08T13:11:32.783695608Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.016Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.016Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com [none]
[debug] [2025-05-14T12:14:22.016Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:22.017Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com [none]
[debug] [2025-05-14T12:14:22.017Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:22.018Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com [none]
[debug] [2025-05-14T12:14:22.018Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:22.019Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com [none]
[debug] [2025-05-14T12:14:22.019Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T12:14:22.508Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com 200
[debug] [2025-05-14T12:14:22.508Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-14T12:14:22.842Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com 200
[debug] [2025-05-14T12:14:22.842Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-14T12:14:22.844Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com 200
[debug] [2025-05-14T12:14:22.844Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-14T12:14:22.847Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com 200
[debug] [2025-05-14T12:14:22.847Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-14T12:14:22.848Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.848Z] Checked if tokens are valid: true, expires at: 1747226444829
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-14T12:14:22.848Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.848Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:22.848Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-14T12:14:22.849Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-14T12:14:23.708Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-14T12:14:23.708Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1013120896740@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"108019676898955115488"}}
[debug] [2025-05-14T12:14:23.720Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-14T12:14:23.720Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1013120896740@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105070618098291756144"}}
[debug] [2025-05-14T12:14:23.722Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:23.723Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:23.723Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 [none]
[debug] [2025-05-14T12:14:24.395Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 200
[debug] [2025-05-14T12:14:24.395Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 {"projectNumber":"1013120896740","projectId":"nutrisnap2","lifecycleState":"ACTIVE","name":"NutriSnap2","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-24T21:36:33.778282Z"}
[debug] [2025-05-14T12:14:24.396Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:24.396Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:24.396Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo [none]
[debug] [2025-05-14T12:14:25.226Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo 200
[debug] [2025-05-14T12:14:25.226Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo {"name":"projects/nutrisnap2/billingInfo","projectId":"nutrisnap2","billingAccountName":"billingAccounts/0182E2-603B80-7D2AD6","billingEnabled":true}
[debug] [2025-05-14T12:14:25.227Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:25.227Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:25.227Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:25.227Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:14:25.227Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-14T12:14:25.227Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-05-14T12:14:25.229Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-14T12:14:25.922Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-14T12:14:25.922Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D"}
[debug] [2025-05-14T12:14:25.923Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip GoogleAccessId=service-1013120896740%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D
[debug] [2025-05-14T12:14:25.923Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip [stream]
[debug] [2025-05-14T12:14:26.079Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-14T12:14:26.079Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226666&Signature=kSKcn%2BvVr9L4U%2FWvs2xjMcNY2Ek%2FdfqG6IGWqWjPoy2t3vizc5rgfIPqWIHQKzHOScve6L0cVz5Yt2CA3ryZDtPNNB2tIasiMXCH%2Bn1mGLkQS8ieMAT5vdYPHgmI%2F4ezc1iw0BGdYhd9A%2B8gll%2FPsKPnazYoYNp6a42WtCal0jRxPan8Tf96AXmmfx7q89uco0uN9fkdYxi1HgEN8zjzrzLkPZlOBeiVYfp%2Fezfy5opEneaNOIyzT%2FNo3ezsMp%2Ft7FBgaMU2fOkIe1xWwQa5Jhhz4z7KAgPHPZGMvmBGldgNuHUA%2FdKPkqXQAruh%2BEdPtOBnhmshQVIOggo9%2BtasJA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}}
[debug] [2025-05-14T12:14:26.079Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip GoogleAccessId=service-1013120896740%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226666&Signature=kSKcn%2BvVr9L4U%2FWvs2xjMcNY2Ek%2FdfqG6IGWqWjPoy2t3vizc5rgfIPqWIHQKzHOScve6L0cVz5Yt2CA3ryZDtPNNB2tIasiMXCH%2Bn1mGLkQS8ieMAT5vdYPHgmI%2F4ezc1iw0BGdYhd9A%2B8gll%2FPsKPnazYoYNp6a42WtCal0jRxPan8Tf96AXmmfx7q89uco0uN9fkdYxi1HgEN8zjzrzLkPZlOBeiVYfp%2Fezfy5opEneaNOIyzT%2FNo3ezsMp%2Ft7FBgaMU2fOkIe1xWwQa5Jhhz4z7KAgPHPZGMvmBGldgNuHUA%2FdKPkqXQAruh%2BEdPtOBnhmshQVIOggo9%2BtasJA%3D%3D
[debug] [2025-05-14T12:14:26.079Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip [stream]
[debug] [2025-05-14T12:14:26.986Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip 200
[debug] [2025-05-14T12:14:26.987Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip [omitted]
[debug] [2025-05-14T12:14:27.123Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip 200
[debug] [2025-05-14T12:14:27.123Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	getFoodScanResult(us-central1)
	getGlucoseCurve(us-central1)
	learnV2_getFeaturedArticles(us-central1)
	learnV2_getKnowledgeArticleBySlug(us-central1)
	learnV2_getLatestArticles(us-central1)
	learnV2_listKnowledgeArticlesByCategory(us-central1)
	learnV2_listKnowledgeCategories(us-central1)
	learnV2_searchKnowledgeArticles(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: creating Node.js 20 (2nd Gen) function recognizeFoodFromImage(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function processUploadedImage(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function learn_getFeaturedArticles(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function getUploadUrl(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function app(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function createUserProfile(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function updateUserProfile(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function getUserProfile(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function searchFatSecretNutrition(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function getFatSecretFoodDetails(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function getAutocompleteSuggestions(us-central1)... 
[info] i  functions: updating Node.js 20 (2nd Gen) function analyzeFoodImage(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function learn_getKnowledgeArticleBySlug(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function learn_listKnowledgeArticlesByCategory(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function learn_listKnowledgeCategories(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function learn_searchKnowledgeArticles(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function learn_getLatestArticles(us-central1)... 
[debug] [2025-05-14T12:15:04.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:04.614Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions functionId=recognizeFoodFromImage
[debug] [2025-05-14T12:15:04.614Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions {"name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"512Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"}}
[debug] [2025-05-14T12:15:04.617Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:15:04.617Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage {"name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"processUploadedImage","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:15:04.620Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:15:04.620Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl {"name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"getUploadUrl","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"serviceAccountEmail":null,"availableMemoryMb":256,"timeout":"60s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:15:04.621Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T12:15:04.621Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app {"name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":120,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"}}
[debug] [2025-05-14T12:15:04.622Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:15:04.622Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"createUserProfile","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:15:04.623Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T12:15:04.623Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition {"name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"}}
[debug] [2025-05-14T12:15:04.624Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T12:15:04.625Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage {"name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"2Gi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"}}
[debug] [2025-05-14T12:15:04.626Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:15:04.626Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"learn_getKnowledgeArticleBySlug","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:15:05.228Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl 200
[debug] [2025-05-14T12:15:05.228Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.229Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.229Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.229Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:05.232Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile 200
[debug] [2025-05-14T12:15:05.232Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.232Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.232Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.233Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:05.235Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug 200
[debug] [2025-05-14T12:15:05.235Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.235Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.235Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.235Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:05.237Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage 200
[debug] [2025-05-14T12:15:05.237Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.237Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.237Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.237Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:05.501Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:05.501Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.515Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:05.515Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.515Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:05.515Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.540Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:05.540Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z"}}
[debug] [2025-05-14T12:15:05.948Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions 200
[debug] [2025-05-14T12:15:05.948Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T12:15:05.948Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.948Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:05.948Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:06.002Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:06.002Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.002Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.002Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:06.016Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:06.017Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.017Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.017Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:06.021Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:06.021Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.021Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.021Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:06.043Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:06.044Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.044Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.044Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:06.247Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:06.248Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:06.259Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:06.259Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:06.261Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:06.261Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:06.296Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:06.297Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:06.386Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage 200
[debug] [2025-05-14T12:15:06.386Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T12:15:06.386Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.386Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.387Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:06.389Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app 200
[debug] [2025-05-14T12:15:06.389Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T12:15:06.389Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.389Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.390Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:06.393Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition 200
[debug] [2025-05-14T12:15:06.393Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T12:15:06.393Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.393Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:06.394Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:06.707Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:06.707Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:07.148Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:07.149Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:07.188Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:07.188Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:07.188Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:07.189Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:07.208Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:07.209Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.209Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.209Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:07.250Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:07.250Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.250Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.250Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:07.261Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:07.261Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.261Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.261Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:07.263Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:07.263Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.263Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.263Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:07.298Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:07.298Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.298Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.299Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:07.524Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:07.524Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:07.530Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:07.530Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:07.548Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:07.548Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:07.557Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:07.557Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:07.650Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:07.650Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.650Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.650Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:07.690Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:07.690Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.690Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.690Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:07.692Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:07.692Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.692Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:07.692Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:07.971Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:07.971Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:08.438Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:08.438Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:08.455Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:08.455Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:08.467Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:08.467Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:08.972Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:08.973Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:08.973Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:08.973Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:09.440Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:09.441Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.441Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.441Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:09.456Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:09.456Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.456Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.456Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:09.468Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:09.468Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.468Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.468Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:09.525Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:09.525Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.525Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.525Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:09.530Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:09.530Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.530Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.530Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:09.550Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:09.550Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.550Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.550Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:09.557Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:09.557Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.558Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:09.558Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:09.757Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:09.757Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:09.769Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:09.769Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:09.804Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:09.805Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:09.810Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:09.810Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:09.852Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:09.853Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:10.246Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:10.246Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:10.246Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:10.247Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:10.247Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:10.247Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:11.758Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:11.759Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:11.761Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:11.762Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:12.247Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:12.247Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:12.247Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:12.248Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:12.248Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:12.248Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:12.248Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:12.248Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:12.249Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:12.249Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:12.249Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:12.249Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:12.546Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:12.546Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:13.002Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:13.002Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:13.018Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:13.018Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:13.021Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:13.021Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:13.771Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:13.772Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.772Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.773Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:13.804Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:13.805Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.805Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.805Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:13.811Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:13.811Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.811Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.811Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:13.853Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:13.855Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.855Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:13.855Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:14.040Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:14.040Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:14.041Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:14.041Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:14.084Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:14.085Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:14.113Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:14.113Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:16.547Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:16.548Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:16.548Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:16.548Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:17.003Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:17.004Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:17.004Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:17.004Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:17.019Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:17.019Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:17.019Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:17.019Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:17.021Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:17.021Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:17.022Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:17.022Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:17.315Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:17.315Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:17.762Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:17.762Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:17.797Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:17.797Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:17.830Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:17.830Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:22.041Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:22.046Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.046Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.046Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:22.046Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:22.046Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.046Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.047Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:22.089Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:22.089Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.089Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.089Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:22.114Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:22.114Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.114Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:22.114Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:22.291Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:22.291Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:22.292Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:22.292Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:22.320Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:22.320Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:22.361Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:22.361Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:25.318Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:25.319Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.319Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.320Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:25.763Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:25.764Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.764Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.764Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:25.798Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:25.798Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.798Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.798Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:25.832Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:25.836Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.836Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:25.836Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:26.104Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:26.104Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:26.622Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:26.623Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:26.623Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:26.624Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:26.625Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:26.626Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:32.291Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:32.294Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.296Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.296Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:32.299Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:32.299Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.300Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.300Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:32.321Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:32.322Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.322Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.322Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:32.362Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:32.363Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.363Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:32.363Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:32.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:32.562Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:32.564Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:32.564Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:32.581Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:32.581Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:32.615Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:32.616Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:36.105Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:36.105Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.105Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.105Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:36.624Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:36.625Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.625Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.625Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:36.627Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:36.627Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.627Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.627Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:36.629Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:36.629Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.629Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:36.629Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:36.866Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:36.866Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:37.375Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:37.375Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:37.428Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:37.428Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:37.431Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:37.431Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:42.564Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:42.565Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.565Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.565Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:42.567Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:42.567Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.567Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.567Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:42.582Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:42.582Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.582Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.583Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:42.616Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:42.616Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.617Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:42.617Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:42.800Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:42.800Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:42.810Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:42.810Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:42.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:42.827Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:42.862Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:42.862Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:46.869Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:46.870Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:46.870Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:46.870Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:47.377Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:47.379Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:47.379Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:47.379Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:47.430Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:47.430Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:47.430Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:47.430Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:47.432Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:47.432Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:47.432Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:47.432Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:47.628Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:47.628Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:47.636Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:47.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:48.204Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:48.204Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:15:48.227Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:48.227Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:52.803Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:15:52.804Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.804Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.804Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:15:52.811Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:15:52.811Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.811Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.811Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:15:52.828Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:15:52.829Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.829Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.829Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:15:52.864Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:15:52.865Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.865Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:52.865Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:15:53.051Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:15:53.051Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:15:53.068Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:15:53.068Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:15:53.082Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:15:53.083Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:15:53.122Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:15:53.122Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:15:57.630Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:15:57.630Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:57.630Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:57.630Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:15:57.637Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:15:57.637Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:57.637Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:57.637Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:15:58.206Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:15:58.208Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:58.208Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:58.208Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:15:58.228Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:15:58.229Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:58.229Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:15:58.230Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:15:58.441Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:15:58.441Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:15:58.442Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:15:58.442Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:15:58.973Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:15:58.973Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:15:58.984Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:15:58.984Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:16:03.052Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:03.052Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.053Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.053Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:16:03.070Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:16:03.070Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.070Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.070Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:16:03.083Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:16:03.083Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.083Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.083Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:16:03.123Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:16:03.123Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.123Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:03.123Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:16:03.316Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:16:03.318Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:03.320Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:16:03.321Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:16:03.348Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:16:03.348Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:16:03.382Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:16:03.382Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:08.442Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:16:08.442Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.442Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.442Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:16:08.445Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:16:08.445Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.445Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.445Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:16:08.974Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:16:08.975Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.975Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.975Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:16:08.985Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:16:08.986Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.986Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:08.986Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:16:09.205Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:16:09.205Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:16:09.240Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:16:09.240Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:16:09.751Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:16:09.752Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:16:09.770Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:16:09.770Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:16:13.319Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:13.319Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.320Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.320Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:16:13.323Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:16:13.323Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.323Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.323Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:16:13.350Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:16:13.350Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.350Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.350Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:16:13.384Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:16:13.384Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.384Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:13.384Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:16:13.551Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:16:13.552Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:16:13.566Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:16:13.566Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:13.608Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:16:13.608Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:16:13.632Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:16:13.634Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:19.206Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:16:19.207Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.208Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.210Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:16:19.241Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:16:19.244Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.244Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.244Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:16:19.754Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:16:19.755Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.755Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.755Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:16:19.772Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:16:19.772Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.772Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:19.773Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:16:20.016Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:16:20.016Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:16:20.037Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:16:20.037Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:16:20.544Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:16:20.544Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:16:20.560Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:16:20.561Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:16:23.553Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:16:23.554Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.554Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.554Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:16:23.569Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:23.569Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.569Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.569Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:16:23.610Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:16:23.611Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.611Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.611Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:16:23.636Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:16:23.638Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.638Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.638Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:16:23.803Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:16:23.803Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:16:23.826Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:16:23.826Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:23.826Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:23.827Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.827Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.827Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.827Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.827Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:16:23.827Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"updateUserProfile","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:16:23.828Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:16:23.828Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"getUserProfile","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:16:23.864Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:16:23.864Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:16:23.906Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:16:23.906Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:23.906Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:23.907Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:16:23.907Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"learn_listKnowledgeArticlesByCategory","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:16:23.910Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:16:23.910Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"learn_listKnowledgeCategories","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:16:23.912Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:16:23.912Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"learn_searchKnowledgeArticles","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:16:23.913Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:16:23.913Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"learn_getLatestArticles","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:16:24.335Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile 200
[debug] [2025-05-14T12:16:24.335Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958"}}
[debug] [2025-05-14T12:16:24.336Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.336Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.336Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw [none]
[debug] [2025-05-14T12:16:24.346Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories 200
[debug] [2025-05-14T12:16:24.346Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.347Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.347Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.347Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:24.361Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles 200
[debug] [2025-05-14T12:16:24.361Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.362Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.362Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.362Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:24.372Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile 200
[debug] [2025-05-14T12:16:24.373Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958"}}
[debug] [2025-05-14T12:16:24.373Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.373Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.373Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:24.438Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles 200
[debug] [2025-05-14T12:16:24.438Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.438Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.438Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.439Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:24.482Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory 200
[debug] [2025-05-14T12:16:24.482Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.482Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.482Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:24.482Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:24.597Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:24.597Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.597Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:24.598Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw 200
[debug] [2025-05-14T12:16:24.599Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958"}}
[debug] [2025-05-14T12:16:24.599Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:24.605Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:24.605Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.605Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:24.615Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:24.615Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958"}}
[debug] [2025-05-14T12:16:24.615Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:24.696Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:24.696Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.696Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:24.734Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:24.735Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","sourceToken":"41b40746-bee7-4253-945b-2027141e3963"}}
[debug] [2025-05-14T12:16:24.735Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:25.098Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T12:16:25.098Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.098Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.098Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:25.100Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:25.100Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.100Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.101Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw [none]
[debug] [2025-05-14T12:16:25.106Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:16:25.106Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.106Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.106Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:25.116Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:25.117Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.117Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.117Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:25.197Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T12:16:25.197Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.197Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.197Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:25.236Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T12:16:25.237Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.237Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:25.237Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:25.341Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:25.341Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:25.341Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:25.345Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:25.345Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:25.345Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:25.346Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw 200
[debug] [2025-05-14T12:16:25.346Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:25.346Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:25.355Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:25.355Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:25.356Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:25.459Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:25.459Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:25.460Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:25.495Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:25.495Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:25.495Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:26.342Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:16:26.342Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.342Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.342Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:26.345Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T12:16:26.345Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.345Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.345Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:26.348Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:26.348Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.348Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.348Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw [none]
[debug] [2025-05-14T12:16:26.357Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:26.357Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.357Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.357Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:26.460Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T12:16:26.460Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.460Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.460Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:26.496Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T12:16:26.497Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.497Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:26.497Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:26.589Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:26.590Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:26.590Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:26.591Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:26.591Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:26.591Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:26.599Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw 200
[debug] [2025-05-14T12:16:26.599Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:26.599Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:26.617Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:26.617Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:26.617Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:26.719Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:26.719Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:26.720Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:26.728Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:26.728Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:26.728Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:28.592Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:28.592Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.592Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.592Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:28.594Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:16:28.594Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.594Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.594Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:28.599Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:28.599Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.599Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.599Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw [none]
[debug] [2025-05-14T12:16:28.618Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T12:16:28.618Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.618Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.618Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:28.721Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T12:16:28.722Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.722Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.722Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:28.729Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T12:16:28.729Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.729Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:28.729Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:28.830Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw 200
[debug] [2025-05-14T12:16:28.830Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:28.830Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:28.838Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:28.839Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:28.839Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:28.839Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:28.839Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:28.839Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:28.882Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:28.883Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:28.883Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:28.963Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:28.963Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:28.963Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:28.971Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:28.971Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:28.972Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:30.018Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:16:30.019Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.020Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.020Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:16:30.038Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:16:30.039Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.039Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.039Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:16:30.545Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:16:30.546Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.546Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.546Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:16:30.562Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:16:30.562Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.562Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:30.563Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:16:30.790Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:16:30.790Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:16:30.804Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:16:30.804Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:16:31.341Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:16:31.341Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:16:31.341Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:16:31.341Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:16:32.832Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:32.834Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.834Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.835Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw [none]
[debug] [2025-05-14T12:16:32.839Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:32.840Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.840Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.840Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:32.842Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:16:32.842Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.842Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.842Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:32.888Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T12:16:32.888Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.888Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.888Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:32.964Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T12:16:32.964Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.964Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.964Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:32.972Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T12:16:32.973Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.973Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:32.973Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:33.081Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:33.081Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:33.081Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:33.090Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw 200
[debug] [2025-05-14T12:16:33.090Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:33.090Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:33.117Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:33.117Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:33.117Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:33.142Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:33.143Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:33.143Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:33.193Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:33.193Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:33.193Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:33.199Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:33.200Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:33.200Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:33.804Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:16:33.804Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.804Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.805Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:16:33.827Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:33.828Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.829Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.829Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:16:33.866Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:16:33.866Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.866Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.866Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:16:33.906Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:16:33.906Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.906Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:33.906Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:16:34.050Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:16:34.051Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:16:34.079Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:16:34.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:15:05Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:34.079Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:34.121Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:16:34.121Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:16:34.157Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:16:34.158Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:15:05Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:34.158Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:40.791Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:16:40.794Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:40.794Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:40.794Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:16:40.805Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:16:40.805Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:40.805Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:40.805Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:16:41.082Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:16:41.083Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.083Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.083Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:41.090Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:41.090Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.090Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.090Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw [none]
[debug] [2025-05-14T12:16:41.118Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:41.122Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.122Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.122Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:41.144Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T12:16:41.145Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.145Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.145Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:41.194Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T12:16:41.194Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.194Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.194Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:41.200Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T12:16:41.201Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.201Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.201Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:41.332Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw 200
[debug] [2025-05-14T12:16:41.332Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9pYmpxZndOZU92dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:36Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2025-05-14T12:16:41.333Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2025-05-14T12:16:41.335Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:41.335Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:41.335Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:41.342Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:16:41.342Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.342Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.342Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:16:41.344Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:16:41.344Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.344Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:41.344Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:16:41.371Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:41.371Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:24Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"}}
[debug] [2025-05-14T12:16:41.371Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[debug] [2025-05-14T12:16:41.396Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:41.397Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:41.397Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:41.439Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:41.439Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:41.439Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:41.445Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:41.445Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:41.445Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:41.563Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:16:41.563Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:16:41.577Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:16:41.577Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:16:42.103Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:16:42.103Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:16:42.434Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:16:42.435Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:16:44.052Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:16:44.053Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.053Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.053Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:16:44.080Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:44.080Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.081Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.081Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ [none]
[debug] [2025-05-14T12:16:44.122Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:16:44.122Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.122Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.122Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:16:44.158Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T12:16:44.159Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.159Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:44.159Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 [none]
[debug] [2025-05-14T12:16:44.290Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:16:44.290Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:16:44.340Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ 200
[debug] [2025-05-14T12:16:44.340Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9qYi14djRSZzhWVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T09:25:10.893Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T12:16:42Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:16:44.341Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[info] ✔  functions[createUserProfile(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:16:44.364Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:16:44.365Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:16:44.412Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 200
[debug] [2025-05-14T12:16:44.412Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1phaERHc1B0dEM0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:34.633Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T12:16:40Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:16:44.412Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[info] ✔  functions[learn_getKnowledgeArticleBySlug(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:16:51.336Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:16:51.336Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.336Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.337Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:16:51.372Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T12:16:51.372Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.372Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.372Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ [none]
[debug] [2025-05-14T12:16:51.397Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T12:16:51.397Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.397Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.397Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA [none]
[debug] [2025-05-14T12:16:51.439Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T12:16:51.440Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.440Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.440Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw [none]
[debug] [2025-05-14T12:16:51.446Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T12:16:51.447Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.447Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.447Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 [none]
[debug] [2025-05-14T12:16:51.564Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:16:51.564Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.564Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.565Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:16:51.578Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:16:51.578Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.578Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:51.578Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:16:51.581Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:16:51.581Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:24Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"}}
[debug] [2025-05-14T12:16:51.581Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[debug] [2025-05-14T12:16:51.600Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ 200
[debug] [2025-05-14T12:16:51.601Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9wY0MzZTdtUVNsVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:16:48Z","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","sourceToken":"5a001ecf-37d4-42b3-9e94-bbe414cd4958","buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2025-05-14T12:16:51.601Z] Got source token 5a001ecf-37d4-42b3-9e94-bbe414cd4958 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2025-05-14T12:16:51.634Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA 200
[debug] [2025-05-14T12:16:51.634Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9XOTFWZ0lTN2gzNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:37.342Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:49Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:16:51.634Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[info] ✔  functions[learn_getLatestArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:16:51.673Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 200
[debug] [2025-05-14T12:16:51.673Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzFkaFBPQS1NeXg4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:39.777Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:45Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:16:51.673Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[info] ✔  functions[learn_listKnowledgeArticlesByCategory(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:16:51.687Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw 200
[debug] [2025-05-14T12:16:51.687Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy90WW5wa3ZsRWNzdw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:36.910Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"17","updateTime":"2025-05-14T12:16:46Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:16:51.687Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[info] ✔  functions[learn_searchKnowledgeArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:16:52.105Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:16:52.105Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:52.105Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:52.105Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:16:52.335Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:16:52.336Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:16:52.345Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:16:52.346Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:16:52.436Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:16:52.437Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:52.437Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:52.437Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:16:52.893Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:16:52.893Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:16:53.224Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:16:53.224Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:16:54.291Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:16:54.291Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:54.292Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:54.292Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:16:54.366Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:16:54.366Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:54.366Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:16:54.366Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:16:54.539Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:16:54.539Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:16:54.604Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:16:54.605Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:01.582Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T12:17:01.582Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:01.583Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:01.583Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ [none]
[debug] [2025-05-14T12:17:01.825Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ 200
[debug] [2025-05-14T12:17:01.825Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy82S1YxVWoxUkQxVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T09:23:35.476Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","buildId":"1f3dedef-3e42-4b65-abc4-427e6a0778be","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/1f3dedef-3e42-4b65-abc4-427e6a0778be","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:16:52Z","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","sourceToken":"41b40746-bee7-4253-945b-2027141e3963","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:17:01.825Z] Got source token 41b40746-bee7-4253-945b-2027141e3963 for region us-central1
[info] ✔  functions[learn_listKnowledgeCategories(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:17:02.337Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:17:02.338Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:02.338Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:02.338Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:17:02.346Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:17:02.346Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:02.346Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:02.346Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:17:02.894Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:17:02.894Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:02.894Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:02.894Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:17:03.084Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:17:03.085Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:17:03.107Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:17:03.107Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:17:03.229Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:17:03.229Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:03.230Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:03.230Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:17:03.489Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:17:03.490Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:17:03.700Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:17:03.701Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:17:04.541Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:17:04.545Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:04.545Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:04.545Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:17:04.606Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:17:04.606Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:04.606Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:04.606Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:17:04.803Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:17:04.804Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:17:04.848Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:17:04.848Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:13.087Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:17:13.088Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.088Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.088Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:17:13.109Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:17:13.110Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.110Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.110Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:17:13.492Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:17:13.492Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.492Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.492Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:17:13.708Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:17:13.708Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.708Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:13.708Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:17:13.853Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:17:13.853Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:17:13.905Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:17:13.905Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:17:14.292Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:17:14.292Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:17:14.508Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:17:14.508Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:17:14.806Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:17:14.806Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:14.806Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:14.806Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:17:14.849Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:17:14.849Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:14.849Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:14.849Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:17:15.063Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:17:15.064Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:17:15.092Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:17:15.092Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:15.092Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:17:23.856Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:17:23.856Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:23.856Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:23.856Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:17:23.907Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:17:23.908Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:23.908Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:23.908Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:17:24.293Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:17:24.294Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:24.294Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:24.294Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:17:24.510Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:17:24.510Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:24.510Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:24.510Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:17:24.640Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:17:24.640Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:17:24.640Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:17:24.709Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:17:24.709Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:17:25.064Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:17:25.065Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:25.065Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:25.066Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:17:25.078Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:17:25.078Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:17:25.093Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:17:25.093Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:25.093Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:25.093Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:17:25.265Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:17:25.265Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:17:25.304Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:17:25.304Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:17:25.358Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:17:25.359Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:25.359Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:17:34.641Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:17:34.642Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:34.642Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:34.642Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:17:34.710Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:17:34.710Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:34.710Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:34.711Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:17:35.079Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:17:35.079Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.079Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.079Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:17:35.266Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:17:35.267Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.267Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.267Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:17:35.308Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:17:35.308Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.308Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.308Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:17:35.360Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:17:35.360Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.360Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:35.360Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:17:35.434Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:17:35.434Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:17:35.434Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:17:35.437Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:17:35.437Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:17:35.483Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:17:35.483Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:17:35.556Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:17:35.556Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:17:35.619Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:17:35.619Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:35.619Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:17:36.045Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:17:36.045Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:17:45.436Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:17:45.436Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.437Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.437Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:17:45.438Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:17:45.438Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.438Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.438Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:17:45.485Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:17:45.486Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.486Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.486Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:17:45.557Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:17:45.557Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.557Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.557Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:17:45.620Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:17:45.621Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.621Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:45.621Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:17:45.798Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:17:45.798Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:17:45.875Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:17:45.875Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:45.875Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:17:46.046Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:17:46.046Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:46.046Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:46.046Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:17:46.194Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:17:46.194Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:17:46.208Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:17:46.208Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:17:46.208Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:17:46.243Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:17:46.243Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:17:46.802Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:17:46.802Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:17:55.799Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:17:55.800Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:55.800Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:55.800Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:17:55.876Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:17:55.876Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:55.876Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:55.876Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:17:56.050Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:17:56.051Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:17:56.113Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:17:56.113Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:17:56.113Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:17:56.195Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:17:56.201Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.201Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.201Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:17:56.208Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:17:56.208Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.208Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.208Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:17:56.244Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:17:56.245Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.245Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.245Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:17:56.804Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:17:56.805Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.805Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:17:56.805Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:17:56.985Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:17:56.985Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:17:56.985Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:17:56.986Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:17:56.986Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:17:57.024Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:17:57.024Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:17:57.634Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:17:57.635Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:18:06.052Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:18:06.053Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.053Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.053Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:18:06.113Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:18:06.114Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.114Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.114Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:18:06.293Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:18:06.293Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:06.366Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:18:06.366Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:18:06.366Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:18:06.989Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:18:06.990Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.990Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.990Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:18:06.993Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:18:06.993Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.993Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:06.993Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:18:07.026Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:18:07.026Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:07.026Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:07.027Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:18:07.636Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:18:07.636Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:07.636Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:07.636Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:18:07.749Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:18:07.749Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:18:07.780Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:18:07.780Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:18:07.780Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:18:07.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:18:07.827Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:18:08.442Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:18:08.443Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:18:16.294Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:18:16.295Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.295Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.295Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:18:16.366Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:18:16.366Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.366Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.367Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:18:16.554Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:18:16.554Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:16.554Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:16.555Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.555Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.555Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T12:18:16.555Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","entryPoint":"learn_getFeaturedArticles","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"120s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T12:18:16.614Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:18:16.615Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:18:16.615Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:18:16.996Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles 200
[debug] [2025-05-14T12:18:16.997Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:16Z","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef"}}
[debug] [2025-05-14T12:18:16.997Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.997Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:16.997Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:17.247Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:17.247Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef"}}
[debug] [2025-05-14T12:18:17.247Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:17.749Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:17.749Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.749Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.749Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:17.751Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:18:17.751Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.751Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.751Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:18:17.783Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:18:17.783Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.783Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.783Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:18:17.828Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:18:17.829Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.829Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:17.829Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:18:18.009Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:18.009Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:18.009Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:18.445Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:18:18.450Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:18.451Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:18.451Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:18:18.498Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:18:18.498Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:18:18.544Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:18:18.544Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:18:18.545Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:18:18.588Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:18:18.589Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:18:19.010Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:19.010Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:19.010Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:19.010Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:19.268Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:18:19.269Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:18:19.269Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:19.269Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:19.269Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:21.269Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:21.270Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:21.270Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:21.270Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:21.508Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:21.508Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:21.508Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:25.509Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:25.509Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:25.509Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:25.509Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:25.748Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:25.748Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:25.748Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:26.557Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:18:26.557Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:26.557Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:26.557Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:18:26.617Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:18:26.618Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:26.618Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:26.618Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:18:26.802Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:18:26.802Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:26.802Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:26.872Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:18:26.872Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:15:05Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"}}
[debug] [2025-05-14T12:18:26.872Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[debug] [2025-05-14T12:18:28.500Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:18:28.500Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:28.500Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:28.500Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:18:28.547Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:18:28.548Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:28.548Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:28.548Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:18:28.590Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:18:28.591Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:28.591Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:28.591Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:18:29.271Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:18:29.275Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:29.275Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:29.276Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:18:29.291Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:18:29.291Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:18:29.305Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:18:29.305Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":false}
[debug] [2025-05-14T12:18:29.305Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:18:29.361Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:18:29.361Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:18:30.122Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:18:30.122Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTdjM2U2NGItYWU5NS00MzJhLThlYzAtMDlmZDU1OGFkZDYxElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCI+UksEGEIjp4ysyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:18:30.122Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTdjM2U2NGItYWU5NS00MzJhLThlYzAtMDlmZDU1OGFkZDYxElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCI+UksEGEIjp4ysyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:18:33.749Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:33.750Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:33.750Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:33.750Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:33.998Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:33.998Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:33.998Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:36.806Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T12:18:36.808Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:36.808Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:36.808Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ [none]
[debug] [2025-05-14T12:18:36.873Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T12:18:36.873Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:36.873Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:36.873Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c [none]
[debug] [2025-05-14T12:18:37.056Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ 200
[debug] [2025-05-14T12:18:37.056Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qcnNUODlYYUlLRQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.395Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:18:33Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:18:37.056Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[info] ✔  functions[processUploadedImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:18:37.123Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c 200
[debug] [2025-05-14T12:18:37.123Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvdDBhSk0zOHVPR2c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"70","updateTime":"2025-05-14T12:18:30Z","buildId":"89b07e39-884a-4779-930d-f1bc6858492e","sourceToken":"2259cb1e-13e3-401b-86c3-0517b70bbfe8","buildName":"projects/1013120896740/locations/us-central1/builds/89b07e39-884a-4779-930d-f1bc6858492e"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2025-05-14T12:18:37.123Z] Got source token 2259cb1e-13e3-401b-86c3-0517b70bbfe8 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2025-05-14T12:18:39.292Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:18:39.292Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:39.292Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:39.293Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:18:39.307Z] [create-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T12:18:39.307Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:39.307Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:39.307Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff [none]
[debug] [2025-05-14T12:18:39.362Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:18:39.362Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:39.362Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:39.362Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:18:40.059Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff 200
[debug] [2025-05-14T12:18:40.060Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905382-635177fd3fa6e-565b6b8d-032a34ff","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:05.897673197Z","endTime":"2025-05-14T12:18:37.384792076Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dbe7156-14e8-47d1-bef0-605a701df945?project=1013120896740"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2"}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:15:05.889619708Z","labels":{"firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","createTime":"2025-05-14T12:15:05.889619708Z","satisfiesPzi":true}}
[debug] [2025-05-14T12:18:40.060Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRiZTcxNTYtMTRlOC00N2QxLWJlZjAtNjA1YTcwMWRmOTQ1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwIzZOSwQYQ4O/O3gEyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:18:40.060Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:40.061Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:40.061Z] >>> [apiv2][query] POST https://run.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage:setIamPolicy [none]
[debug] [2025-05-14T12:18:40.061Z] >>> [apiv2][body] POST https://run.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage:setIamPolicy {"policy":{"bindings":[{"role":"roles/run.invoker","members":["allUsers"]}],"etag":"","version":3},"updateMask":"bindings,etag,version"}
[debug] [2025-05-14T12:18:40.064Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:18:40.064Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:18:40.122Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:18:40.122Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:40.122Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:40.122Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:18:40.125Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:18:40.125Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:18:40.887Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:18:40.887Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/17c3e64b-ae95-432a-8ec0-09fd558add61?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTdjM2U2NGItYWU5NS00MzJhLThlYzAtMDlmZDU1OGFkZDYxElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCI+UksEGEIjp4ysyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61"},"done":false}
[debug] [2025-05-14T12:18:40.887Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTdjM2U2NGItYWU5NS00MzJhLThlYzAtMDlmZDU1OGFkZDYxElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCI+UksEGEIjp4ysyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2025-05-14T12:18:41.002Z] <<< [apiv2][status] POST https://run.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage:setIamPolicy 200
[debug] [2025-05-14T12:18:41.002Z] <<< [apiv2][body] POST https://run.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage:setIamPolicy {"version":1,"etag":"BwY1F4ytlt4=","bindings":[{"role":"roles/run.invoker","members":["allUsers"]}]}
[info] ✔  functions[recognizeFoodFromImage(us-central1)] Successful create operation. 
[debug] [2025-05-14T12:18:43.999Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:44.000Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:44.000Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:44.000Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:44.230Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:44.230Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:17Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"}}
[debug] [2025-05-14T12:18:44.230Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[debug] [2025-05-14T12:18:50.065Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:18:50.065Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:50.065Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:50.065Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:18:50.127Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:18:50.127Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:50.127Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:50.127Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:18:50.838Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:18:50.838Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:18:50.889Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T12:18:50.890Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:50.890Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:50.890Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 [none]
[debug] [2025-05-14T12:18:50.913Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:18:50.914Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:18:51.731Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 200
[debug] [2025-05-14T12:18:51.731Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905383-635177fd3fedb-dbd283fb-17361b44","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.334526229Z","endTime":"2025-05-14T12:18:44.198881489Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747214543115679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00017-vaw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00018-pax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00018-pax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00018-pax%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-05-14T12:18:51.731Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00018-pax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00018-pax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00018-pax%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-05-14T12:18:54.232Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T12:18:54.233Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:54.234Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:18:54.234Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 [none]
[debug] [2025-05-14T12:18:54.480Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 200
[debug] [2025-05-14T12:18:54.480Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL2M2dDNFRERxS2g0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T09:23:35.419Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747226665&Signature=jluvZBQM3MMKwzI61u3%2BJfHkrN27rPAZ4vzUssmm7K5%2BZUxSIKTtINQ1BVtUMbHtYa1Q61z2DoQKeUlpgbl5KgFy%2Fi89hHyy%2Bxx2hByyepnwg%2BUahXpPW9NOqG6xjPexPFzPH1WkZrSl9vwaLI3mDlCyUIqIwV4l63cXqCzsOA%2FmY9AbSMMl2xZ%2FjDi%2B06amKGUwLYAa%2FIzE4FshS8MwgXzXXo7%2Bk01qAIjzrwnPD7mxoYaK95MRuBP9YoQP73B5GfiAIFo9rZSSocZKULKltBI1NcJZYg70gLhVu1bAw2QzjdpEyqavHyztubdKUQoPNwvwFe%2BI2AYKZpQXJBB3uQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","buildId":"f97715b3-f8ed-45e3-9a28-0eceaf8493f2","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/f97715b3-f8ed-45e3-9a28-0eceaf8493f2","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T12:18:49Z","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","sourceToken":"82399274-cf2e-4a4c-b23b-a7b747d371ef","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T12:18:54.481Z] Got source token 82399274-cf2e-4a4c-b23b-a7b747d371ef for region us-central1
[info] ✔  functions[learn_getFeaturedArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:19:00.839Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:19:00.840Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:00.840Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:00.840Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:19:00.920Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:19:00.920Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:00.920Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:00.921Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:19:01.610Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:19:01.611Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:19:01.684Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:19:01.684Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:11.612Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:19:11.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:11.613Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:11.613Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:19:11.684Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:19:11.685Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:11.685Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:11.685Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:19:12.395Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:19:12.395Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:19:12.449Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:19:12.449Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:22.396Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:19:22.396Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:22.396Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:22.396Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:19:22.449Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:19:22.450Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:22.450Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:22.450Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:19:23.147Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:19:23.148Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZmQ5ZjRhOWEtNTVhNy00NTVkLWFkYjQtNWFkMDA0YzBlMzk2Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAjAlJLBBhC4muOsAjIIbm9kZWpzMjA6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMjBAAQ==","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":false}
[debug] [2025-05-14T12:19:23.148Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZmQ5ZjRhOWEtNTVhNy00NTVkLWFkYjQtNWFkMDA0YzBlMzk2Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAjAlJLBBhC4muOsAjIIbm9kZWpzMjA6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMjBAAQ== for region us-central1
[debug] [2025-05-14T12:19:23.243Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:19:23.243Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1f27a322-944d-469b-b304-ee3a33bcd4e6?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:23.243Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:23.243Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:23.243Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:23.243Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:23.243Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:23.243Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T12:19:23.244Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails {"name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB"},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"}}
[debug] [2025-05-14T12:19:23.245Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T12:19:23.245Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions {"name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"4a74bcfc-cd96-47d9-87ba-09facb2cc07b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB"},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"}}
[debug] [2025-05-14T12:19:24.419Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails 200
[debug] [2025-05-14T12:19:24.420Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.368891713Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T12:19:24.420Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:24.420Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:24.420Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a [none]
[debug] [2025-05-14T12:19:24.741Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions 200
[debug] [2025-05-14T12:19:24.741Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T12:19:24.741Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:24.741Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:24.741Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 [none]
[debug] [2025-05-14T12:19:25.233Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a 200
[debug] [2025-05-14T12:19:25.233Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.368891713Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00013-zug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:25.233Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:25.539Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 200
[debug] [2025-05-14T12:19:25.539Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:25.539Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:25.734Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T12:19:25.735Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:25.735Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:25.735Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a [none]
[debug] [2025-05-14T12:19:26.041Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T12:19:26.042Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:26.042Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:26.042Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 [none]
[debug] [2025-05-14T12:19:26.506Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a 200
[debug] [2025-05-14T12:19:26.506Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.368891713Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00013-zug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:26.506Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:26.801Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 200
[debug] [2025-05-14T12:19:26.802Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:26.802Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:27.507Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T12:19:27.508Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:27.508Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:27.509Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a [none]
[debug] [2025-05-14T12:19:27.802Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T12:19:27.803Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:27.803Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:27.803Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 [none]
[debug] [2025-05-14T12:19:28.287Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a 200
[debug] [2025-05-14T12:19:28.288Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.368891713Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00013-zug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:28.288Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:28.598Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 200
[debug] [2025-05-14T12:19:28.598Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:28.598Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:30.291Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T12:19:30.292Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:30.293Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:30.293Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a [none]
[debug] [2025-05-14T12:19:30.598Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T12:19:30.599Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:30.599Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:30.599Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 [none]
[debug] [2025-05-14T12:19:31.154Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a 200
[debug] [2025-05-14T12:19:31.155Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.368891713Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00013-zug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:31.157Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:31.366Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 200
[debug] [2025-05-14T12:19:31.366Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:31.366Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:33.149Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T12:19:33.150Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:33.150Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:33.151Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e [none]
[debug] [2025-05-14T12:19:33.244Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T12:19:33.245Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:33.245Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:33.245Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 [none]
[debug] [2025-05-14T12:19:33.927Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e 200
[debug] [2025-05-14T12:19:33.928Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905384-635177fd40245-b59dc3cd-0a5c1f4e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.336195660Z","endTime":"2025-05-14T12:19:25.341673484Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747218144902947"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00130-heg","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fd9f4a9a-55a7-455d-adb4-5ad004c0e396?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZmQ5ZjRhOWEtNTVhNy00NTVkLWFkYjQtNWFkMDA0YzBlMzk2Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAjAlJLBBhC4muOsAjIIbm9kZWpzMjA6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMjBAAQ==","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:15:06.338525010Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","createTime":"2025-04-29T18:50:11.173073206Z","satisfiesPzi":true}}
[debug] [2025-05-14T12:19:33.928Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZmQ5ZjRhOWEtNTVhNy00NTVkLWFkYjQtNWFkMDA0YzBlMzk2Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAjAlJLBBhC4muOsAjIIbm9kZWpzMjA6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMyMDpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMjBAAQ== for region us-central1
[info] ✔  functions[analyzeFoodImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:19:34.010Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 200
[debug] [2025-05-14T12:19:34.010Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747224905360-635177fd3a398-ff58e9be-226094f3","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:15:06.340776440Z","endTime":"2025-05-14T12:19:30.668886736Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747089009046782"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00013-miv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service searchfatsecretnutrition, Container Healthcheck failed. Revision 'searchfatsecretnutrition-00014-law' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/searchfatsecretnutrition/revision_name/searchfatsecretnutrition-00014-law&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22searchfatsecretnutrition%22%0Aresource.labels.revision_name%3D%22searchfatsecretnutrition-00014-law%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-05-14T12:19:34.011Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service searchfatsecretnutrition, Container Healthcheck failed. Revision 'searchfatsecretnutrition-00014-law' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/searchfatsecretnutrition/revision_name/searchfatsecretnutrition-00014-law&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22searchfatsecretnutrition%22%0Aresource.labels.revision_name%3D%22searchfatsecretnutrition-00014-law%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-05-14T12:19:35.158Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T12:19:35.159Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:35.159Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:35.159Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a [none]
[debug] [2025-05-14T12:19:35.368Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T12:19:35.369Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:35.369Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:35.369Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 [none]
[debug] [2025-05-14T12:19:35.918Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a 200
[debug] [2025-05-14T12:19:35.918Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225163465-635178f3602ed-8546f53b-01b68b6a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.368891713Z","endTime":"2025-05-14T12:19:35.612634715Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747089009047328"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00013-zug","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:19:24.372210393Z","labels":{"deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","createTime":"2025-05-08T10:58:46.248832509Z","satisfiesPzi":true}}
[debug] [2025-05-14T12:19:35.920Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[info] ✔  functions[getFatSecretFoodDetails(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:19:36.156Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 200
[debug] [2025-05-14T12:19:36.156Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":false}
[debug] [2025-05-14T12:19:36.156Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[debug] [2025-05-14T12:19:44.158Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T12:19:44.159Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:44.160Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:44.160Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 [none]
[debug] [2025-05-14T12:19:44.943Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 200
[debug] [2025-05-14T12:19:44.943Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747225164009-635178f3e4e7d-73c13f4b-17d817d5","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T12:19:24.687418524Z","endTime":"2025-05-14T12:19:42.113384475Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747088943820062"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00001-xap","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:19:24.689321724Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","createTime":"2025-05-12T22:29:04.222209961Z","satisfiesPzi":true}}
[debug] [2025-05-14T12:19:44.943Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWYyN2EzMjItOTQ0ZC00NjliLWIzMDQtZWUzYTMzYmNkNGU2EnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCMGUksEGEIC3+ZECMghub2RlanMyMDp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczIwOnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMyMEAB for region us-central1
[info] ✔  functions[getAutocompleteSuggestions(us-central1)] Successful update operation. 
[debug] [2025-05-14T12:19:44.963Z] Total Function Deployment time: 280337
[debug] [2025-05-14T12:19:44.963Z] 17 Functions Deployed
[debug] [2025-05-14T12:19:44.963Z] 5 Functions Errored
[debug] [2025-05-14T12:19:44.963Z] 0 Function Deployments Aborted
[debug] [2025-05-14T12:19:44.963Z] Average Function Deployment time: 178253.58823529413
[info] 
[info] Functions deploy had errors with the following functions:
	app(us-central1)
	searchFatSecretNutrition(us-central1)
	getUploadUrl(us-central1)
	getUserProfile(us-central1)
	updateUserProfile(us-central1)
[debug] [2025-05-14T12:19:45.116Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2025-05-14T12:19:45.117Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.117Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.117Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.118Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.119Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile [none]
[debug] [2025-05-14T12:19:45.120Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile [none]
[debug] [2025-05-14T12:19:45.120Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile [none]
[debug] [2025-05-14T12:19:45.121Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url [none]
[debug] [2025-05-14T12:19:45.121Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image [none]
[debug] [2025-05-14T12:19:45.122Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image [none]
[debug] [2025-05-14T12:19:45.122Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug [none]
[debug] [2025-05-14T12:19:45.122Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category [none]
[debug] [2025-05-14T12:19:45.123Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories [none]
[debug] [2025-05-14T12:19:45.123Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles [none]
[debug] [2025-05-14T12:19:45.124Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles [none]
[debug] [2025-05-14T12:19:45.124Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles [none]
[debug] [2025-05-14T12:19:45.125Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition [none]
[debug] [2025-05-14T12:19:45.125Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details [none]
[debug] [2025-05-14T12:19:45.126Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions [none]
[debug] [2025-05-14T12:19:45.126Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image [none]
[debug] [2025-05-14T12:19:45.126Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app [none]
[debug] [2025-05-14T12:19:45.127Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T12:19:45.754Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T12:19:45.754Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T12:19:45.755Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T12:19:45.757Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.757Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.758Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T12:19:45.922Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile 404
[debug] [2025-05-14T12:19:45.922Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.923Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile 404
[debug] [2025-05-14T12:19:45.923Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.932Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug 200
[debug] [2025-05-14T12:19:45.932Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug {"name":"projects/nutrisnap2/locations/us-central1/operations/6d094cd1-63ea-45e2-828a-f4d74d9b9925","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.932Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.932Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.933Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6d094cd1-63ea-45e2-828a-f4d74d9b9925 [none]
[debug] [2025-05-14T12:19:45.942Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image 200
[debug] [2025-05-14T12:19:45.942Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image {"name":"projects/nutrisnap2/locations/us-central1/operations/dfa4d138-2e6c-49ae-b05d-da858118e243","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.942Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.942Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.942Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/dfa4d138-2e6c-49ae-b05d-da858118e243 [none]
[debug] [2025-05-14T12:19:45.945Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition 200
[debug] [2025-05-14T12:19:45.945Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition {"name":"projects/nutrisnap2/locations/us-central1/operations/273f519c-0d4c-4360-bf1e-44188651698b","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.945Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.945Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.945Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/273f519c-0d4c-4360-bf1e-44188651698b [none]
[debug] [2025-05-14T12:19:45.951Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url 200
[debug] [2025-05-14T12:19:45.952Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url {"name":"projects/nutrisnap2/locations/us-central1/operations/bf171f9b-8b57-4305-ab71-d7c98bd36e10","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.952Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.952Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.952Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/bf171f9b-8b57-4305-ab71-d7c98bd36e10 [none]
[debug] [2025-05-14T12:19:45.955Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category 404
[debug] [2025-05-14T12:19:45.955Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.955Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles 404
[debug] [2025-05-14T12:19:45.955Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.956Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles 404
[debug] [2025-05-14T12:19:45.956Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.956Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details 404
[debug] [2025-05-14T12:19:45.956Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.958Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image 200
[debug] [2025-05-14T12:19:45.958Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image {"name":"projects/nutrisnap2/locations/us-central1/operations/5dc746f3-42dd-456f-ba3b-fe6f01ca4132","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.959Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.959Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.959Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/5dc746f3-42dd-456f-ba3b-fe6f01ca4132 [none]
[debug] [2025-05-14T12:19:45.960Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app 200
[debug] [2025-05-14T12:19:45.960Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app {"name":"projects/nutrisnap2/locations/us-central1/operations/4d69a745-b6a6-4f43-97a7-c57927816a09","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.960Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.960Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.960Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/4d69a745-b6a6-4f43-97a7-c57927816a09 [none]
[debug] [2025-05-14T12:19:45.962Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image 200
[debug] [2025-05-14T12:19:45.962Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image {"name":"projects/nutrisnap2/locations/us-central1/operations/40c1e4a0-0ea2-45f3-9da8-0e5b7ec3f7b9","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.962Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.962Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.963Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/40c1e4a0-0ea2-45f3-9da8-0e5b7ec3f7b9 [none]
[debug] [2025-05-14T12:19:45.965Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile 200
[debug] [2025-05-14T12:19:45.965Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile {"name":"projects/nutrisnap2/locations/us-central1/operations/74b79712-2f2e-4df7-8b78-cadeac2e3263","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T12:19:45.965Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.965Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:45.965Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/74b79712-2f2e-4df7-8b78-cadeac2e3263 [none]
[debug] [2025-05-14T12:19:45.968Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles 404
[debug] [2025-05-14T12:19:45.968Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:45.987Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions 404
[debug] [2025-05-14T12:19:45.987Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:46.055Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T12:19:46.055Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T12:19:46.055Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T12:19:46.061Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories 404
[debug] [2025-05-14T12:19:46.061Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T12:19:46.156Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:46.156Z] Checked if tokens are valid: true, expires at: 1747226444829
[debug] [2025-05-14T12:19:46.156Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T12:19:46.463Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T12:19:46.463Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T12:19:46.463Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T12:19:46.712Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6d094cd1-63ea-45e2-828a-f4d74d9b9925 200
[debug] [2025-05-14T12:19:46.712Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6d094cd1-63ea-45e2-828a-f4d74d9b9925 {"name":"projects/nutrisnap2/locations/us-central1/operations/6d094cd1-63ea-45e2-828a-f4d74d9b9925","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:46.746Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/40c1e4a0-0ea2-45f3-9da8-0e5b7ec3f7b9 200
[debug] [2025-05-14T12:19:46.746Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/40c1e4a0-0ea2-45f3-9da8-0e5b7ec3f7b9 {"name":"projects/nutrisnap2/locations/us-central1/operations/40c1e4a0-0ea2-45f3-9da8-0e5b7ec3f7b9","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:46.750Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/bf171f9b-8b57-4305-ab71-d7c98bd36e10 200
[debug] [2025-05-14T12:19:46.751Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/bf171f9b-8b57-4305-ab71-d7c98bd36e10 {"name":"projects/nutrisnap2/locations/us-central1/operations/bf171f9b-8b57-4305-ab71-d7c98bd36e10","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:46.779Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/5dc746f3-42dd-456f-ba3b-fe6f01ca4132 200
[debug] [2025-05-14T12:19:46.779Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/5dc746f3-42dd-456f-ba3b-fe6f01ca4132 {"name":"projects/nutrisnap2/locations/us-central1/operations/5dc746f3-42dd-456f-ba3b-fe6f01ca4132","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:46.787Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/4d69a745-b6a6-4f43-97a7-c57927816a09 200
[debug] [2025-05-14T12:19:46.787Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/4d69a745-b6a6-4f43-97a7-c57927816a09 {"name":"projects/nutrisnap2/locations/us-central1/operations/4d69a745-b6a6-4f43-97a7-c57927816a09","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:46.794Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/dfa4d138-2e6c-49ae-b05d-da858118e243 200
[debug] [2025-05-14T12:19:46.795Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/dfa4d138-2e6c-49ae-b05d-da858118e243 {"name":"projects/nutrisnap2/locations/us-central1/operations/dfa4d138-2e6c-49ae-b05d-da858118e243","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:47.126Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/273f519c-0d4c-4360-bf1e-44188651698b 200
[debug] [2025-05-14T12:19:47.126Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/273f519c-0d4c-4360-bf1e-44188651698b {"name":"projects/nutrisnap2/locations/us-central1/operations/273f519c-0d4c-4360-bf1e-44188651698b","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T12:19:47.193Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/74b79712-2f2e-4df7-8b78-cadeac2e3263 200
[debug] [2025-05-14T12:19:47.193Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/74b79712-2f2e-4df7-8b78-cadeac2e3263 {"name":"projects/nutrisnap2/locations/us-central1/operations/74b79712-2f2e-4df7-8b78-cadeac2e3263","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/nutrisnap2/us/gcf 
[debug] [2025-05-14T12:19:47.196Z] Functions deploy failed.
[debug] [2025-05-14T12:19:47.196Z] {
  "endpoint": {
    "id": "getUploadUrl",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "getUploadUrl",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": 256,
    "serviceAccount": null,
    "timeoutSeconds": 60,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "06cb20c55c01feb5698296d007702706c2efca02"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T12:19:47.196Z] {
  "endpoint": {
    "id": "app",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "app",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "serviceAccount": null,
    "timeoutSeconds": 120,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/services/app"
    },
    "codebase": "default",
    "runServiceId": "app",
    "availableMemoryMb": 256,
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "f6ada4840e0ba459cd77d8e5e35c6008f247799c"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00018-pax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00018-pax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00018-pax%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00018-pax' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00018-pax&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00018-pax%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T12:19:47.196Z] {
  "endpoint": {
    "id": "getUserProfile",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "getUserProfile",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/functions/getUserProfile"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "06cb20c55c01feb5698296d007702706c2efca02"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T12:19:47.196Z] {
  "endpoint": {
    "id": "updateUserProfile",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "updateUserProfile",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "06cb20c55c01feb5698296d007702706c2efca02"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T12:19:47.196Z] {
  "endpoint": {
    "id": "searchFatSecretNutrition",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "searchFatSecretNutrition",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition"
    },
    "codebase": "default",
    "runServiceId": "searchfatsecretnutrition",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "f6ada4840e0ba459cd77d8e5e35c6008f247799c"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service searchfatsecretnutrition, Container Healthcheck failed. Revision 'searchfatsecretnutrition-00014-law' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/searchfatsecretnutrition/revision_name/searchfatsecretnutrition-00014-law&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22searchfatsecretnutrition%22%0Aresource.labels.revision_name%3D%22searchfatsecretnutrition-00014-law%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service searchfatsecretnutrition, Container Healthcheck failed. Revision 'searchfatsecretnutrition-00014-law' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/searchfatsecretnutrition/revision_name/searchfatsecretnutrition-00014-law&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22searchfatsecretnutrition%22%0Aresource.labels.revision_name%3D%22searchfatsecretnutrition-00014-law%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function getUploadUrl in region us-central1
[error] - Error Failed to update function app in region us-central1
[error] - Error Failed to update function getUserProfile in region us-central1
[error] - Error Failed to update function updateUserProfile in region us-central1
[error] - Error Failed to update function searchFatSecretNutrition in region us-central1
[debug] [2025-05-14T14:47:38.870Z] ----------------------------------------------------------------------
[debug] [2025-05-14T14:47:38.871Z] Command:       /Users/arnauddecube/.nvm/versions/node/v18.20.8/bin/node /Users/arnauddecube/.nvm/versions/node/v18.20.8/bin/firebase deploy --only functions --project nutrisnap2
[debug] [2025-05-14T14:47:38.871Z] CLI Version:   13.35.1
[debug] [2025-05-14T14:47:38.871Z] Platform:      darwin
[debug] [2025-05-14T14:47:38.871Z] Node Version:  v18.20.8
[debug] [2025-05-14T14:47:38.872Z] Time:          Wed May 14 2025 15:47:38 GMT+0100 (British Summer Time)
[debug] [2025-05-14T14:47:38.872Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-14T14:47:38.972Z] Object "/functions" in "firebase.json" has unknown property: {"additionalProperty":"v1"}
[debug] [2025-05-14T14:47:38.973Z] Field "/functions" in "firebase.json" is possibly invalid: must be array
[debug] [2025-05-14T14:47:38.973Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-14T14:47:38.975Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-14T14:47:38.975Z] > authorizing via signed-in user (sleepyarno@gmail.com)
[debug] [2025-05-14T14:47:38.975Z] [iam] checking project nutrisnap2 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-14T14:47:38.976Z] Checked if tokens are valid: false, expires at: 1747226444829
[debug] [2025-05-14T14:47:38.976Z] Checked if tokens are valid: false, expires at: 1747226444829
[debug] [2025-05-14T14:47:38.976Z] > refreshing access token with scopes: []
[debug] [2025-05-14T14:47:38.977Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-05-14T14:47:38.977Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-05-14T14:47:39.127Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-05-14T14:47:39.127Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-05-14T14:47:39.145Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions [none]
[debug] [2025-05-14T14:47:39.145Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:39.146Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-14T14:47:39.393Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions 200
[debug] [2025-05-14T14:47:39.393Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-14T14:47:39.394Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:39.394Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:39.394Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-14T14:47:39.394Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-14T14:47:40.173Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-14T14:47:40.173Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'nutrisnap2'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2025-05-14T14:47:40.885Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:40.885Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:40.886Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 [none]
[debug] [2025-05-14T14:47:41.629Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 200
[debug] [2025-05-14T14:47:41.630Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 {"projectNumber":"1013120896740","projectId":"nutrisnap2","lifecycleState":"ACTIVE","name":"NutriSnap2","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-24T21:36:33.778282Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:41.631Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:41.631Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:41.632Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:41.632Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:41.632Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:41.632Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:41.632Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:41.632Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:41.633Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-14T14:47:41.633Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:41.634Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-14T14:47:41.634Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:41.635Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-14T14:47:41.636Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:41.637Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-14T14:47:41.637Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:42.490Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com 200
[debug] [2025-05-14T14:47:42.490Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-14T14:47:42.491Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com 200
[debug] [2025-05-14T14:47:42.491Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-14T14:47:42.498Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-14T14:47:42.498Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-14T14:47:42.566Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-14T14:47:42.566Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-14T14:47:42.566Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:42.566Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:42.566Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig [none]
[debug] [2025-05-14T14:47:43.051Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig 200
[debug] [2025-05-14T14:47:43.051Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig {"projectId":"nutrisnap2","storageBucket":"nutrisnap2.firebasestorage.app"}
[debug] [2025-05-14T14:47:43.051Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.051Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.051Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs [none]
[debug] [2025-05-14T14:47:43.444Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs 200
[debug] [2025-05-14T14:47:43.444Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs {"configs":[{"name":"projects/nutrisnap2/configs/limits"},{"name":"projects/nutrisnap2/configs/openai"},{"name":"projects/nutrisnap2/configs/usda"},{"name":"projects/nutrisnap2/configs/app"},{"name":"projects/nutrisnap2/configs/fatsecret"},{"name":"projects/nutrisnap2/configs/functions"}]}
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.445Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables [none]
[debug] [2025-05-14T14:47:43.447Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables [none]
[debug] [2025-05-14T14:47:43.449Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables [none]
[debug] [2025-05-14T14:47:43.450Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables [none]
[debug] [2025-05-14T14:47:43.451Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables [none]
[debug] [2025-05-14T14:47:43.452Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables [none]
[debug] [2025-05-14T14:47:43.724Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables 200
[debug] [2025-05-14T14:47:43.724Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables {"variables":[{"name":"projects/nutrisnap2/configs/limits/variables/memory","updateTime":"2025-05-07T14:54:23.507015005Z"}]}
[debug] [2025-05-14T14:47:43.725Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.725Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.725Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory [none]
[debug] [2025-05-14T14:47:43.727Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables 200
[debug] [2025-05-14T14:47:43.727Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables {"variables":[{"name":"projects/nutrisnap2/configs/openai/variables/model","updateTime":"2025-05-06T13:31:00.645406310Z"},{"name":"projects/nutrisnap2/configs/openai/variables/api_key","updateTime":"2025-05-06T13:27:19.488607311Z"}]}
[debug] [2025-05-14T14:47:43.727Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.727Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.727Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.727Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.727Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model [none]
[debug] [2025-05-14T14:47:43.729Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key [none]
[debug] [2025-05-14T14:47:43.734Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables 200
[debug] [2025-05-14T14:47:43.734Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables {"variables":[{"name":"projects/nutrisnap2/configs/usda/variables/api_key","updateTime":"2025-05-02T21:46:46.257370799Z"}]}
[debug] [2025-05-14T14:47:43.734Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.734Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.734Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key [none]
[debug] [2025-05-14T14:47:43.742Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables 200
[debug] [2025-05-14T14:47:43.742Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables {"variables":[{"name":"projects/nutrisnap2/configs/app/variables/enable_llm_enhancement","updateTime":"2025-05-06T13:27:35.731388673Z"},{"name":"projects/nutrisnap2/configs/app/variables/enable_usda","updateTime":"2025-05-06T15:09:39.755522370Z"}]}
[debug] [2025-05-14T14:47:43.742Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.742Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.742Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.742Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.742Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement [none]
[debug] [2025-05-14T14:47:43.744Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda [none]
[debug] [2025-05-14T14:47:43.746Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables 200
[debug] [2025-05-14T14:47:43.746Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables {"variables":[{"name":"projects/nutrisnap2/configs/functions/variables/memory","updateTime":"2025-05-06T15:06:10.989702191Z"}]}
[debug] [2025-05-14T14:47:43.746Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.746Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.746Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory [none]
[debug] [2025-05-14T14:47:43.837Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables 200
[debug] [2025-05-14T14:47:43.837Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables {"variables":[{"name":"projects/nutrisnap2/configs/fatsecret/variables/client_id","updateTime":"2025-05-08T09:44:44.853619324Z"},{"name":"projects/nutrisnap2/configs/fatsecret/variables/client_secret","updateTime":"2025-05-08T09:44:44.295776096Z"}]}
[debug] [2025-05-14T14:47:43.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:43.837Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id [none]
[debug] [2025-05-14T14:47:43.839Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret [none]
[debug] [2025-05-14T14:47:44.004Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key 200
[debug] [2025-05-14T14:47:44.004Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key {"name":"projects/nutrisnap2/configs/usda/variables/api_key","updateTime":"2025-05-02T21:46:46.257370799Z","text":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh"}
[debug] [2025-05-14T14:47:44.005Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model 200
[debug] [2025-05-14T14:47:44.005Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model {"name":"projects/nutrisnap2/configs/openai/variables/model","updateTime":"2025-05-06T13:31:00.645406310Z","text":"gpt-4o"}
[debug] [2025-05-14T14:47:44.007Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement 200
[debug] [2025-05-14T14:47:44.007Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement {"name":"projects/nutrisnap2/configs/app/variables/enable_llm_enhancement","updateTime":"2025-05-06T13:27:35.731388673Z","text":"true"}
[debug] [2025-05-14T14:47:44.098Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id 200
[debug] [2025-05-14T14:47:44.098Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id {"name":"projects/nutrisnap2/configs/fatsecret/variables/client_id","updateTime":"2025-05-08T09:44:44.853619324Z","text":"085c514845bd4626ac4591e21dc09713"}
[debug] [2025-05-14T14:47:44.114Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key 200
[debug] [2025-05-14T14:47:44.114Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key {"name":"projects/nutrisnap2/configs/openai/variables/api_key","updateTime":"2025-05-06T13:27:19.488607311Z","text":"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"}
[debug] [2025-05-14T14:47:44.162Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda 200
[debug] [2025-05-14T14:47:44.163Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda {"name":"projects/nutrisnap2/configs/app/variables/enable_usda","updateTime":"2025-05-06T15:09:39.755522370Z","text":"true"}
[debug] [2025-05-14T14:47:44.538Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory 200
[debug] [2025-05-14T14:47:44.538Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory {"name":"projects/nutrisnap2/configs/functions/variables/memory","updateTime":"2025-05-06T15:06:10.989702191Z","text":"512MB"}
[debug] [2025-05-14T14:47:44.539Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory 200
[debug] [2025-05-14T14:47:44.539Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory {"name":"projects/nutrisnap2/configs/limits/variables/memory","updateTime":"2025-05-07T14:54:23.507015005Z","text":"512MB"}
[debug] [2025-05-14T14:47:44.660Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret 200
[debug] [2025-05-14T14:47:44.660Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret {"name":"projects/nutrisnap2/configs/fatsecret/variables/client_secret","updateTime":"2025-05-08T09:44:44.295776096Z","text":"afb99cbdc7bd4c798e3255640ec1fd9c"}
[debug] [2025-05-14T14:47:44.662Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-31, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-05-14T14:47:45.105Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for NutriSnap",
  "scripts": {
    "test": "jest",
    "lint": "eslint src/*.js src/**/*.js --ignore-pattern src/food/detection.js",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "type": "commonjs",
  "dependencies": {
    "@google-cloud/aiplatform": "^3.4.0",
    "@google-cloud/secret-manager": "^6.0.1",
    "@google-cloud/vision": "^5.1.0",
    "dotenv": "^16.4.0",
    "firebase-admin": "^13.3.0",
    "firebase-functions": "^6.3.2",
    "node-fetch": "^2.7.0",
    "openai": "^4.41.0",
    "sharp": "^0.34.1",
    "uuid": "^11.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-config-prettier": "^10.1.5",
    "firebase-functions-test": "^3.4.1",
    "jest": "^29.7.0",
    "prettier": "^3.5.3",
    "supertest": "^7.1.0"
  },
  "private": true
}
[debug] [2025-05-14T14:47:45.105Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-14T14:47:45.106Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-14T14:47:45.110Z] Found firebase-functions binary at '/Users/arnauddecube/MANUS/NutriSnap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8122

[debug] [2025-05-14T14:47:46.272Z] Got response from /__/functions.yaml {"endpoints":{"createUserProfile":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/nutrisnap2"},"retry":false},"labels":{},"entryPoint":"createUserProfile"},"updateUserProfile":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateUserProfile"},"getUserProfile":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getUserProfile"},"getUploadUrl":{"platform":"gcfv1","labels":{},"availableMemoryMb":256,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getUploadUrl"},"processUploadedImage":{"platform":"gcfv1","availableMemoryMb":512,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/nutrisnap2.firebasestorage.app"},"retry":false},"labels":{},"entryPoint":"processUploadedImage"},"analyzeFoodImage":{"availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"analyzeFoodImage"},"learn_getKnowledgeArticleBySlug":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getKnowledgeArticleBySlug"},"learn_listKnowledgeArticlesByCategory":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_listKnowledgeArticlesByCategory"},"learn_listKnowledgeCategories":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_listKnowledgeCategories"},"learn_getFeaturedArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":512,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getFeaturedArticles"},"learn_searchKnowledgeArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_searchKnowledgeArticles"},"learn_getLatestArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getLatestArticles"},"searchFatSecretNutrition":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"searchFatSecretNutrition"},"getFatSecretFoodDetails":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getFatSecretFoodDetails"},"getAutocompleteSuggestions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getAutocompleteSuggestions"},"recognizeFoodFromImage":{"availableMemoryMb":512,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"recognizeFoodFromImage"},"app":{"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:46.292Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:46.292Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:46.292Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-14T14:47:46.292Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:47.150Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-14T14:47:47.151Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-14T14:47:47.151Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-14T14:47:47.151Z] > authorizing via signed-in user (sleepyarno@gmail.com)
[debug] [2025-05-14T14:47:47.151Z] [iam] checking project nutrisnap2 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-14T14:47:47.151Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:47.151Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:47.151Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions [none]
[debug] [2025-05-14T14:47:47.151Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:47.151Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-14T14:47:47.811Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions 200
[debug] [2025-05-14T14:47:47.811Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-14T14:47:47.812Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:47.812Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:47.813Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances pageSize=100&pageToken=
[debug] [2025-05-14T14:47:48.601Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances 200
[debug] [2025-05-14T14:47:48.602Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/arnauddecube/MANUS/NutriSnap/functions (790.05 KB) for uploading 
[info] i  functions: packaged /Users/arnauddecube/MANUS/NutriSnap/functions (790.6 KB) for uploading 
[debug] [2025-05-14T14:47:48.917Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:48.917Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:48.917Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions [none]
[debug] [2025-05-14T14:47:49.682Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions 200
[debug] [2025-05-14T14:47:49.683Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions {"functions":[{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getKnowledgeArticleBySlug","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:11.135916293Z","versionId":"1","labels":{"firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getKnowledgeArticleBySlug"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_listKnowledgeCategories","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.691287150Z","versionId":"1","labels":{"firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeCategories"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getFeaturedArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:17.302860315Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getFeaturedArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getLatestArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.635660746Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getLatestArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_searchKnowledgeArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.415085157Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_searchKnowledgeArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-callable":"true","firebase-functions-hash":"1ec381321ce8ab81925a03df04b5c8033c379f54","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/8690103f-9a35-4193-8b38-f922c76bf3a9.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_listKnowledgeArticlesByCategory","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:15.140535757Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-05-14T14:47:49.685Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:49.685Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:49.686Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-14T14:47:50.860Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions 200
[debug] [2025-05-14T14:47:50.861Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions {"functions":[{"name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","runtime":"nodejs20","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747224906271344"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:19:30.681905757Z","labels":{"firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","createTime":"2025-05-08T10:56:47.287289138Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/fd9f4a9a-55a7-455d-adb4-5ad004c0e396","runtime":"nodejs20","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:19:25.452947671Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","createTime":"2025-04-29T18:50:11.173073206Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnv2_getFeaturedArticles","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/ef48cf36-f724-43a1-a3ce-89af78899db7","runtime":"nodejs22","entryPoint":"learnv2_getFeaturedArticles","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"learnv2_getFeaturedArticles/function-source.zip","generation":"1747046953355584"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"learnv2_getFeaturedArticles/function-source.zip","generation":"1747046953355584"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/learnv2-getfeaturedarticles","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/learnv2_getFeaturedArticles","FUNCTION_TARGET":"learnv2_getFeaturedArticles","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://learnv2-getfeaturedarticles-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"learnv2-getfeaturedarticles-00001-gum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-12T10:51:23.680803617Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-codebase":"learn","firebase-functions-hash":"e640a827f46c30d7e0cbf3662ebadac1e882e810"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnv2_getFeaturedArticles","createTime":"2025-05-12T10:49:13.627795525Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/fatsecretApi","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/c6e840bf-f421-4b96-9048-95d83936dcad","runtime":"nodejs20","entryPoint":"fatsecretApi","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"fatsecretApi/function-source.zip","generation":"1746797893912556"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"fatsecretApi/function-source.zip","generation":"1746797893912556"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-05-09T13:41:12.036106520Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0eb572bdd785984b29d84596b7bc393f752f78a4"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/nutrisnap2/locations/us-central1/services/fatsecretapi for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/fatsecretApi","createTime":"2025-05-09T13:38:14.126086322Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","runtime":"nodejs20","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:19:35.729313277Z","labels":{"deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","createTime":"2025-05-08T10:58:46.248832509Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/8dbe7156-14e8-47d1-bef0-605a701df945","runtime":"nodejs20","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:18:37.506670539Z","labels":{"firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","createTime":"2025-05-14T12:15:05.889619708Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getGlucoseCurve","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/852387a7-5b41-43d3-8365-985dacbe13be","runtime":"nodejs20","entryPoint":"getGlucoseCurve","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getGlucoseCurve/function-source.zip","generation":"1746797894323470"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getGlucoseCurve/function-source.zip","generation":"1746797894323470"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getglucosecurve","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getGlucoseCurve","FUNCTION_TARGET":"getGlucoseCurve","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getglucosecurve-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"getglucosecurve-00037-cub","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-09T13:40:36.522738644Z","labels":{"deployment-callable":"true","firebase-functions-hash":"0eb572bdd785984b29d84596b7bc393f752f78a4","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getGlucoseCurve","createTime":"2025-05-06T21:31:40.525790640Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/1f27a322-944d-469b-b304-ee3a33bcd4e6","runtime":"nodejs20","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:19:42.212371088Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","createTime":"2025-05-12T22:29:04.222209961Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getFoodScanResult","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/54c52efe-9ccd-4fe3-8df0-418ba124ba58","runtime":"nodejs20","entryPoint":"getFoodScanResult","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFoodScanResult/function-source.zip","generation":"1747212172320117"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFoodScanResult/function-source.zip","generation":"1747212172320117"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfoodscanresult","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFoodScanResult","FUNCTION_TARGET":"getFoodScanResult","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfoodscanresult-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"getfoodscanresult-00015-soc","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T08:45:36.500957376Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"477bb539aca0add0e7096e9112b11ce35c4a9186"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFoodScanResult","createTime":"2025-05-08T13:12:36.712994893Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/17c3e64b-ae95-432a-8ec0-09fd558add61","runtime":"nodejs20","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747224906284737"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T12:18:44.208369998Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f6ada4840e0ba459cd77d8e5e35c6008f247799c"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","createTime":"2025-05-08T13:11:32.783695608Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:50.866Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:50.867Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com [none]
[debug] [2025-05-14T14:47:50.867Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:50.868Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com [none]
[debug] [2025-05-14T14:47:50.869Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:50.870Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com [none]
[debug] [2025-05-14T14:47:50.870Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:50.871Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com [none]
[debug] [2025-05-14T14:47:50.871Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:47:51.729Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com 200
[debug] [2025-05-14T14:47:51.729Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-14T14:47:51.732Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com 200
[debug] [2025-05-14T14:47:51.732Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-14T14:47:51.733Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com 200
[debug] [2025-05-14T14:47:51.733Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2025-05-14T14:47:51.736Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com 200
[debug] [2025-05-14T14:47:51.736Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-14T14:47:51.737Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:51.737Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-14T14:47:51.737Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:51.737Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:51.737Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-14T14:47:51.739Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-14T14:47:52.636Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-14T14:47:52.636Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1013120896740@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"108019676898955115488"}}
[debug] [2025-05-14T14:47:52.648Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-14T14:47:52.648Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1013120896740@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105070618098291756144"}}
[debug] [2025-05-14T14:47:52.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:52.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:52.649Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 [none]
[debug] [2025-05-14T14:47:53.327Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 200
[debug] [2025-05-14T14:47:53.328Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 {"projectNumber":"1013120896740","projectId":"nutrisnap2","lifecycleState":"ACTIVE","name":"NutriSnap2","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-24T21:36:33.778282Z"}
[debug] [2025-05-14T14:47:53.331Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:53.331Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:53.331Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo [none]
[debug] [2025-05-14T14:47:53.742Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo 200
[debug] [2025-05-14T14:47:53.742Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo {"name":"projects/nutrisnap2/billingInfo","projectId":"nutrisnap2","billingAccountName":"billingAccounts/0182E2-603B80-7D2AD6","billingEnabled":true}
[debug] [2025-05-14T14:47:53.744Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:53.744Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:53.745Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:53.745Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:47:53.745Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-14T14:47:53.745Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-05-14T14:47:53.747Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-14T14:47:54.459Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-14T14:47:54.459Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D"}
[debug] [2025-05-14T14:47:54.461Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip GoogleAccessId=service-1013120896740%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D
[debug] [2025-05-14T14:47:54.461Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip [stream]
[debug] [2025-05-14T14:47:54.624Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-14T14:47:54.624Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/95697ade-23f3-473d-b1be-d73ae9fe97a0.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=I1LNE%2BUTghwFiMUXMrfophJr%2Br0PJXg%2BfHEj5dbwqg3NZ1n6N1PnuD0S8WiCFG3Q%2Fngt%2Bf6zfYNXb%2FK%2FRz9Hf4WIYzQajz2Sb8okr05%2FCTetMAVXpqbg8ddBAnqTmqwSr1Z%2Bptfu7bAklphN4SfUCRM%2By05B%2B2KWUkHlpC3YQo8P4dZcXQyXcb9h8zx4T94qZgKOpJHSO9%2FSO22vD4CJW1crLwIUY3KJAE7aYD8JRJwDEhkXXxsfvdqWptKxfPzfPOZIcEHNYLtrH%2Fa4vgMMIlW2Ni7xK4UQVxGkTJ%2FfOM06LmC2lwqbOqjcSVwelBk3fHxidxQ0e2wjghhS2tUZBQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}}
[debug] [2025-05-14T14:47:54.624Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/95697ade-23f3-473d-b1be-d73ae9fe97a0.zip GoogleAccessId=service-1013120896740%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=I1LNE%2BUTghwFiMUXMrfophJr%2Br0PJXg%2BfHEj5dbwqg3NZ1n6N1PnuD0S8WiCFG3Q%2Fngt%2Bf6zfYNXb%2FK%2FRz9Hf4WIYzQajz2Sb8okr05%2FCTetMAVXpqbg8ddBAnqTmqwSr1Z%2Bptfu7bAklphN4SfUCRM%2By05B%2B2KWUkHlpC3YQo8P4dZcXQyXcb9h8zx4T94qZgKOpJHSO9%2FSO22vD4CJW1crLwIUY3KJAE7aYD8JRJwDEhkXXxsfvdqWptKxfPzfPOZIcEHNYLtrH%2Fa4vgMMIlW2Ni7xK4UQVxGkTJ%2FfOM06LmC2lwqbOqjcSVwelBk3fHxidxQ0e2wjghhS2tUZBQ%3D%3D
[debug] [2025-05-14T14:47:54.624Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/95697ade-23f3-473d-b1be-d73ae9fe97a0.zip [stream]
[debug] [2025-05-14T14:47:55.501Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip 200
[debug] [2025-05-14T14:47:55.501Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip [omitted]
[debug] [2025-05-14T14:47:55.634Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/95697ade-23f3-473d-b1be-d73ae9fe97a0.zip 200
[debug] [2025-05-14T14:47:55.634Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/95697ade-23f3-473d-b1be-d73ae9fe97a0.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	getFoodScanResult(us-central1)
	getGlucoseCurve(us-central1)
	learnV2_getFeaturedArticles(us-central1)
	learnV2_getKnowledgeArticleBySlug(us-central1)
	learnV2_getLatestArticles(us-central1)
	learnV2_listKnowledgeArticlesByCategory(us-central1)
	learnV2_listKnowledgeCategories(us-central1)
	learnV2_searchKnowledgeArticles(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 18 (1st Gen) function getUploadUrl(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function app(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function processUploadedImage(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_getFeaturedArticles(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function recognizeFoodFromImage(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function createUserProfile(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function updateUserProfile(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function getUserProfile(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function searchFatSecretNutrition(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function getFatSecretFoodDetails(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function getAutocompleteSuggestions(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function analyzeFoodImage(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_getKnowledgeArticleBySlug(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_listKnowledgeArticlesByCategory(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_listKnowledgeCategories(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_searchKnowledgeArticles(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_getLatestArticles(us-central1)... 
[debug] [2025-05-14T14:48:06.320Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.320Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.322Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:48:06.322Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl {"name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"getUploadUrl","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"serviceAccountEmail":null,"availableMemoryMb":256,"timeout":"60s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:48:06.324Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:48:06.324Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app {"name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":120,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"}}
[debug] [2025-05-14T14:48:06.326Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:48:06.326Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage {"name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"processUploadedImage","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:48:06.327Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:48:06.327Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage {"name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"512Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"}}
[debug] [2025-05-14T14:48:06.328Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:48:06.328Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"createUserProfile","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:48:06.329Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:48:06.330Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition {"name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"}}
[debug] [2025-05-14T14:48:06.331Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:48:06.331Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage {"name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"2Gi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"}}
[debug] [2025-05-14T14:48:06.332Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:48:06.332Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"learn_getKnowledgeArticleBySlug","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:48:06.963Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug 200
[debug] [2025-05-14T14:48:06.964Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:06Z"}}
[debug] [2025-05-14T14:48:06.964Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.964Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.965Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:06.973Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile 200
[debug] [2025-05-14T14:48:06.974Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:06Z"}}
[debug] [2025-05-14T14:48:06.974Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.974Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.974Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:06.975Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage 200
[debug] [2025-05-14T14:48:06.975Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:06Z"}}
[debug] [2025-05-14T14:48:06.975Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.976Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.976Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:06.977Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl 200
[debug] [2025-05-14T14:48:06.977Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:06Z"}}
[debug] [2025-05-14T14:48:06.977Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.977Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:06.977Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:07.328Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:07.328Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z"}}
[debug] [2025-05-14T14:48:07.334Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:07.334Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z"}}
[debug] [2025-05-14T14:48:07.338Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:07.338Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z"}}
[debug] [2025-05-14T14:48:07.379Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:07.379Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z"}}
[debug] [2025-05-14T14:48:07.647Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app 200
[debug] [2025-05-14T14:48:07.647Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:48:07.647Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.647Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.648Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:07.829Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:07.829Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.829Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.829Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:07.835Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:07.835Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.835Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.835Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:07.836Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition 200
[debug] [2025-05-14T14:48:07.836Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:48:07.836Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.836Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.837Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:07.839Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:07.839Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.839Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.839Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:07.880Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:07.880Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.880Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.880Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:07.895Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage 200
[debug] [2025-05-14T14:48:07.895Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:48:07.895Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.895Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:07.895Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:08.091Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:08.092Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:08.095Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:08.095Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:08.136Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:08.136Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:08.142Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:08.142Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:08.163Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage 200
[debug] [2025-05-14T14:48:08.163Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:48:08.164Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:08.164Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:08.164Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:08.441Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:08.441Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:08.663Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:08.663Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:08.685Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:08.685Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:08.944Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:08.945Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:08.945Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:08.946Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:08.989Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:08.989Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:09.094Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:09.095Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.095Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.096Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:09.099Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:09.100Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.100Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.100Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:09.138Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:09.138Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.138Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.139Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:09.143Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:09.143Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.143Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.143Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:09.165Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:09.165Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.165Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.165Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:09.187Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:09.187Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.187Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.187Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:09.354Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:09.354Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:09.354Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:09.354Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:09.422Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:09.422Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:09.465Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:09.465Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:09.490Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:09.491Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.491Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:09.491Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:09.722Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:09.723Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:09.956Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:09.957Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:10.010Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:10.011Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:10.298Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:10.298Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:10.726Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:10.728Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:10.728Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:10.728Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:10.958Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:10.959Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:10.959Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:10.959Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:11.011Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:11.011Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.011Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.011Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:11.300Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:11.301Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.301Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.301Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:11.355Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:11.356Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.356Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.356Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:11.359Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:11.359Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.359Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.360Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:11.423Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:11.423Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.423Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.423Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:11.466Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:11.466Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.466Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:11.466Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:11.508Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:11.508Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:11.601Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:11.601Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:11.617Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:11.617Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:11.716Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:11.716Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:11.733Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:11.734Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:11.758Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:11.758Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:11.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:11.827Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:12.108Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:12.108Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:13.509Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:13.511Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:13.511Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:13.511Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:13.734Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:13.735Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:13.735Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:13.735Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:13.829Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:13.829Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:13.829Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:13.830Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:14.110Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:14.110Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:14.110Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:14.111Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:14.490Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:14.491Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:14.582Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:14.582Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:14.890Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:14.890Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:14.917Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:14.918Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:15.603Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:15.604Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.604Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.604Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:15.618Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:15.618Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.618Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.619Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:15.717Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:15.718Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.718Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.718Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:15.759Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:15.760Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.760Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:15.760Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:15.873Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:15.873Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:15.900Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:15.900Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:15.971Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:15.971Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:16.042Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:16.042Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:18.493Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:18.494Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.495Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.495Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:18.583Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:18.584Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.584Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.584Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:18.892Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:18.893Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.893Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.893Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:18.920Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:18.921Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.921Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:18.921Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:19.320Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:19.320Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:19.345Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:19.345Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:19.689Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:19.689Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:19.726Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:19.726Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:23.874Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:23.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:23.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:23.875Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:23.902Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:23.903Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:23.903Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:23.903Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:23.972Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:23.972Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:23.972Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:23.972Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:24.042Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:24.043Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:24.043Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:24.043Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:24.176Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:24.176Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:24.176Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:24.176Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:24.226Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:24.226Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:24.325Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:24.325Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:27.322Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:27.323Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.323Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.324Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:27.346Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:27.346Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.347Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.347Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:27.690Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:27.691Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.691Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.692Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:27.727Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:27.728Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.728Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:27.728Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:28.121Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:28.122Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:28.144Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:28.144Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:28.486Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:28.487Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:28.511Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:28.512Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:34.178Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:34.179Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.179Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.179Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:34.184Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:34.184Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.184Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.184Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:34.227Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:34.227Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.227Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.228Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:34.326Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:34.327Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.327Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:34.327Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:34.441Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:34.441Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:34.442Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:34.442Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:34.484Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:34.484Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:34.600Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:34.601Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:38.123Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:38.124Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.124Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.125Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:38.145Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:38.146Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.146Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.146Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:38.490Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:38.491Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.491Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.491Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:38.513Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:38.514Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.514Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:38.515Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:38.970Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:38.970Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:38.971Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:38.971Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:39.269Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:39.269Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:39.271Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:39.271Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:44.443Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:44.444Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.444Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.444Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:44.449Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:44.449Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.449Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.449Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:44.485Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:44.485Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.485Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.485Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:44.603Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:44.605Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.605Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:44.605Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:44.705Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:44.706Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:44.723Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:44.723Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:44.726Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:44.726Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:44.881Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:44.881Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:48.971Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:48.972Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:48.972Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:48.972Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:48.977Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:48.977Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:48.977Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:48.977Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:48:49.270Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:48:49.272Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:49.272Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:49.272Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:48:49.276Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:49.276Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:49.276Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:49.276Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:49.519Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:48:49.520Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:48:49.746Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:48:49.747Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:48:49.747Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:48:49.747Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:48:50.132Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:48:50.132Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:48:54.708Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:48:54.709Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.709Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.710Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:48:54.725Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:48:54.725Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.725Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.726Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:48:54.728Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:48:54.729Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.729Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.729Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:48:54.882Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:48:54.883Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.883Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:54.883Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:48:54.988Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:48:54.988Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:48:54.989Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:48:54.989Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:48:54.991Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:48:54.991Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:48:55.222Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:48:55.222Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:48:59.521Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:48:59.523Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:59.523Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:59.523Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:48:59.749Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:48:59.755Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:59.755Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:59.755Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:48:59.758Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:48:59.758Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:59.758Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:48:59.758Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:49:00.133Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:49:00.134Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:00.134Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:00.134Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:49:00.314Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:49:00.315Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:49:00.538Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:49:00.538Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:49:00.548Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:49:00.549Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:49:00.933Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:49:00.933Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:49:04.990Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:49:04.991Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:04.991Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:04.991Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:49:04.995Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:49:04.996Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:04.996Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:04.996Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:49:04.998Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:49:04.998Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:04.998Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:04.998Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:49:05.223Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:05.225Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:05.226Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:05.226Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:49:05.254Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:49:05.254Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:49:05.307Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:49:05.307Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:49:05.307Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:49:05.307Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:49:05.526Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:49:05.526Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:10.316Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:49:10.317Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.317Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.318Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:49:10.540Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:49:10.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.540Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:49:10.549Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:49:10.549Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.549Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.550Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:49:10.934Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:49:10.935Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.935Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:10.935Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:49:11.139Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:49:11.140Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:49:11.305Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:49:11.306Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:49:11.352Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:49:11.352Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:49:12.251Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:49:12.252Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:49:15.256Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:49:15.258Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.258Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.258Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:49:15.308Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:49:15.308Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.308Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.308Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:49:15.310Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:49:15.310Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.310Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.310Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:49:15.528Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:15.529Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.529Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:15.529Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:49:15.564Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:49:15.564Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","sourceToken":"e4b8d488-69c2-4f8b-b4ad-8122a1cc0347","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:49:15.564Z] Got source token e4b8d488-69c2-4f8b-b4ad-8122a1cc0347 for region us-central1
[debug] [2025-05-14T14:49:15.570Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:49:15.570Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:49:15.599Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:49:15.599Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:49:15.797Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:49:15.799Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:21.141Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:49:21.142Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:21.142Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:21.142Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:49:21.307Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:49:21.307Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:21.308Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:21.308Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:49:21.352Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:49:21.353Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:21.353Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:21.353Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:49:21.935Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:49:21.936Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:49:22.058Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:49:22.060Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:49:22.143Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:49:22.143Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:49:22.253Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:49:22.254Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:22.254Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:22.254Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:49:23.032Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:49:23.033Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:49:25.565Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:49:25.566Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.567Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.567Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:49:25.572Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:49:25.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.573Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:49:25.601Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:49:25.602Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.602Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.602Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:49:25.801Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:25.803Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.803Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:25.803Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:49:25.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:49:25.828Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","sourceToken":"e4b8d488-69c2-4f8b-b4ad-8122a1cc0347","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:49:25.828Z] Got source token e4b8d488-69c2-4f8b-b4ad-8122a1cc0347 for region us-central1
[debug] [2025-05-14T14:49:25.830Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:49:25.830Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:49:25.894Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:49:25.895Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:49:26.076Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:49:26.077Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:26.077Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:26.078Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.078Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.079Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.079Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.079Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:49:26.079Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"updateUserProfile","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:49:26.082Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:49:26.082Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"getUserProfile","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:49:26.689Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile 200
[debug] [2025-05-14T14:49:26.689Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb"}}
[debug] [2025-05-14T14:49:26.689Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.689Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.690Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:26.692Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile 200
[debug] [2025-05-14T14:49:26.692Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb"}}
[debug] [2025-05-14T14:49:26.692Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.692Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:26.692Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:26.947Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:26.947Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb"}}
[debug] [2025-05-14T14:49:26.947Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:26.950Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:26.951Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb"}}
[debug] [2025-05-14T14:49:26.951Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:27.448Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:27.449Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:27.449Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:27.449Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:27.454Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:27.454Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:27.454Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:27.454Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:27.711Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:27.711Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:27.711Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:27.749Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:27.749Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:27.749Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:28.712Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:28.713Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:28.713Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:28.714Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:28.753Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:28.754Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:28.755Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:28.755Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:28.980Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:28.980Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:28.980Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:28.995Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:28.995Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:28.996Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:30.981Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:30.982Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:30.982Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:30.983Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:30.997Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:30.997Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:30.997Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:30.998Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:31.251Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:31.251Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:31.251Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:31.289Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:31.289Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:31.289Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:31.936Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:49:31.938Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:31.938Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:31.938Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:49:32.063Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:49:32.064Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:32.064Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:32.064Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:49:32.144Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:49:32.145Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:32.145Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:32.145Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:49:32.833Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:49:32.833Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:49:32.842Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:49:32.842Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:49:32.949Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:49:32.949Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:49:33.034Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:49:33.035Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:33.035Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:33.035Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:49:33.828Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:49:33.828Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:49:35.252Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:35.253Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.253Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.253Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:35.292Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:35.292Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.292Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.292Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:35.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:35.562Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:35.562Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:35.569Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:35.569Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:35.569Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:35.830Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:49:35.830Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.830Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.830Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:49:35.833Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:49:35.833Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.833Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.833Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:49:35.896Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:49:35.896Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.896Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:35.897Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:49:36.079Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:36.080Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:36.080Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:36.080Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:49:36.113Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:49:36.113Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:49:36.126Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:49:36.126Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","sourceToken":"e4b8d488-69c2-4f8b-b4ad-8122a1cc0347","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"}}
[debug] [2025-05-14T14:49:36.126Z] Got source token e4b8d488-69c2-4f8b-b4ad-8122a1cc0347 for region us-central1
[debug] [2025-05-14T14:49:36.174Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:49:36.174Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:49:36.334Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:49:36.335Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:48:07Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:36.335Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:42.835Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:49:42.836Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:42.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:42.838Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:49:42.842Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:49:42.842Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:42.842Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:42.842Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:49:42.950Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:49:42.951Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:42.951Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:42.951Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:49:43.241Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:49:43.241Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:49:43.564Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:43.565Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:43.565Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:43.565Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:43.572Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:43.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:43.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:43.574Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:43.622Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:49:43.623Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:49:43.748Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:49:43.748Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:49:43.822Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:43.823Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:43.823Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:43.829Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:49:43.829Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:43.829Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:43.830Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:49:43.838Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:43.838Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:43.838Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:44.642Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:49:44.642Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:49:46.114Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:49:46.115Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.115Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.115Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:49:46.127Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T14:49:46.127Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.127Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.127Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc [none]
[debug] [2025-05-14T14:49:46.176Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:49:46.176Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.176Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.177Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:49:46.336Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:46.336Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.336Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:46.337Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ [none]
[debug] [2025-05-14T14:49:46.374Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:49:46.374Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:49:46.382Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc 200
[debug] [2025-05-14T14:49:46.382Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvUXcyTTJQWTVwaWc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"updateTime":"2025-05-14T09:25:23.784Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"a82e22fd-bf1e-4408-83b9-fa8f394e4395","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/a82e22fd-bf1e-4408-83b9-fa8f394e4395","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:44Z","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","sourceToken":"e4b8d488-69c2-4f8b-b4ad-8122a1cc0347","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:49:46.382Z] Got source token e4b8d488-69c2-4f8b-b4ad-8122a1cc0347 for region us-central1
[info] ✔  functions[getUploadUrl(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:49:46.447Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:49:46.447Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:49:46.581Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ 200
[debug] [2025-05-14T14:49:46.581Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS9zcEt2UngyRGMzUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T14:49:41Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2025-05-14T14:49:46.581Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2025-05-14T14:49:53.243Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:49:53.245Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.246Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.246Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:49:53.624Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:49:53.625Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.625Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.625Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:49:53.749Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:49:53.749Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.749Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.750Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:49:53.824Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:53.825Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.825Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.826Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw [none]
[debug] [2025-05-14T14:49:53.838Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:49:53.838Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.839Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:53.839Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:49:54.052Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:49:54.053Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:49:54.078Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw 200
[debug] [2025-05-14T14:49:54.078Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS9QX2JyeS1BVjFIaw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","updateTime":"2025-05-14T09:25:20.419Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:46Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:49:54.078Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[info] ✔  functions[updateUserProfile(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:49:54.101Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:49:54.101Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:49:26Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"}}
[debug] [2025-05-14T14:49:54.102Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[debug] [2025-05-14T14:49:54.386Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:49:54.386Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:49:54.531Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:49:54.532Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:49:54.643Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:49:54.644Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:54.644Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:54.644Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:49:55.437Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:49:55.438Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:49:56.375Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:49:56.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:56.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:56.377Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:49:56.448Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:49:56.448Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:56.448Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:49:56.448Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:49:56.647Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:49:56.647Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:49:56.746Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:49:56.747Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:04.054Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:50:04.055Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.055Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.056Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:50:04.103Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T14:50:04.103Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.103Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.104Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw [none]
[debug] [2025-05-14T14:50:04.376Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw 200
[debug] [2025-05-14T14:50:04.377Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9DVkpfR0RFWHdVZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","updateTime":"2025-05-14T09:25:21.164Z","versionId":"69","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"9f419a3e-f1e9-47c5-8be5-c9eb38162326","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/9f419a3e-f1e9-47c5-8be5-c9eb38162326","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:50:00Z","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","sourceToken":"6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:50:04.377Z] Got source token 6d3c0aa4-1f0d-41b7-97b8-7c526fb68dcb for region us-central1
[info] ✔  functions[getUserProfile(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:04.388Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:50:04.388Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.388Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.388Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:50:04.537Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:50:04.538Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.538Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:04.538Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:50:04.888Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:50:04.889Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:50:05.206Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:50:05.206Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:50:05.341Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:50:05.341Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:50:05.439Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:50:05.439Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:05.439Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:05.439Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:50:06.270Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:50:06.271Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:50:06.648Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:50:06.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:06.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:06.649Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:50:06.747Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:50:06.748Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:06.748Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:06.748Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:50:06.900Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:50:06.900Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:50:07.018Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:50:07.018Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:14.890Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:50:14.891Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:14.892Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:14.892Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:50:15.208Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:50:15.208Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:15.208Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:15.208Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:50:15.341Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:50:15.342Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:15.342Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:15.342Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:50:15.671Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:50:15.671Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:50:16.061Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:50:16.062Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:50:16.125Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:50:16.125Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:50:16.273Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:50:16.274Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:16.274Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:16.274Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:50:16.648Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:50:16.648Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:50:16.902Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:50:16.903Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:16.903Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:16.903Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:50:17.019Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:50:17.021Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:17.021Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:17.021Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:50:17.156Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:50:17.156Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:50:17.265Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:50:17.265Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:25.673Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:50:25.674Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:25.674Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:25.675Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:50:26.064Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:50:26.065Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:26.065Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:26.065Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:50:26.129Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:50:26.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:26.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:26.130Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:50:26.455Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:50:26.455Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:50:26.649Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:50:26.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:26.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:26.650Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:50:26.832Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:50:26.833Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:50:26.896Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:50:26.896Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:50:27.157Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:50:27.158Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.158Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.158Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:50:27.266Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:50:27.267Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.267Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.267Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:50:27.401Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:50:27.401Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:50:27.417Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:50:27.418Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:50:27.539Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:50:27.539Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:27.539Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:27.540Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:50:27.540Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"learn_listKnowledgeArticlesByCategory","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:50:27.543Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:50:27.543Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"learn_listKnowledgeCategories","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:50:27.544Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:50:27.544Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"learn_searchKnowledgeArticles","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:50:27.545Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:50:27.545Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"learn_getLatestArticles","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:50:28.014Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles 200
[debug] [2025-05-14T14:50:28.014Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:27Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.014Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.014Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.015Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:28.032Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories 200
[debug] [2025-05-14T14:50:28.033Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:27Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.033Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.033Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.033Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:28.036Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory 200
[debug] [2025-05-14T14:50:28.036Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:27Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.037Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.037Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.037Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:28.046Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles 200
[debug] [2025-05-14T14:50:28.046Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:27Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.046Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.046Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.046Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:28.288Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:28.289Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.289Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:28.341Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:28.341Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.341Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:28.345Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:28.345Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.346Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:28.354Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:28.354Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:28Z","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250"}}
[debug] [2025-05-14T14:50:28.354Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:28.790Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T14:50:28.791Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.791Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.791Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:28.842Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T14:50:28.843Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.843Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.843Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:28.847Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T14:50:28.847Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.847Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.847Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:28.854Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T14:50:28.854Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.855Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:28.855Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:29.069Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:29.070Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:29.070Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:29.111Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:29.111Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:29.111Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:29.126Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:29.126Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:29.126Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:29.148Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:29.148Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:29.148Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:30.071Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T14:50:30.071Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.071Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.071Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:30.111Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T14:50:30.112Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.112Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.112Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:30.128Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T14:50:30.128Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.128Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.128Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:30.149Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T14:50:30.149Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.149Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:30.149Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:30.372Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:30.372Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:30.372Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:30.375Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:30.375Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:30.375Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:30.390Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:30.391Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:30.391Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:30.410Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:30.410Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:30.410Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:32.372Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T14:50:32.372Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.372Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.374Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:32.376Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T14:50:32.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.376Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:32.392Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T14:50:32.393Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.393Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.393Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:32.411Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T14:50:32.411Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.411Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:32.411Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:32.618Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:32.618Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:32.618Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:32.646Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:32.646Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:32.646Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:32.657Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:32.657Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:32.657Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:32.663Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:32.663Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:32.663Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:36.456Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:50:36.457Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.457Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.457Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:50:36.620Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T14:50:36.620Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.620Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.621Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:36.646Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T14:50:36.647Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.647Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.647Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:36.658Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T14:50:36.659Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.659Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.659Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:36.663Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T14:50:36.663Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.663Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.663Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:36.835Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:50:36.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.837Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.837Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:50:36.897Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:50:36.897Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.897Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:36.898Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:50:36.901Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:36.901Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:36.901Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:36.902Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:36.902Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:36.902Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:36.933Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:36.933Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:36.933Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:37.220Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:50:37.220Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:50:37.403Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:50:37.404Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:37.404Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:37.404Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:50:37.419Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:50:37.419Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:37.419Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:37.419Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:50:37.540Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:50:37.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:37.540Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:37.541Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:50:37.599Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:50:37.600Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRkOGZmMDMtZTM0YS00MmI4LTliN2EtYzM3NDliOWQyMzM4Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAi125LBBhDAqKDWATIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ==","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:50:37.600Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRkOGZmMDMtZTM0YS00MmI4LTliN2EtYzM3NDliOWQyMzM4Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAi125LBBhDAqKDWATIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ== for region us-central1
[debug] [2025-05-14T14:50:37.652Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:50:37.652Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:50:37.672Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:50:37.672Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:50:37.763Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:37.764Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:37.764Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:37.822Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:50:37.823Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:48:07Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:37.823Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:38.175Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:50:38.176Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:50:44.904Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T14:50:44.905Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:44.905Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:44.905Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:44.909Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T14:50:44.909Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:44.909Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:44.909Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:44.934Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T14:50:44.935Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:44.935Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:44.935Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:45.164Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:45.164Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:45.165Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:45.189Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:45.189Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:45.189Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:45.201Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:45.201Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:45.201Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:45.765Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T14:50:45.766Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:45.766Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:45.766Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:46.044Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:46.045Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:28Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"}}
[debug] [2025-05-14T14:50:46.045Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[debug] [2025-05-14T14:50:47.221Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:50:47.222Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.222Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.222Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:50:47.601Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:50:47.601Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.601Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.601Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:50:47.654Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:50:47.655Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.655Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.655Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:50:47.674Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:50:47.674Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.674Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.674Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:50:47.824Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:50:47.825Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.826Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:47.826Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz [none]
[debug] [2025-05-14T14:50:47.964Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:50:47.964Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:50:48.051Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:50:48.051Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:50:48.098Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz 200
[debug] [2025-05-14T14:50:48.098Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL0Q1ME5OdHVwenNz","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:40.780Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T14:50:41Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:50:48.098Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[info] ✔  functions[learn_getKnowledgeArticleBySlug(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:48.177Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:50:48.177Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:48.177Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:48.177Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:50:48.332Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:50:48.332Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRkOGZmMDMtZTM0YS00MmI4LTliN2EtYzM3NDliOWQyMzM4Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAi125LBBhDAqKDWATIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ==","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":false}
[debug] [2025-05-14T14:50:48.332Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRkOGZmMDMtZTM0YS00MmI4LTliN2EtYzM3NDliOWQyMzM4Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAi125LBBhDAqKDWATIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ== for region us-central1
[debug] [2025-05-14T14:50:48.385Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:50:48.385Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:50:48.946Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:50:48.947Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:50:55.167Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T14:50:55.167Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:55.167Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:55.167Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ [none]
[debug] [2025-05-14T14:50:55.190Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T14:50:55.190Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:55.190Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:55.190Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA [none]
[debug] [2025-05-14T14:50:55.202Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T14:50:55.202Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:55.202Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:55.202Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ [none]
[debug] [2025-05-14T14:50:55.530Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ 200
[debug] [2025-05-14T14:50:55.530Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy9aVjFTRGRCWXJhQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:46.930Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:55Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:50:55.531Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[info] ✔  functions[learn_searchKnowledgeArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:55.548Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ 200
[debug] [2025-05-14T14:50:55.548Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9ZT1B3MzZqV1pDUQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:52.192Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:50:54Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:50:55.548Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[info] ✔  functions[learn_listKnowledgeCategories(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:55.573Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA 200
[debug] [2025-05-14T14:50:55.573Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9vdzRBWnR3NVZXOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:49.560Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:55Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:50:55.573Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[info] ✔  functions[learn_getLatestArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:56.046Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T14:50:56.047Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:56.047Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:56.048Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn [none]
[debug] [2025-05-14T14:50:56.295Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn 200
[debug] [2025-05-14T14:50:56.296Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5L2txcVNwc1NCLXpn","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T12:16:45.922Z","versionId":"17","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/0c7d47f0-31c4-4fb3-910a-47d8c75f60cd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"18","updateTime":"2025-05-14T14:50:54Z","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","sourceToken":"206dc500-ca19-4000-bb4f-8165094a4250","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:50:56.296Z] Got source token 206dc500-ca19-4000-bb4f-8165094a4250 for region us-central1
[info] ✔  functions[learn_listKnowledgeArticlesByCategory(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:57.965Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:50:57.966Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:57.966Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:57.966Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:50:58.053Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:50:58.053Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.053Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.054Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:50:58.246Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:50:58.246Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:50:58.335Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:50:58.335Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.335Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.335Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f [none]
[debug] [2025-05-14T14:50:58.387Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:50:58.388Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.388Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.388Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:50:58.811Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:50:58.811Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:50:58.948Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:50:58.949Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.949Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:50:58.949Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:50:59.150Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f 200
[debug] [2025-05-14T14:50:59.151Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087128-63519a31a4e5e-68687eec-e6b8865f","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:08.093489045Z","endTime":"2025-05-14T14:50:52.066033974Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747224906294154"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00131-ged","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRkOGZmMDMtZTM0YS00MmI4LTliN2EtYzM3NDliOWQyMzM4Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAi125LBBhDAqKDWATIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ==","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:48:08.096222018Z","labels":{"firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","createTime":"2025-04-29T18:50:11.173073206Z","satisfiesPzi":true}}
[debug] [2025-05-14T14:50:59.151Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOGRkOGZmMDMtZTM0YS00MmI4LTliN2EtYzM3NDliOWQyMzM4Emp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqDAi125LBBhDAqKDWATIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ== for region us-central1
[info] ✔  functions[analyzeFoodImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:50:59.201Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:50:59.202Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:50:59.749Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:50:59.749Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:51:08.248Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:51:08.249Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:08.249Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:08.250Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:51:08.542Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:51:08.542Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:51:08.812Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:51:08.813Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:08.813Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:08.813Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:51:09.203Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:51:09.204Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:09.204Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:09.204Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:51:09.639Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:51:09.639Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:09.749Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:51:09.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:09.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:09.750Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:51:09.987Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:51:09.987Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:51:10.586Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:51:10.586Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:51:18.545Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:51:18.546Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:18.546Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:18.546Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:51:18.823Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:51:18.824Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:51:19.641Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:51:19.641Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:19.641Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:19.642Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:51:19.989Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:51:19.989Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:19.989Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:19.989Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:51:20.428Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:51:20.429Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:20.587Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:51:20.588Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:20.588Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:20.588Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:51:20.774Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:51:20.774Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:51:21.347Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:51:21.347Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:51:28.826Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:51:28.827Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:28.827Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:28.827Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:51:29.141Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:51:29.141Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:51:30.430Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:51:30.431Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:30.431Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:30.431Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:51:30.776Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:51:30.776Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:30.776Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:30.776Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:51:31.239Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:51:31.239Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:31.348Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:51:31.348Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:31.349Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:31.349Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:51:31.544Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:51:31.544Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:51:32.133Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:51:32.133Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOTRhZDVlYmMtMWRhYS00ZmYwLTg3ZDgtNjhjZTA0YTQ3YmE4EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI8duSwQYQ4LXruQMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:51:32.133Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOTRhZDVlYmMtMWRhYS00ZmYwLTg3ZDgtNjhjZTA0YTQ3YmE4EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI8duSwQYQ4LXruQMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:51:39.142Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:51:39.145Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:39.145Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:39.145Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:51:39.407Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:51:39.407Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:51:41.239Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:51:41.240Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:41.240Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:41.240Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:51:41.546Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:51:41.548Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:41.548Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:41.548Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:51:42.024Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:51:42.025Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:42.025Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:42.026Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:42.026Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:42.026Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:42.026Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:42.026Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:51:42.026Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails {"name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB"},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"}}
[debug] [2025-05-14T14:51:42.029Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:51:42.029Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions {"name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"95697ade-23f3-473d-b1be-d73ae9fe97a0.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB"},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"}}
[debug] [2025-05-14T14:51:42.136Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:51:42.136Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:42.136Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:42.138Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:51:42.315Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:51:42.315Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:51:42.886Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:51:42.886Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOTRhZDVlYmMtMWRhYS00ZmYwLTg3ZDgtNjhjZTA0YTQ3YmE4EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI8duSwQYQ4LXruQMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":false}
[debug] [2025-05-14T14:51:42.887Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOTRhZDVlYmMtMWRhYS00ZmYwLTg3ZDgtNjhjZTA0YTQ3YmE4EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI8duSwQYQ4LXruQMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:51:43.754Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails 200
[debug] [2025-05-14T14:51:43.754Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:51:43.755Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:43.755Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:43.755Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 [none]
[debug] [2025-05-14T14:51:43.758Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions 200
[debug] [2025-05-14T14:51:43.758Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:51:43.758Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:43.758Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:43.758Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 [none]
[debug] [2025-05-14T14:51:44.529Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 200
[debug] [2025-05-14T14:51:44.529Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:44.530Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:44.532Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 200
[debug] [2025-05-14T14:51:44.532Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:44.532Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:45.030Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T14:51:45.032Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:45.032Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:45.032Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 [none]
[debug] [2025-05-14T14:51:45.036Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T14:51:45.036Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:45.036Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:45.037Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 [none]
[debug] [2025-05-14T14:51:45.804Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 200
[debug] [2025-05-14T14:51:45.805Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:45.805Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:45.808Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 200
[debug] [2025-05-14T14:51:45.808Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:45.808Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:46.806Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T14:51:46.806Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:46.806Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:46.806Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 [none]
[debug] [2025-05-14T14:51:46.808Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T14:51:46.808Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:46.808Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:46.808Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 [none]
[debug] [2025-05-14T14:51:47.570Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 200
[debug] [2025-05-14T14:51:47.570Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:47.570Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:47.594Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 200
[debug] [2025-05-14T14:51:47.594Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:47.594Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:49.409Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:51:49.410Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:49.410Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:49.410Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:51:49.572Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T14:51:49.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:49.576Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:49.576Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 [none]
[debug] [2025-05-14T14:51:49.596Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T14:51:49.596Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:49.596Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:49.596Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 [none]
[debug] [2025-05-14T14:51:49.701Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:51:49.701Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:51:50.337Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 200
[debug] [2025-05-14T14:51:50.337Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:50.337Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:50.424Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 200
[debug] [2025-05-14T14:51:50.424Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:50.424Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:52.027Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:51:52.028Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:52.029Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:52.029Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 [none]
[debug] [2025-05-14T14:51:52.317Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:51:52.319Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:52.320Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:52.320Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:51:52.795Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 200
[debug] [2025-05-14T14:51:52.796Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087087-63519a319ae8e-30532f34-6d417cd8","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.781527981Z","endTime":"2025-05-14T14:51:49.770661900Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00014-law","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/116d51b6-be8e-4ceb-aebc-46d7685e4cf3?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:48:07.784174587Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","createTime":"2025-05-08T10:56:47.287289138Z","satisfiesPzi":true}}
[debug] [2025-05-14T14:51:52.796Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[info] ✔  functions[searchFatSecretNutrition(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:51:52.898Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:51:52.899Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:52.899Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:52.899Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 [none]
[debug] [2025-05-14T14:51:53.091Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:51:53.091Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:51:53.664Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 200
[debug] [2025-05-14T14:51:53.664Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234087089-63519a319b5cd-2f22d143-f339d510","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.842770903Z","endTime":"2025-05-14T14:51:42.936191559Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747224905703528"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00001-jep","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOTRhZDVlYmMtMWRhYS00ZmYwLTg3ZDgtNjhjZTA0YTQ3YmE4EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI8duSwQYQ4LXruQMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:48:07.845715300Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","createTime":"2025-05-14T12:15:05.889619708Z","satisfiesPzi":true}}
[debug] [2025-05-14T14:51:53.665Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvOTRhZDVlYmMtMWRhYS00ZmYwLTg3ZDgtNjhjZTA0YTQ3YmE4EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI8duSwQYQ4LXruQMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[info] ✔  functions[recognizeFoodFromImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:51:54.338Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T14:51:54.339Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:54.339Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:54.339Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 [none]
[debug] [2025-05-14T14:51:54.425Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T14:51:54.426Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:54.426Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:54.427Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 [none]
[debug] [2025-05-14T14:51:55.078Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 200
[debug] [2025-05-14T14:51:55.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:55.079Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:55.197Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 200
[debug] [2025-05-14T14:51:55.198Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3"},"done":false}
[debug] [2025-05-14T14:51:55.198Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T14:51:59.703Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:51:59.704Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:59.704Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:51:59.704Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:52:00.008Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:52:00.009Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:03.080Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T14:52:03.081Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:03.082Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:03.082Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 [none]
[debug] [2025-05-14T14:52:03.093Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:52:03.093Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:03.093Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:03.093Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:52:03.199Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T14:52:03.200Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:03.200Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:03.200Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 [none]
[debug] [2025-05-14T14:52:03.853Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 200
[debug] [2025-05-14T14:52:03.853Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302786-63519aff4fa0e-66ca19e5-53183969","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.699921386Z","endTime":"2025-05-14T14:51:57.447518656Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747225164641485"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00002-cab","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service getautocompletesuggestions, Container Healthcheck failed. Revision 'getautocompletesuggestions-00003-pef' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getautocompletesuggestions/revision_name/getautocompletesuggestions-00003-pef&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getautocompletesuggestions%22%0Aresource.labels.revision_name%3D%22getautocompletesuggestions-00003-pef%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-05-14T14:52:03.854Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service getautocompletesuggestions, Container Healthcheck failed. Revision 'getautocompletesuggestions-00003-pef' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getautocompletesuggestions/revision_name/getautocompletesuggestions-00003-pef&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getautocompletesuggestions%22%0Aresource.labels.revision_name%3D%22getautocompletesuggestions-00003-pef%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-05-14T14:52:03.858Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:52:03.859Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:52:03.957Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 200
[debug] [2025-05-14T14:52:03.957Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234302774-63519aff4caf4-fd992cbb-35eba8b0","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:51:43.705101298Z","endTime":"2025-05-14T14:51:55.791126321Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747225164308816"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMTE2ZDUxYjYtYmU4ZS00Y2ViLWFlYmMtNDZkNzY4NWU0Y2YzEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioMCPPbksEGEOD845sCMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00014-cix","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00015-muq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00015-muq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00015-muq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-05-14T14:52:03.957Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00015-muq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00015-muq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00015-muq%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-05-14T14:52:10.010Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:52:10.010Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:10.010Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:10.010Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:52:10.302Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:52:10.302Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:13.859Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:52:13.859Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:13.859Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:13.859Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:52:14.617Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:52:14.617Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:52:20.304Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:52:20.306Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:20.306Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:20.307Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:52:20.623Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:52:20.624Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:24.619Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:52:24.620Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:24.620Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:24.620Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:52:25.379Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:52:25.379Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:52:30.626Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:52:30.629Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:30.629Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:30.629Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:52:30.932Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:52:30.932Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:30.932Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:30.932Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:30.932Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:30.932Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:52:30.932Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","entryPoint":"learn_getFeaturedArticles","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"120s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:52:31.458Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles 200
[debug] [2025-05-14T14:52:31.459Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d"}}
[debug] [2025-05-14T14:52:31.459Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:31.459Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:31.460Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:31.723Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:31.723Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d"}}
[debug] [2025-05-14T14:52:31.723Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:32.224Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:52:32.225Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:32.225Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:32.225Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:32.522Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:32.522Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:32.523Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:33.524Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:52:33.524Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:33.524Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:33.524Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:33.809Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:33.809Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:33.810Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:35.380Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:52:35.380Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:35.380Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:35.380Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:52:35.811Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:52:35.811Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:35.811Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:35.811Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:36.062Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:36.062Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:36.063Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:36.150Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:52:36.150Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:52:40.064Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:52:40.065Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:40.065Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:40.065Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:40.334Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:40.335Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:40.335Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:40.933Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:52:40.934Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:40.935Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:40.935Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:52:41.221Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:52:41.221Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:41.221Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:46.151Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:52:46.151Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:46.151Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:46.152Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:52:46.930Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:52:46.930Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:52:46.930Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:52:48.336Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:52:48.337Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:48.337Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:48.337Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:48.583Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:48.583Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:48.583Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:51.223Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:52:51.224Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:51.224Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:51.224Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:52:51.508Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:52:51.508Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:48:07Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:51.508Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:52:56.931Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:52:56.931Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:56.931Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:56.931Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:52:57.672Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:52:57.673Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:52:57.673Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:52:58.585Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:52:58.586Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:58.586Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:52:58.586Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:52:58.850Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:52:58.850Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:31Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"}}
[debug] [2025-05-14T14:52:58.850Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[debug] [2025-05-14T14:53:01.510Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T14:53:01.511Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:01.511Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:01.511Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ [none]
[debug] [2025-05-14T14:53:01.781Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ 200
[debug] [2025-05-14T14:53:01.781Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9qZ29NUGRqc0ctQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:33.209Z","versionId":"70","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"71","updateTime":"2025-05-14T14:52:57Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:53:01.781Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[info] ✔  functions[processUploadedImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:53:07.674Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:53:07.675Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:07.675Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:07.675Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:53:08.451Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:53:08.451Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:53:08.451Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:53:08.851Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T14:53:08.852Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:08.852Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:08.852Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ [none]
[debug] [2025-05-14T14:53:09.148Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ 200
[debug] [2025-05-14T14:53:09.148Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzLzNncWhNdThYWnpZ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T12:18:49.636Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747235874&Signature=pRnabmPWAjZr%2Bi7lmAnp60TdB8oqqNW0PauOanTH3XXJ9hJMjTqQkBrOb9y04qFNA5OYoYEmgCTPUxVLYHoSUyi3QlYB02%2BOLupfxpwappZvE%2FhbUvcLytCtlaki1n1byx8iLijc4bBtBnWj2xLVjtG8ccVxF3fVP8A9i8WZr4Tm5RC200C03tjhTKNA33b8HlLXqeq8lywdGE60Oi8QZN6llhbiz%2B2VpuIR1Z87MZuk63n4ky4zIvu5Ln%2BzHZg0k3StB3xFC%2FW97ccFOKrzSCRSq%2BnF4BkOnvECyc%2FVmnDXtyInmMEumUYGnzRKCDBNx6T7vhHnoAHBEi0ZHhLeqQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"aa300a26-e447-4103-a413-b73bf6cb39bd","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/aa300a26-e447-4103-a413-b73bf6cb39bd","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:52:59Z","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","sourceToken":"9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T14:53:09.149Z] Got source token 9ff954a6-47c9-40b1-8c8c-5ce5f58ff24d for region us-central1
[info] ✔  functions[learn_getFeaturedArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T14:53:18.453Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:53:18.453Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:18.453Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:18.453Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:53:19.226Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:53:19.226Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:53:19.226Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:53:29.228Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:53:29.229Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:29.229Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:29.229Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:53:30.038Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:53:30.039Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:53:30.039Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:53:40.040Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:53:40.041Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:40.042Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:40.042Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:53:40.404Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:53:40.404Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:53:40.404Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:53:50.406Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:53:50.406Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:50.406Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:53:50.407Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:53:51.206Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:53:51.207Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:53:51.207Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:54:01.207Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:54:01.208Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:01.208Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:01.208Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:54:01.984Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:54:01.984Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:54:01.984Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:54:11.985Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:54:11.986Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:11.986Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:11.986Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:54:12.749Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:54:12.750Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:54:12.750Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:54:22.751Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:54:22.752Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:22.752Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:22.752Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:54:23.583Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:54:23.583Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:54:23.584Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:54:33.584Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:54:33.584Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:33.585Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:33.585Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:54:34.372Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:54:34.372Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:54:34.372Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:54:44.374Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:54:44.374Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:44.374Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:44.374Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:54:45.119Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:54:45.119Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:54:45.120Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:54:55.121Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:54:55.121Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:55.121Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:54:55.122Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:54:55.907Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:54:55.908Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:54:55.908Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:55:05.910Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:55:05.910Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:05.910Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:05.911Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:55:06.705Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:55:06.705Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:55:06.705Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:55:16.706Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:55:16.707Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:16.707Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:16.707Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:55:17.486Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:55:17.487Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:55:17.487Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:55:27.489Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:55:27.490Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:27.491Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:27.491Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:55:28.304Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:55:28.304Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:55:28.304Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:55:38.306Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:55:38.307Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:38.307Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:38.307Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:55:38.571Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:55:38.571Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:55:38.571Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:55:48.572Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:55:48.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:48.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:48.573Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:55:49.357Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:55:49.357Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2"},"done":false}
[debug] [2025-05-14T14:55:49.357Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYWFlOWNjZDktNmQyYS00ZjBiLWFlNjEtYzRiYTA5YjM1OWQyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoLCLXcksEGENCnrmsyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T14:55:59.358Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:55:59.358Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:59.358Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:55:59.359Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c [none]
[debug] [2025-05-14T14:56:00.139Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c 200
[debug] [2025-05-14T14:56:00.139Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234086686-63519a3138fd9-f81ee5c5-36aa3c5c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:48:07.587968824Z","endTime":"2025-05-14T14:55:50.651599027Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00018-pax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00019-gaf' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00019-gaf&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00019-gaf%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-05-14T14:56:00.139Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00019-gaf' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00019-gaf&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00019-gaf%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-05-14T14:56:00.156Z] Total Function Deployment time: 473827
[debug] [2025-05-14T14:56:00.156Z] 17 Functions Deployed
[debug] [2025-05-14T14:56:00.156Z] 4 Functions Errored
[debug] [2025-05-14T14:56:00.156Z] 0 Function Deployments Aborted
[debug] [2025-05-14T14:56:00.156Z] Average Function Deployment time: 202327.41176470587
[info] 
[info] Functions deploy had errors with the following functions:
	app(us-central1)
	getAutocompleteSuggestions(us-central1)
	getFatSecretFoodDetails(us-central1)
	createUserProfile(us-central1)
[debug] [2025-05-14T14:56:00.299Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.300Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.301Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.301Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.301Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile [none]
[debug] [2025-05-14T14:56:00.301Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile [none]
[debug] [2025-05-14T14:56:00.302Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile [none]
[debug] [2025-05-14T14:56:00.302Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url [none]
[debug] [2025-05-14T14:56:00.302Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image [none]
[debug] [2025-05-14T14:56:00.302Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image [none]
[debug] [2025-05-14T14:56:00.303Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug [none]
[debug] [2025-05-14T14:56:00.303Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category [none]
[debug] [2025-05-14T14:56:00.304Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories [none]
[debug] [2025-05-14T14:56:00.304Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles [none]
[debug] [2025-05-14T14:56:00.304Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles [none]
[debug] [2025-05-14T14:56:00.304Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles [none]
[debug] [2025-05-14T14:56:00.305Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition [none]
[debug] [2025-05-14T14:56:00.305Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details [none]
[debug] [2025-05-14T14:56:00.305Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions [none]
[debug] [2025-05-14T14:56:00.306Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image [none]
[debug] [2025-05-14T14:56:00.306Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app [none]
[debug] [2025-05-14T14:56:00.306Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T14:56:00.724Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug 200
[debug] [2025-05-14T14:56:00.724Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug {"name":"projects/nutrisnap2/locations/us-central1/operations/65f1030b-05ab-43a7-bd33-1fa403a1137d","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:00.724Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.724Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.724Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/65f1030b-05ab-43a7-bd33-1fa403a1137d [none]
[debug] [2025-05-14T14:56:00.840Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T14:56:00.840Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T14:56:00.840Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T14:56:00.842Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.842Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:00.842Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T14:56:01.100Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile 200
[debug] [2025-05-14T14:56:01.100Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile {"name":"projects/nutrisnap2/locations/us-central1/operations/57b33243-c03c-4ba2-a6e9-f2a3196c7ed4","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.100Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.101Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.101Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/57b33243-c03c-4ba2-a6e9-f2a3196c7ed4 [none]
[debug] [2025-05-14T14:56:01.108Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories 404
[debug] [2025-05-14T14:56:01.108Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.108Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T14:56:01.108Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T14:56:01.108Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T14:56:01.109Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category 404
[debug] [2025-05-14T14:56:01.109Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.111Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image 200
[debug] [2025-05-14T14:56:01.111Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image {"name":"projects/nutrisnap2/locations/us-central1/operations/ffef931e-064c-4a8b-8d8d-9b42013e0c5e","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.111Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.111Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.111Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/ffef931e-064c-4a8b-8d8d-9b42013e0c5e [none]
[debug] [2025-05-14T14:56:01.113Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile 404
[debug] [2025-05-14T14:56:01.113Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.114Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile 404
[debug] [2025-05-14T14:56:01.115Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.116Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles 404
[debug] [2025-05-14T14:56:01.116Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.141Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles 404
[debug] [2025-05-14T14:56:01.141Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.152Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image 200
[debug] [2025-05-14T14:56:01.152Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image {"name":"projects/nutrisnap2/locations/us-central1/operations/3feacc6d-076b-4c07-874d-557f3f2af8f2","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.152Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.152Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.152Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/3feacc6d-076b-4c07-874d-557f3f2af8f2 [none]
[debug] [2025-05-14T14:56:01.158Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition 200
[debug] [2025-05-14T14:56:01.158Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition {"name":"projects/nutrisnap2/locations/us-central1/operations/f8e477a1-3c4a-4951-bd54-30675b25ed89","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.158Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.158Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.158Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/f8e477a1-3c4a-4951-bd54-30675b25ed89 [none]
[debug] [2025-05-14T14:56:01.159Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app 200
[debug] [2025-05-14T14:56:01.159Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app {"name":"projects/nutrisnap2/locations/us-central1/operations/6f86e2e7-714b-4aa9-9f66-e6dde8c94237","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.159Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.159Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.160Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6f86e2e7-714b-4aa9-9f66-e6dde8c94237 [none]
[debug] [2025-05-14T14:56:01.164Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles 404
[debug] [2025-05-14T14:56:01.164Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.168Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image 200
[debug] [2025-05-14T14:56:01.168Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image {"name":"projects/nutrisnap2/locations/us-central1/operations/7f706e7a-b6eb-45c3-847a-0a297f80801f","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.168Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.168Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.168Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/7f706e7a-b6eb-45c3-847a-0a297f80801f [none]
[debug] [2025-05-14T14:56:01.172Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions 404
[debug] [2025-05-14T14:56:01.172Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.173Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details 404
[debug] [2025-05-14T14:56:01.173Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T14:56:01.194Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url 200
[debug] [2025-05-14T14:56:01.194Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url {"name":"projects/nutrisnap2/locations/us-central1/operations/86b031a0-aa43-496c-9569-0fca6c112036","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T14:56:01.194Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.194Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.195Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/86b031a0-aa43-496c-9569-0fca6c112036 [none]
[debug] [2025-05-14T14:56:01.209Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.209Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:56:01.209Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T14:56:01.486Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/65f1030b-05ab-43a7-bd33-1fa403a1137d 200
[debug] [2025-05-14T14:56:01.486Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/65f1030b-05ab-43a7-bd33-1fa403a1137d {"name":"projects/nutrisnap2/locations/us-central1/operations/65f1030b-05ab-43a7-bd33-1fa403a1137d","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.488Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T14:56:01.488Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T14:56:01.488Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T14:56:01.862Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/57b33243-c03c-4ba2-a6e9-f2a3196c7ed4 200
[debug] [2025-05-14T14:56:01.862Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/57b33243-c03c-4ba2-a6e9-f2a3196c7ed4 {"name":"projects/nutrisnap2/locations/us-central1/operations/57b33243-c03c-4ba2-a6e9-f2a3196c7ed4","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.868Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/ffef931e-064c-4a8b-8d8d-9b42013e0c5e 200
[debug] [2025-05-14T14:56:01.868Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/ffef931e-064c-4a8b-8d8d-9b42013e0c5e {"name":"projects/nutrisnap2/locations/us-central1/operations/ffef931e-064c-4a8b-8d8d-9b42013e0c5e","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.914Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/3feacc6d-076b-4c07-874d-557f3f2af8f2 200
[debug] [2025-05-14T14:56:01.914Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/3feacc6d-076b-4c07-874d-557f3f2af8f2 {"name":"projects/nutrisnap2/locations/us-central1/operations/3feacc6d-076b-4c07-874d-557f3f2af8f2","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.921Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/f8e477a1-3c4a-4951-bd54-30675b25ed89 200
[debug] [2025-05-14T14:56:01.921Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/f8e477a1-3c4a-4951-bd54-30675b25ed89 {"name":"projects/nutrisnap2/locations/us-central1/operations/f8e477a1-3c4a-4951-bd54-30675b25ed89","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.921Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/7f706e7a-b6eb-45c3-847a-0a297f80801f 200
[debug] [2025-05-14T14:56:01.921Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/7f706e7a-b6eb-45c3-847a-0a297f80801f {"name":"projects/nutrisnap2/locations/us-central1/operations/7f706e7a-b6eb-45c3-847a-0a297f80801f","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.937Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6f86e2e7-714b-4aa9-9f66-e6dde8c94237 200
[debug] [2025-05-14T14:56:01.937Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6f86e2e7-714b-4aa9-9f66-e6dde8c94237 {"name":"projects/nutrisnap2/locations/us-central1/operations/6f86e2e7-714b-4aa9-9f66-e6dde8c94237","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T14:56:01.966Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/86b031a0-aa43-496c-9569-0fca6c112036 200
[debug] [2025-05-14T14:56:01.966Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/86b031a0-aa43-496c-9569-0fca6c112036 {"name":"projects/nutrisnap2/locations/us-central1/operations/86b031a0-aa43-496c-9569-0fca6c112036","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/nutrisnap2/us/gcf 
[debug] [2025-05-14T14:56:01.967Z] Functions deploy failed.
[debug] [2025-05-14T14:56:01.967Z] {
  "endpoint": {
    "id": "createUserProfile",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "createUserProfile",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "providers/firebase.auth/eventTypes/user.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/nutrisnap2"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/functions/createUserProfile"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "62fb434f0f5f4606d25132048813b8c1a07e9ab3"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "original": {
      "code": 3,
      "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Error: function load attempt timed out.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T14:56:01.967Z] {
  "endpoint": {
    "id": "getAutocompleteSuggestions",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "getAutocompleteSuggestions",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions"
    },
    "codebase": "default",
    "runServiceId": "getautocompletesuggestions",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "689d82af8b204b4221d17569223ee96db59bc8eb"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service getautocompletesuggestions, Container Healthcheck failed. Revision 'getautocompletesuggestions-00003-pef' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getautocompletesuggestions/revision_name/getautocompletesuggestions-00003-pef&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getautocompletesuggestions%22%0Aresource.labels.revision_name%3D%22getautocompletesuggestions-00003-pef%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service getautocompletesuggestions, Container Healthcheck failed. Revision 'getautocompletesuggestions-00003-pef' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getautocompletesuggestions/revision_name/getautocompletesuggestions-00003-pef&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getautocompletesuggestions%22%0Aresource.labels.revision_name%3D%22getautocompletesuggestions-00003-pef%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T14:56:01.967Z] {
  "endpoint": {
    "id": "getFatSecretFoodDetails",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "getFatSecretFoodDetails",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails"
    },
    "codebase": "default",
    "runServiceId": "getfatsecretfooddetails",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "689d82af8b204b4221d17569223ee96db59bc8eb"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00015-muq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00015-muq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00015-muq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00015-muq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00015-muq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00015-muq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T14:56:01.967Z] {
  "endpoint": {
    "id": "app",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "app",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "serviceAccount": null,
    "timeoutSeconds": 120,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/services/app"
    },
    "codebase": "default",
    "runServiceId": "app",
    "availableMemoryMb": 256,
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "689d82af8b204b4221d17569223ee96db59bc8eb"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00019-gaf' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00019-gaf&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00019-gaf%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service app, Container Healthcheck failed. Revision 'app-00019-gaf' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/app/revision_name/app-00019-gaf&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22app%22%0Aresource.labels.revision_name%3D%22app-00019-gaf%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function createUserProfile in region us-central1
[error] - Error Failed to update function getAutocompleteSuggestions in region us-central1
[error] - Error Failed to update function getFatSecretFoodDetails in region us-central1
[error] - Error Failed to update function app in region us-central1
[debug] [2025-05-14T14:57:57.158Z] ----------------------------------------------------------------------
[debug] [2025-05-14T14:57:57.159Z] Command:       /Users/arnauddecube/.nvm/versions/node/v18.20.8/bin/node /Users/arnauddecube/.nvm/versions/node/v18.20.8/bin/firebase deploy --only functions --project nutrisnap2
[debug] [2025-05-14T14:57:57.159Z] CLI Version:   13.35.1
[debug] [2025-05-14T14:57:57.159Z] Platform:      darwin
[debug] [2025-05-14T14:57:57.159Z] Node Version:  v18.20.8
[debug] [2025-05-14T14:57:57.160Z] Time:          Wed May 14 2025 15:57:57 GMT+0100 (British Summer Time)
[debug] [2025-05-14T14:57:57.160Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-14T14:57:57.260Z] Object "/functions" in "firebase.json" has unknown property: {"additionalProperty":"v1"}
[debug] [2025-05-14T14:57:57.260Z] Field "/functions" in "firebase.json" is possibly invalid: must be array
[debug] [2025-05-14T14:57:57.260Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-05-14T14:57:57.262Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-14T14:57:57.262Z] > authorizing via signed-in user (sleepyarno@gmail.com)
[debug] [2025-05-14T14:57:57.262Z] [iam] checking project nutrisnap2 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-05-14T14:57:57.263Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:57.263Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:57.263Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions [none]
[debug] [2025-05-14T14:57:57.263Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:57:57.264Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-14T14:57:57.967Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions 200
[debug] [2025-05-14T14:57:57.968Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-05-14T14:57:57.968Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:57.968Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:57.968Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-14T14:57:57.968Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-14T14:57:58.231Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-14T14:57:58.231Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/nutrisnap2/serviceAccounts/nutrisnap2@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'nutrisnap2'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2025-05-14T14:57:58.815Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:58.815Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:58.815Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 [none]
[debug] [2025-05-14T14:57:59.085Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 200
[debug] [2025-05-14T14:57:59.086Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 {"projectNumber":"1013120896740","projectId":"nutrisnap2","lifecycleState":"ACTIVE","name":"NutriSnap2","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-24T21:36:33.778282Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-14T14:57:59.087Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.087Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.087Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.087Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-14T14:57:59.088Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.088Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-14T14:57:59.088Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.088Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.088Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-14T14:57:59.088Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:57:59.090Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-14T14:57:59.090Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:57:59.091Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-14T14:57:59.091Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:57:59.092Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-14T14:57:59.092Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:57:59.773Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-14T14:57:59.773Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-14T14:57:59.988Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-14T14:57:59.988Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-14T14:57:59.990Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com 200
[debug] [2025-05-14T14:57:59.990Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-14T14:57:59.992Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com 200
[debug] [2025-05-14T14:57:59.992Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-14T14:57:59.993Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.993Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:57:59.993Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig [none]
[debug] [2025-05-14T14:58:00.521Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig 200
[debug] [2025-05-14T14:58:00.521Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/nutrisnap2/adminSdkConfig {"projectId":"nutrisnap2","storageBucket":"nutrisnap2.firebasestorage.app"}
[debug] [2025-05-14T14:58:00.522Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.522Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.522Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs [none]
[debug] [2025-05-14T14:58:00.860Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs 200
[debug] [2025-05-14T14:58:00.860Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs {"configs":[{"name":"projects/nutrisnap2/configs/fatsecret"},{"name":"projects/nutrisnap2/configs/functions"},{"name":"projects/nutrisnap2/configs/limits"},{"name":"projects/nutrisnap2/configs/openai"},{"name":"projects/nutrisnap2/configs/usda"},{"name":"projects/nutrisnap2/configs/app"}]}
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.860Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.861Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.861Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.861Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.861Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:00.861Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables [none]
[debug] [2025-05-14T14:58:00.862Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables [none]
[debug] [2025-05-14T14:58:00.864Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables [none]
[debug] [2025-05-14T14:58:00.865Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables [none]
[debug] [2025-05-14T14:58:00.866Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables [none]
[debug] [2025-05-14T14:58:00.868Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables [none]
[debug] [2025-05-14T14:58:01.127Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables 200
[debug] [2025-05-14T14:58:01.127Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables {"variables":[{"name":"projects/nutrisnap2/configs/usda/variables/api_key","updateTime":"2025-05-02T21:46:46.257370799Z"}]}
[debug] [2025-05-14T14:58:01.128Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.128Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.128Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key [none]
[debug] [2025-05-14T14:58:01.130Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables 200
[debug] [2025-05-14T14:58:01.130Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables {"variables":[{"name":"projects/nutrisnap2/configs/openai/variables/api_key","updateTime":"2025-05-06T13:27:19.488607311Z"},{"name":"projects/nutrisnap2/configs/openai/variables/model","updateTime":"2025-05-06T13:31:00.645406310Z"}]}
[debug] [2025-05-14T14:58:01.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.131Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key [none]
[debug] [2025-05-14T14:58:01.133Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model [none]
[debug] [2025-05-14T14:58:01.145Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables 200
[debug] [2025-05-14T14:58:01.145Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables {"variables":[{"name":"projects/nutrisnap2/configs/functions/variables/memory","updateTime":"2025-05-06T15:06:10.989702191Z"}]}
[debug] [2025-05-14T14:58:01.146Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.146Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.146Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory [none]
[debug] [2025-05-14T14:58:01.149Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables 200
[debug] [2025-05-14T14:58:01.149Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables {"variables":[{"name":"projects/nutrisnap2/configs/fatsecret/variables/client_id","updateTime":"2025-05-08T09:44:44.853619324Z"},{"name":"projects/nutrisnap2/configs/fatsecret/variables/client_secret","updateTime":"2025-05-08T09:44:44.295776096Z"}]}
[debug] [2025-05-14T14:58:01.149Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.150Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.150Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.150Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.150Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id [none]
[debug] [2025-05-14T14:58:01.151Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret [none]
[debug] [2025-05-14T14:58:01.153Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables 200
[debug] [2025-05-14T14:58:01.153Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables {"variables":[{"name":"projects/nutrisnap2/configs/app/variables/enable_llm_enhancement","updateTime":"2025-05-06T13:27:35.731388673Z"},{"name":"projects/nutrisnap2/configs/app/variables/enable_usda","updateTime":"2025-05-06T15:09:39.755522370Z"}]}
[debug] [2025-05-14T14:58:01.153Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.153Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.153Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.153Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.153Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement [none]
[debug] [2025-05-14T14:58:01.155Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda [none]
[debug] [2025-05-14T14:58:01.164Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables 200
[debug] [2025-05-14T14:58:01.164Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables {"variables":[{"name":"projects/nutrisnap2/configs/limits/variables/memory","updateTime":"2025-05-07T14:54:23.507015005Z"}]}
[debug] [2025-05-14T14:58:01.164Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.164Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:01.164Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory [none]
[debug] [2025-05-14T14:58:01.391Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model 200
[debug] [2025-05-14T14:58:01.392Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/model {"name":"projects/nutrisnap2/configs/openai/variables/model","updateTime":"2025-05-06T13:31:00.645406310Z","text":"gpt-4o"}
[debug] [2025-05-14T14:58:01.393Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key 200
[debug] [2025-05-14T14:58:01.393Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/openai/variables/api_key {"name":"projects/nutrisnap2/configs/openai/variables/api_key","updateTime":"2025-05-06T13:27:19.488607311Z","text":"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"}
[debug] [2025-05-14T14:58:01.422Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement 200
[debug] [2025-05-14T14:58:01.422Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_llm_enhancement {"name":"projects/nutrisnap2/configs/app/variables/enable_llm_enhancement","updateTime":"2025-05-06T13:27:35.731388673Z","text":"true"}
[debug] [2025-05-14T14:58:01.422Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret 200
[debug] [2025-05-14T14:58:01.422Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_secret {"name":"projects/nutrisnap2/configs/fatsecret/variables/client_secret","updateTime":"2025-05-08T09:44:44.295776096Z","text":"afb99cbdc7bd4c798e3255640ec1fd9c"}
[debug] [2025-05-14T14:58:01.422Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda 200
[debug] [2025-05-14T14:58:01.422Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/app/variables/enable_usda {"name":"projects/nutrisnap2/configs/app/variables/enable_usda","updateTime":"2025-05-06T15:09:39.755522370Z","text":"true"}
[debug] [2025-05-14T14:58:01.431Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory 200
[debug] [2025-05-14T14:58:01.431Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/limits/variables/memory {"name":"projects/nutrisnap2/configs/limits/variables/memory","updateTime":"2025-05-07T14:54:23.507015005Z","text":"512MB"}
[debug] [2025-05-14T14:58:01.432Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory 200
[debug] [2025-05-14T14:58:01.432Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/functions/variables/memory {"name":"projects/nutrisnap2/configs/functions/variables/memory","updateTime":"2025-05-06T15:06:10.989702191Z","text":"512MB"}
[debug] [2025-05-14T14:58:01.499Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key 200
[debug] [2025-05-14T14:58:01.500Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/usda/variables/api_key {"name":"projects/nutrisnap2/configs/usda/variables/api_key","updateTime":"2025-05-02T21:46:46.257370799Z","text":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh"}
[debug] [2025-05-14T14:58:01.934Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id 200
[debug] [2025-05-14T14:58:01.935Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/nutrisnap2/configs/fatsecret/variables/client_id {"name":"projects/nutrisnap2/configs/fatsecret/variables/client_id","updateTime":"2025-05-08T09:44:44.853619324Z","text":"085c514845bd4626ac4591e21dc09713"}
[debug] [2025-05-14T14:58:01.937Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-31, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-05-14T14:58:02.389Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for NutriSnap",
  "scripts": {
    "test": "jest",
    "lint": "eslint src/*.js src/**/*.js --ignore-pattern src/food/detection.js",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "type": "commonjs",
  "dependencies": {
    "@google-cloud/aiplatform": "^3.4.0",
    "@google-cloud/secret-manager": "^6.0.1",
    "@google-cloud/vision": "^5.1.0",
    "dotenv": "^16.4.0",
    "firebase-admin": "^13.3.0",
    "firebase-functions": "^6.3.2",
    "node-fetch": "^2.7.0",
    "openai": "^4.41.0",
    "sharp": "^0.34.1",
    "uuid": "^11.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "eslint-config-prettier": "^10.1.5",
    "firebase-functions-test": "^3.4.1",
    "jest": "^29.7.0",
    "prettier": "^3.5.3",
    "supertest": "^7.1.0"
  },
  "private": true
}
[debug] [2025-05-14T14:58:02.390Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-14T14:58:02.390Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-14T14:58:02.394Z] Found firebase-functions binary at '/Users/arnauddecube/MANUS/NutriSnap/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8183

[debug] [2025-05-14T14:58:03.336Z] Got response from /__/functions.yaml {"endpoints":{"createUserProfile":{"platform":"gcfv1","availableMemoryMb":512,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/nutrisnap2"},"retry":false},"labels":{},"entryPoint":"createUserProfile"},"updateUserProfile":{"platform":"gcfv1","labels":{},"availableMemoryMb":512,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"updateUserProfile"},"getUserProfile":{"platform":"gcfv1","labels":{},"availableMemoryMb":512,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getUserProfile"},"getUploadUrl":{"platform":"gcfv1","labels":{},"availableMemoryMb":512,"timeoutSeconds":60,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"getUploadUrl"},"processUploadedImage":{"platform":"gcfv1","availableMemoryMb":512,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/nutrisnap2.firebasestorage.app"},"retry":false},"labels":{},"entryPoint":"processUploadedImage"},"analyzeFoodImage":{"availableMemoryMb":2048,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"analyzeFoodImage"},"learn_getKnowledgeArticleBySlug":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getKnowledgeArticleBySlug"},"learn_listKnowledgeArticlesByCategory":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_listKnowledgeArticlesByCategory"},"learn_listKnowledgeCategories":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_listKnowledgeCategories"},"learn_getFeaturedArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":512,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getFeaturedArticles"},"learn_searchKnowledgeArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_searchKnowledgeArticles"},"learn_getLatestArticles":{"platform":"gcfv1","labels":{},"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"learn_getLatestArticles"},"searchFatSecretNutrition":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"searchFatSecretNutrition"},"getFatSecretFoodDetails":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getFatSecretFoodDetails"},"getAutocompleteSuggestions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"getAutocompleteSuggestions"},"recognizeFoodFromImage":{"availableMemoryMb":512,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"recognizeFoodFromImage"},"app":{"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-14T14:58:03.358Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:03.358Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:03.358Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-14T14:58:03.358Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:58:04.261Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-14T14:58:04.261Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-14T14:58:04.262Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-14T14:58:04.262Z] > authorizing via signed-in user (sleepyarno@gmail.com)
[debug] [2025-05-14T14:58:04.262Z] [iam] checking project nutrisnap2 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-14T14:58:04.262Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:04.262Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:04.262Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions [none]
[debug] [2025-05-14T14:58:04.262Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:58:04.262Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-14T14:58:04.949Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions 200
[debug] [2025-05-14T14:58:04.949Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-14T14:58:04.950Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:04.950Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:04.951Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances pageSize=100&pageToken=
[debug] [2025-05-14T14:58:05.746Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances 200
[debug] [2025-05-14T14:58:05.746Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/nutrisnap2/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/arnauddecube/MANUS/NutriSnap/functions (790.07 KB) for uploading 
[info] i  functions: packaged /Users/arnauddecube/MANUS/NutriSnap/functions (790.62 KB) for uploading 
[debug] [2025-05-14T14:58:06.032Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:06.032Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:06.032Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions [none]
[debug] [2025-05-14T14:58:06.663Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions 200
[debug] [2025-05-14T14:58:06.664Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/-/functions {"functions":[{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getKnowledgeArticleBySlug","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:11.135916293Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getKnowledgeArticleBySlug"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_listKnowledgeCategories","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.691287150Z","versionId":"1","labels":{"firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeCategories"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getFeaturedArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:17.302860315Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getFeaturedArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_getLatestArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.635660746Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_getLatestArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_searchKnowledgeArticles","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:14.415085157Z","versionId":"1","labels":{"firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_searchKnowledgeArticles"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"62fb434f0f5f4606d25132048813b8c1a07e9ab3"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/74e51e3f-c2d5-475a-beff-47ea357224eb.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnV2_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learnV2_listKnowledgeArticlesByCategory","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-09T12:32:15.140535757Z","versionId":"1","labels":{"firebase-functions-hash":"65b2db2343c9c2634e42cf6176dad2e0f6a42840","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/7a69b283-2c85-4277-9b0a-3f5d88d595c3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learnV2_listKnowledgeArticlesByCategory"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ca8715d4-ba89-468e-be22-b40e57424e51","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/ca8715d4-ba89-468e-be22-b40e57424e51","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createUserProfile","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"06cb20c55c01feb5698296d007702706c2efca02"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/fac3d15c-3a0b-4f70-b76f-822c4ab6e639.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-05-14T14:58:06.665Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:06.665Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:06.666Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-14T14:58:07.747Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions 200
[debug] [2025-05-14T14:58:07.747Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/-/functions {"functions":[{"name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:51:49.895422208Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","createTime":"2025-05-08T10:56:47.287289138Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/8dd8ff03-e34a-42b8-9b7a-c3749b9d2338","runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:50:52.178667103Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","createTime":"2025-04-29T18:50:11.173073206Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/learnv2_getFeaturedArticles","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/ef48cf36-f724-43a1-a3ce-89af78899db7","runtime":"nodejs22","entryPoint":"learnv2_getFeaturedArticles","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"learnv2_getFeaturedArticles/function-source.zip","generation":"1747046953355584"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"learnv2_getFeaturedArticles/function-source.zip","generation":"1747046953355584"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/learnv2-getfeaturedarticles","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/learnv2_getFeaturedArticles","FUNCTION_TARGET":"learnv2_getFeaturedArticles","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://learnv2-getfeaturedarticles-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"learnv2-getfeaturedarticles-00001-gum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-12T10:51:23.680803617Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-codebase":"learn","firebase-functions-hash":"e640a827f46c30d7e0cbf3662ebadac1e882e810"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/learnv2_getFeaturedArticles","createTime":"2025-05-12T10:49:13.627795525Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/fatsecretApi","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/c6e840bf-f421-4b96-9048-95d83936dcad","runtime":"nodejs20","entryPoint":"fatsecretApi","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"fatsecretApi/function-source.zip","generation":"1746797893912556"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"fatsecretApi/function-source.zip","generation":"1746797893912556"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-05-09T13:41:12.036106520Z","labels":{"firebase-functions-hash":"0eb572bdd785984b29d84596b7bc393f752f78a4","deployment-tool":"cli-firebase"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/nutrisnap2/locations/us-central1/services/fatsecretapi for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/fatsecretApi","createTime":"2025-05-09T13:38:14.126086322Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234303624076"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:51:55.800423691Z","labels":{"deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","createTime":"2025-05-08T10:58:46.248832509Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/94ad5ebc-1daa-4ff0-87d8-68ce04a47ba8","runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:51:43.083171865Z","labels":{"deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","createTime":"2025-05-14T12:15:05.889619708Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getGlucoseCurve","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/852387a7-5b41-43d3-8365-985dacbe13be","runtime":"nodejs20","entryPoint":"getGlucoseCurve","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getGlucoseCurve/function-source.zip","generation":"1746797894323470"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getGlucoseCurve/function-source.zip","generation":"1746797894323470"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getglucosecurve","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getGlucoseCurve","FUNCTION_TARGET":"getGlucoseCurve","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getglucosecurve-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"getglucosecurve-00037-cub","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-09T13:40:36.522738644Z","labels":{"deployment-callable":"true","firebase-functions-hash":"0eb572bdd785984b29d84596b7bc393f752f78a4","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getGlucoseCurve","createTime":"2025-05-06T21:31:40.525790640Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/116d51b6-be8e-4ceb-aebc-46d7685e4cf3","runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234303625842"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:51:57.457285691Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","createTime":"2025-05-12T22:29:04.222209961Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/getFoodScanResult","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/54c52efe-9ccd-4fe3-8df0-418ba124ba58","runtime":"nodejs20","entryPoint":"getFoodScanResult","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFoodScanResult/function-source.zip","generation":"1747212172320117"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFoodScanResult/function-source.zip","generation":"1747212172320117"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfoodscanresult","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFoodScanResult","FUNCTION_TARGET":"getFoodScanResult","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getfoodscanresult-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"getfoodscanresult-00015-soc","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T08:45:36.500957376Z","labels":{"firebase-functions-hash":"477bb539aca0add0e7096e9112b11ce35c4a9186","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFoodScanResult","createTime":"2025-05-08T13:12:36.712994893Z","satisfiesPzi":true},{"name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/aae9ccd9-6d2a-4f0b-ae61-c4ba09b359d2","runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234087485988"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:55:50.662434677Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"689d82af8b204b4221d17569223ee96db59bc8eb"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","createTime":"2025-05-08T13:11:32.783695608Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:07.750Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:07.750Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com [none]
[debug] [2025-05-14T14:58:07.750Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:58:07.752Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com [none]
[debug] [2025-05-14T14:58:07.752Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:58:07.752Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com [none]
[debug] [2025-05-14T14:58:07.752Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:58:07.753Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com [none]
[debug] [2025-05-14T14:58:07.753Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com x-goog-quota-user=projects/nutrisnap2
[debug] [2025-05-14T14:58:08.613Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com 200
[debug] [2025-05-14T14:58:08.613Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2025-05-14T14:58:08.614Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com 200
[debug] [2025-05-14T14:58:08.615Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-05-14T14:58:08.939Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com 200
[debug] [2025-05-14T14:58:08.940Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-05-14T14:58:08.941Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com 200
[debug] [2025-05-14T14:58:08.941Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/nutrisnap2/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-05-14T14:58:08.942Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:08.942Z] Checked if tokens are valid: true, expires at: 1747237658127
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-05-14T14:58:08.942Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:08.942Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:08.942Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-14T14:58:08.944Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-05-14T14:58:09.775Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-14T14:58:09.775Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1013120896740@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"108019676898955115488"}}
[debug] [2025-05-14T14:58:09.821Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-05-14T14:58:09.822Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/1013120896740/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-1013120896740@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"105070618098291756144"}}
[debug] [2025-05-14T14:58:09.823Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:09.823Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:09.823Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 [none]
[debug] [2025-05-14T14:58:10.520Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 200
[debug] [2025-05-14T14:58:10.520Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/nutrisnap2 {"projectNumber":"1013120896740","projectId":"nutrisnap2","lifecycleState":"ACTIVE","name":"NutriSnap2","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-04-24T21:36:33.778282Z"}
[debug] [2025-05-14T14:58:10.523Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:10.523Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:10.523Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo [none]
[debug] [2025-05-14T14:58:11.343Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo 200
[debug] [2025-05-14T14:58:11.343Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/nutrisnap2/billingInfo {"name":"projects/nutrisnap2/billingInfo","projectId":"nutrisnap2","billingAccountName":"billingAccounts/0182E2-603B80-7D2AD6","billingEnabled":true}
[debug] [2025-05-14T14:58:11.345Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:11.345Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:11.345Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:11.345Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:58:11.345Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-14T14:58:11.345Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-05-14T14:58:11.348Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-05-14T14:58:12.025Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-14T14:58:12.025Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D"}
[debug] [2025-05-14T14:58:12.025Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip GoogleAccessId=service-1013120896740%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D
[debug] [2025-05-14T14:58:12.025Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip [stream]
[debug] [2025-05-14T14:58:12.217Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-05-14T14:58:12.217Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/d767306f-ccfa-4398-b139-47560211dd6b.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236492&Signature=WHWbB4alyqYSLnzcPwukg%2FRVQ6AH1hGrYX%2BAq29%2ByTv%2BSHRdJVJ2mQdovDSho8RHtRo2BXyq%2FS52SgfkUsO%2BpRhVCEk3luBNrSsHPFYkhw4RTGVXb%2Bq%2BCJisVXJXzmMFevK0DByBXWqPUbIV4%2BIAGDhfCK5rbtQg%2BJ%2Bugd3oUI0IPNv2eUZnGnpCHLarUVRrLQHicFyDZGN8JZwYTAEk2Jy71uU32VKkn8skbhZK2qnIXMLJvmJZ3nxL9329Zca8VIDfyz%2FqNHqj1Zb%2FowV0677bFpXrD16smsdmk5fCgBS5JLE%2B8staBUjM4pv6Ok1TcitNKNno6%2FLHLOIdmhHCVQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}}
[debug] [2025-05-14T14:58:12.217Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/d767306f-ccfa-4398-b139-47560211dd6b.zip GoogleAccessId=service-1013120896740%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236492&Signature=WHWbB4alyqYSLnzcPwukg%2FRVQ6AH1hGrYX%2BAq29%2ByTv%2BSHRdJVJ2mQdovDSho8RHtRo2BXyq%2FS52SgfkUsO%2BpRhVCEk3luBNrSsHPFYkhw4RTGVXb%2Bq%2BCJisVXJXzmMFevK0DByBXWqPUbIV4%2BIAGDhfCK5rbtQg%2BJ%2Bugd3oUI0IPNv2eUZnGnpCHLarUVRrLQHicFyDZGN8JZwYTAEk2Jy71uU32VKkn8skbhZK2qnIXMLJvmJZ3nxL9329Zca8VIDfyz%2FqNHqj1Zb%2FowV0677bFpXrD16smsdmk5fCgBS5JLE%2B8staBUjM4pv6Ok1TcitNKNno6%2FLHLOIdmhHCVQ%3D%3D
[debug] [2025-05-14T14:58:12.217Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/d767306f-ccfa-4398-b139-47560211dd6b.zip [stream]
[debug] [2025-05-14T14:58:13.033Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip 200
[debug] [2025-05-14T14:58:13.033Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip [omitted]
[debug] [2025-05-14T14:58:13.355Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/d767306f-ccfa-4398-b139-47560211dd6b.zip 200
[debug] [2025-05-14T14:58:13.355Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com/d767306f-ccfa-4398-b139-47560211dd6b.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	getFoodScanResult(us-central1)
	getGlucoseCurve(us-central1)
	learnV2_getFeaturedArticles(us-central1)
	learnV2_getKnowledgeArticleBySlug(us-central1)
	learnV2_getLatestArticles(us-central1)
	learnV2_listKnowledgeArticlesByCategory(us-central1)
	learnV2_listKnowledgeCategories(us-central1)
	learnV2_searchKnowledgeArticles(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 18 (2nd Gen) function app(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function createUserProfile(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function updateUserProfile(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function getUserProfile(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function getUploadUrl(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function processUploadedImage(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_getFeaturedArticles(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function recognizeFoodFromImage(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function analyzeFoodImage(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_getKnowledgeArticleBySlug(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_listKnowledgeArticlesByCategory(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_listKnowledgeCategories(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_searchKnowledgeArticles(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function learn_getLatestArticles(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function searchFatSecretNutrition(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function getFatSecretFoodDetails(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function getAutocompleteSuggestions(us-central1)... 
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.243Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.244Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:59:17.244Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app {"name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":120,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"}}
[debug] [2025-05-14T14:59:17.247Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:59:17.247Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"createUserProfile","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:59:17.248Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:59:17.248Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage {"name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"512Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"}}
[debug] [2025-05-14T14:59:17.250Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:59:17.250Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage {"name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"2Gi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"}}
[debug] [2025-05-14T14:59:17.251Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T14:59:17.252Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"learn_getKnowledgeArticleBySlug","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T14:59:17.252Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T14:59:17.253Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition {"name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"}}
[debug] [2025-05-14T14:59:17.773Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile 200
[debug] [2025-05-14T14:59:17.773Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/createUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z"}}
[debug] [2025-05-14T14:59:17.774Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.774Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.775Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:17.846Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug 200
[debug] [2025-05-14T14:59:17.846Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z"}}
[debug] [2025-05-14T14:59:17.846Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.846Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:17.846Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:18.078Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:18.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z"}}
[debug] [2025-05-14T14:59:18.108Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:18.109Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z"}}
[debug] [2025-05-14T14:59:18.452Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage 200
[debug] [2025-05-14T14:59:18.452Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:59:18.452Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.452Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.452Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:18.580Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:18.580Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.580Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.581Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:18.611Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:18.611Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.611Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.612Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:18.656Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app 200
[debug] [2025-05-14T14:59:18.656Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/app {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:59:18.656Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.656Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.657Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:18.789Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition 200
[debug] [2025-05-14T14:59:18.790Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:59:18.790Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.790Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.790Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:18.793Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage 200
[debug] [2025-05-14T14:59:18.793Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T14:59:18.794Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.794Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:18.794Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:18.840Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:18.840Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:18.905Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:18.905Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:19.258Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:19.258Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:19.418Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:19.419Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:19.565Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:19.565Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:19.565Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:19.565Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:19.760Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:19.760Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.761Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.761Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:19.842Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:19.843Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.843Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.843Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:19.906Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:19.907Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.907Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.907Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:19.920Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:19.920Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.920Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:19.920Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:20.066Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:20.066Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:20.066Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:20.066Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:20.068Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:20.069Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:20.069Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:20.069Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:20.153Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:20.153Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:20.219Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:20.219Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:20.570Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:20.570Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:20.736Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:20.736Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:20.830Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:20.830Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:20.848Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:20.849Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:21.572Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:21.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.573Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.573Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:21.738Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:21.739Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.739Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.739Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:21.833Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:21.833Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.833Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.833Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:21.850Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:21.850Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.850Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:21.850Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:22.154Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:22.155Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:22.155Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:22.155Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:22.220Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:22.221Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:22.221Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:22.221Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:22.399Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:22.399Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:22.514Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:22.514Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:22.556Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:22.557Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:22.557Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:22.557Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:22.635Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:22.635Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:22.636Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:22.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:24.400Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:24.401Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.401Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.401Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:24.558Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:24.559Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.559Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.560Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:24.636Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:24.636Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.636Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.636Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:24.639Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:24.639Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.639Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:24.639Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:25.148Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:25.148Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:25.311Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:25.311Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:25.377Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:25.377Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:25.385Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:25.385Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:26.516Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:26.518Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:26.518Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:26.518Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:26.558Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:26.559Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:26.559Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:26.559Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:26.761Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:26.762Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:26.829Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:26.829Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:29.149Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:29.149Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.149Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.150Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:29.313Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:29.315Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.315Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.317Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:29.378Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:29.379Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.379Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.379Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:29.385Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:29.385Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.385Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:29.385Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:29.903Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:29.903Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:30.086Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:30.087Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:30.125Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:30.125Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:30.161Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:30.161Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:34.763Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:34.763Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:34.764Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:34.764Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:34.831Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:34.832Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:34.838Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:34.838Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:35.079Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:35.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:35.128Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:35.128Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:37.905Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:37.906Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:37.906Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:37.906Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:38.088Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:38.088Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:38.088Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:38.088Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:38.125Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:38.126Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:38.126Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:38.126Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:38.163Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:38.163Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:38.163Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:38.163Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:38.739Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:38.739Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:38.873Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:38.873Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:38.875Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:38.875Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:38.898Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:38.898Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:45.081Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:45.084Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:45.084Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:45.085Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:45.129Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:45.129Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:45.129Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:45.129Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:45.338Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:45.338Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:45.388Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:45.388Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:48.744Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:48.744Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.744Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.744Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:48.877Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:48.877Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.877Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.877Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:48.878Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:48.878Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.878Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.879Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:48.899Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:48.900Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.900Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:48.901Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T14:59:49.476Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T14:59:49.476Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T14:59:49.621Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T14:59:49.621Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T14:59:49.637Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T14:59:49.637Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T14:59:49.663Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T14:59:49.663Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T14:59:55.343Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T14:59:55.345Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:55.345Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:55.345Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T14:59:55.390Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T14:59:55.390Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:55.390Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:55.390Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T14:59:55.603Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T14:59:55.603Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T14:59:55.625Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T14:59:55.625Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T14:59:59.478Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T14:59:59.478Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.478Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.478Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T14:59:59.623Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T14:59:59.623Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.623Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.623Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T14:59:59.637Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T14:59:59.638Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.638Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.638Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T14:59:59.663Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T14:59:59.663Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.664Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T14:59:59.664Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:00:00.278Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:00:00.278Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:00:00.404Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:00:00.404Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:00:00.407Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:00:00.407Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:00:00.476Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:00:00.476Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:00:05.604Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:05.604Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:05.605Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:05.605Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:00:05.628Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:00:05.628Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:05.628Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:05.628Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:00:05.853Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:00:05.854Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:05.911Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:00:05.912Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:10.280Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:00:10.280Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.280Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.281Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:00:10.406Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:00:10.406Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.406Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.406Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:00:10.409Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:00:10.409Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.409Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.409Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:00:10.476Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:00:10.477Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.477Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:10.477Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:00:11.033Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:00:11.034Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:00:11.165Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:00:11.166Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:00:11.187Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:00:11.187Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:00:11.229Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:00:11.229Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:00:15.855Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:15.856Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:15.856Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:15.856Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:00:15.913Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:00:15.913Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:15.913Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:15.913Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:00:16.112Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:00:16.112Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:16.153Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:00:16.153Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:21.035Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:00:21.037Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.037Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.037Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:00:21.167Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:00:21.168Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.168Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.168Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:00:21.188Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:00:21.189Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.189Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.189Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:00:21.234Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:00:21.235Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.235Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:21.235Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:00:21.851Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:00:21.851Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:00:21.955Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:00:21.956Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:00:21.989Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:00:21.989Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:00:22.026Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:00:22.026Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:00:26.113Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:26.114Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.114Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.115Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:00:26.154Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:00:26.155Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.155Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.155Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:00:26.367Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:00:26.367Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:26.367Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.367Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.368Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.368Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"updateUserProfile","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.370Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.370Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile {"name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"getUserProfile","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.370Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.371Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl {"name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"getUploadUrl","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"60s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.371Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.371Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage {"name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"processUploadedImage","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.372Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.372Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"learn_getFeaturedArticles","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"serviceAccountEmail":null,"availableMemoryMb":512,"timeout":"120s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.376Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:00:26.376Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:26.376Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.376Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.376Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"learn_listKnowledgeArticlesByCategory","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.377Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.377Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"learn_listKnowledgeCategories","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.379Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.379Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"learn_searchKnowledgeArticles","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.379Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-05-14T15:00:26.379Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles {"name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","entryPoint":"learn_getLatestArticles","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"serviceAccountEmail":null,"availableMemoryMb":1024,"timeout":"300s","vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-05-14T15:00:26.848Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory 200
[debug] [2025-05-14T15:00:26.848Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:26.848Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.848Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.849Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:26.851Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile 200
[debug] [2025-05-14T15:00:26.851Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/updateUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:26.851Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.851Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.851Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:26.855Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage 200
[debug] [2025-05-14T15:00:26.855Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/processUploadedImage {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:26.856Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.856Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.856Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:26.859Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile 200
[debug] [2025-05-14T15:00:26.859Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUserProfile {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:26.859Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.859Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.859Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:26.871Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories 200
[debug] [2025-05-14T15:00:26.871Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:26.871Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.871Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.871Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:26.875Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles 200
[debug] [2025-05-14T15:00:26.875Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:26.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.875Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:26.877Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl 200
[debug] [2025-05-14T15:00:26.877Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/getUploadUrl {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:26.877Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.877Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.877Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:26.883Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles 200
[debug] [2025-05-14T15:00:26.883Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:26.883Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.883Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.883Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:26.884Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles 200
[debug] [2025-05-14T15:00:26.884Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:26.884Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.884Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:26.884Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:27.116Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:27.116Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:27.117Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.117Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:27.117Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:27.117Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.119Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:27.119Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:27.119Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.138Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:27.138Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:27.138Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.139Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:27.139Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:27.139Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.140Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:27.140Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:27.140Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.140Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:27.140Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:27.140Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.154Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:27.154Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f"}}
[debug] [2025-05-14T15:00:27.154Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.170Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:27.170Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","sourceToken":"94306423-570c-438d-bd75-3a5536be285e"}}
[debug] [2025-05-14T15:00:27.170Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.618Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:27.618Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.618Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.618Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:27.621Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:00:27.621Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.621Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.621Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:27.624Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:00:27.624Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.624Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.624Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:27.640Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:27.641Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.641Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.641Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:27.644Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:00:27.644Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.644Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.644Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:27.646Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:00:27.646Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.646Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.646Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:27.648Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:00:27.648Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.648Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.648Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:27.654Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:00:27.654Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.654Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.654Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:27.671Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:00:27.671Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.671Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:27.671Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:27.859Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:27.859Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:27.859Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.869Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:27.870Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:27.870Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.870Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:27.870Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:27.870Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.892Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:27.892Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:27.892Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.893Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:27.893Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:27.893Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:27.899Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:27.899Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:27.899Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.899Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:27.899Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:27.900Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.904Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:27.904Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:27.904Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:27.930Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:27.931Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:27.931Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:28.861Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:00:28.863Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.863Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.863Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:28.869Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:00:28.870Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.870Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.870Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:28.871Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:28.871Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.871Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.872Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:28.892Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:00:28.892Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.892Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.892Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:28.894Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:00:28.894Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.894Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.894Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:28.899Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:00:28.899Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.899Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.899Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:28.901Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:00:28.901Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.901Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.901Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:28.905Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:28.905Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.905Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.905Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:28.932Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:00:28.932Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.932Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:28.933Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:29.121Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:29.121Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:29.121Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:29.121Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:29.121Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:29.121Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:29.122Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:29.122Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:29.122Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:29.134Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:29.134Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:29.134Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:29.134Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:29.134Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:29.134Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:29.135Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:29.135Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:29.135Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:29.135Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:29.136Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:29.136Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:29.137Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:29.137Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:29.137Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:29.184Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:29.184Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:29.184Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:31.121Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:00:31.123Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.123Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.123Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:31.128Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:00:31.128Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.128Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.128Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:31.130Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:31.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.130Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.130Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:31.135Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:00:31.135Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.135Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.135Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:31.137Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:00:31.137Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.137Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.137Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:31.138Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:31.138Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.138Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.138Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:31.139Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:00:31.139Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.139Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.140Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:31.141Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:00:31.141Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.141Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.141Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:31.185Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:00:31.185Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.185Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.185Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:31.387Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:31.389Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:31.389Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:31.389Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:31.389Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:31.389Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:31.390Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:31.390Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:31.390Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:31.390Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:31.390Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:31.390Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:31.391Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:31.391Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:31.391Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:31.391Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:31.391Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:31.391Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:31.391Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:31.391Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:31.391Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:31.393Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:31.393Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:31.393Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:31.441Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:31.441Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:31.441Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:31.853Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:00:31.854Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.854Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.854Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:00:31.957Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:00:31.958Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.958Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.958Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:00:31.990Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:00:31.991Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.991Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:31.991Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:00:32.028Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:00:32.032Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:32.032Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:32.033Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:00:32.707Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:00:32.707Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:00:32.762Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:00:32.762Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:00:32.765Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:00:32.765Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:00:32.800Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:00:32.800Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:00:35.391Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:35.392Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.392Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.392Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:35.396Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:00:35.396Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.396Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.396Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:35.398Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:00:35.398Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.398Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.398Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:35.401Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:00:35.401Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.401Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.401Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:35.403Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:35.403Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.403Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.403Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:35.404Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:00:35.404Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.404Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.405Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:35.406Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:00:35.406Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.406Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.406Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:35.407Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:00:35.407Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.407Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.407Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:35.442Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:00:35.442Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.442Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:35.442Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:35.631Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:35.631Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:35.631Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:35.641Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:35.641Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:35.641Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:35.644Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:35.644Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:35.644Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:35.647Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:35.647Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:35.647Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:35.651Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:35.651Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:35.651Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:35.655Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:35.655Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:35.655Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:35.656Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:35.656Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:35.656Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:35.671Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:35.672Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:35.672Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:35.694Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:35.694Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:35.695Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:36.368Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:36.369Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:36.370Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:36.370Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:00:36.375Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:00:36.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:36.376Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:36.376Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:00:36.624Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:00:36.625Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:36.625Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:36.625Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:00:36.625Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:36.625Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:42.708Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:00:42.710Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.710Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.711Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:00:42.764Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:00:42.765Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.765Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.765Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:00:42.769Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:00:42.769Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.769Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.769Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:00:42.804Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:00:42.805Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.805Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:42.805Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:00:43.561Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:00:43.561Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:00:43.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:00:43.562Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:00:43.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:00:43.562Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:00:43.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:00:43.562Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:00:43.636Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:43.636Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.636Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.636Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:43.642Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:00:43.642Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.642Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.642Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:43.645Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:00:43.646Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.646Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.646Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:43.649Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:00:43.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.649Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.649Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:43.651Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:00:43.651Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.651Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.651Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:43.657Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:00:43.657Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.657Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.657Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:43.660Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:00:43.660Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.660Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.660Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:43.673Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:43.673Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.673Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.673Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:43.696Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:00:43.696Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.696Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:43.696Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:43.892Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:43.892Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:43.892Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:43.897Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:43.897Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:43.897Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:43.897Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:43.897Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:43.898Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:43.901Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:43.901Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:43.901Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:43.919Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:43.919Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:43.919Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:43.919Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:43.919Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:43.919Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:43.920Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:43.920Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:43.920Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:43.922Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:43.922Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:43.923Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:43.957Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:43.958Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:43.958Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:46.626Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:46.627Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:46.627Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:46.627Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:00:46.629Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:00:46.630Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:46.630Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:46.630Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:00:46.854Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:00:46.855Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:46.855Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:46.883Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:00:46.883Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:46.883Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:53.566Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:00:53.567Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.567Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.567Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:00:53.570Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:00:53.570Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.570Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.570Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:00:53.572Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:00:53.572Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.572Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.572Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:00:53.574Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:00:53.574Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.574Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.574Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:00:53.894Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:00:53.895Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.895Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.895Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:00:53.900Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:00:53.901Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.901Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.901Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:00:53.904Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:00:53.904Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.904Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.904Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:00:53.906Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:53.906Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.906Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.906Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:00:53.920Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:00:53.920Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.920Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.920Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:00:53.921Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:53.921Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.921Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.921Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:00:53.923Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:00:53.923Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.923Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.923Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:00:53.924Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:00:53.924Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.924Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.924Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:00:53.959Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:00:53.959Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.959Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:53.959Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:00:54.209Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:00:54.209Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:54.209Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:54.209Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:00:54.209Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:54.211Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:54.213Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:00:54.213Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:54.213Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:54.213Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:00:54.213Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:54.213Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:54.214Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:00:54.214Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:54.214Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:54.224Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:00:54.224Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:54.224Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:54.225Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:00:54.225Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:54.225Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:54.237Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:00:54.237Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:54.237Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:54.238Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:00:54.238Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:54.238Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:00:54.322Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:00:54.323Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:00:54.328Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:00:54.328Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:00:54.346Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:00:54.347Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:00:54.427Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:00:54.428Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:00:56.857Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:00:56.859Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:56.859Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:56.859Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:00:56.885Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:00:56.886Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:56.886Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:00:56.886Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:00:57.111Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:00:57.112Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T14:59:17Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:00:57.112Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:00:57.136Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:00:57.136Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:00:57.136Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:01:04.210Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:01:04.212Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.212Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.212Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:01:04.219Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:01:04.219Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.220Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.220Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:01:04.221Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:01:04.222Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.222Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.222Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:01:04.223Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:01:04.223Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.223Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.223Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:01:04.224Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:01:04.224Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.224Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.224Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:01:04.226Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:01:04.226Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.226Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.226Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:01:04.227Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:01:04.227Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.227Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.227Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:01:04.238Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:01:04.239Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.239Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.239Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:01:04.240Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:01:04.240Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.240Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.240Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:01:04.324Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:01:04.324Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.325Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.325Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:01:04.329Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:01:04.329Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.329Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.329Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:01:04.348Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:01:04.348Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.348Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.349Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:01:04.429Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:01:04.430Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.430Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:04.430Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:01:04.452Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:01:04.453Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:01:04.453Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:01:04.465Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:01:04.466Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:01:04.467Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:01:04.469Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:01:04.469Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:01:04.469Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:01:04.471Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:01:04.471Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:01:04.472Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:01:04.472Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:01:04.472Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:01:04.472Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:01:04.473Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:01:04.473Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:01:04.473Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:01:04.474Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:01:04.474Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:01:04.474Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:01:04.478Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:01:04.478Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:00:26Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:01:04.478Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:01:04.487Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:01:04.487Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:00:26Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"}}
[debug] [2025-05-14T15:01:04.487Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[debug] [2025-05-14T15:01:05.094Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:01:05.095Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:01:05.097Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:01:05.097Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:05.105Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:01:05.105Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:01:05.191Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:01:05.191Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:01:07.113Z] [update-default-us-central1-createUserProfile] Retrying task index 0
[debug] [2025-05-14T15:01:07.114Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:07.114Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:07.114Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ [none]
[debug] [2025-05-14T15:01:07.137Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:01:07.137Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:07.137Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:07.137Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:01:07.375Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:01:07.376Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T14:59:17Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"}}
[debug] [2025-05-14T15:01:07.376Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[debug] [2025-05-14T15:01:07.377Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ 200
[debug] [2025-05-14T15:01:07.377Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9jcmVhdGVVc2VyUHJvZmlsZS90c2VKWmdOdDhjTQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com"},"status":"ACTIVE","entryPoint":"createUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T12:16:42.498Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","buildId":"0fa8e16c-9d01-486d-a781-3a3f0bf27c86","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/0fa8e16c-9d01-486d-a781-3a3f0bf27c86","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"73","updateTime":"2025-05-14T15:01:06Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/nutrisnap2","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"createUserProfile","timeout":"60s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:06.089Z","versionId":"73","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/createUserProfile"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:07.378Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[info] ✔  functions[createUserProfile(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.454Z] [update-default-us-central1-updateUserProfile] Retrying task index 0
[debug] [2025-05-14T15:01:14.455Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.455Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.455Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA [none]
[debug] [2025-05-14T15:01:14.468Z] [update-default-us-central1-getUploadUrl] Retrying task index 0
[debug] [2025-05-14T15:01:14.468Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.468Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.468Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc [none]
[debug] [2025-05-14T15:01:14.470Z] [update-default-us-central1-getUserProfile] Retrying task index 0
[debug] [2025-05-14T15:01:14.471Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.471Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.471Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ [none]
[debug] [2025-05-14T15:01:14.473Z] [update-default-us-central1-learn_getFeaturedArticles] Retrying task index 0
[debug] [2025-05-14T15:01:14.473Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.473Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.473Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw [none]
[debug] [2025-05-14T15:01:14.474Z] [update-default-us-central1-learn_searchKnowledgeArticles] Retrying task index 0
[debug] [2025-05-14T15:01:14.474Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.474Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.474Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw [none]
[debug] [2025-05-14T15:01:14.475Z] [update-default-us-central1-learn_listKnowledgeArticlesByCategory] Retrying task index 0
[debug] [2025-05-14T15:01:14.475Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.475Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.476Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ [none]
[debug] [2025-05-14T15:01:14.477Z] [update-default-us-central1-learn_listKnowledgeCategories] Retrying task index 0
[debug] [2025-05-14T15:01:14.477Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.477Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.477Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw [none]
[debug] [2025-05-14T15:01:14.479Z] [update-default-us-central1-learn_getLatestArticles] Retrying task index 0
[debug] [2025-05-14T15:01:14.479Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.479Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.479Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw [none]
[debug] [2025-05-14T15:01:14.487Z] [update-default-us-central1-processUploadedImage] Retrying task index 0
[debug] [2025-05-14T15:01:14.488Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.488Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:14.488Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA [none]
[debug] [2025-05-14T15:01:14.703Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA 200
[debug] [2025-05-14T15:01:14.703Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS91cGRhdGVVc2VyUHJvZmlsZS8tbkJYYkwyRjRGNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:46.096Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:01:09Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/updateUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfile","timeout":"60s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:09.672Z","versionId":"72","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/updateUserProfile"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.704Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[info] ✔  functions[updateUserProfile(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.707Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw 200
[debug] [2025-05-14T15:01:14.707Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRGZWF0dXJlZEFydGljbGVzL09iZGl2RGd1RmMw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:59.647Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:01:07Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getFeaturedArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getFeaturedArticles","timeout":"120s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:07.752Z","versionId":"21","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getFeaturedArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.707Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[info] ✔  functions[learn_getFeaturedArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.708Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw 200
[debug] [2025-05-14T15:01:14.709Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9zZWFyY2hLbm93bGVkZ2VBcnRpY2xlcy96aXU4MHljYV9Wcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.976Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:01:06Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_searchKnowledgeArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_searchKnowledgeArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:06.855Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_searchKnowledgeArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.709Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[info] ✔  functions[learn_searchKnowledgeArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.710Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ 200
[debug] [2025-05-14T15:01:14.710Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVc2VyUHJvZmlsZS9JQ0pKM3R4di03SQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","availableMemoryMb":512,"updateTime":"2025-05-14T14:50:00.535Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","buildId":"d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/d792fadd-cfdd-46cd-8db2-2ca5eccde4d0","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:01:05Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUserProfile","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserProfile","timeout":"60s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:05.510Z","versionId":"72","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUserProfile"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.711Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[info] ✔  functions[getUserProfile(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.718Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw 200
[debug] [2025-05-14T15:01:14.718Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQ2F0ZWdvcmllcy9TLWhyMXhuNGRmbw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.250Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"21","updateTime":"2025-05-14T15:01:09Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeCategories","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeCategories","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:09.078Z","versionId":"21","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeCategories"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.718Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[info] ✔  functions[learn_listKnowledgeCategories(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.722Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ 200
[debug] [2025-05-14T15:01:14.722Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9saXN0S25vd2xlZGdlQXJ0aWNsZXNCeUNhdGVnb3J5LzVxWEllSXk2NjFJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:54.508Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:01:08Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_listKnowledgeArticlesByCategory","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_listKnowledgeArticlesByCategory","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:08.223Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_listKnowledgeArticlesByCategory"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.722Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[info] ✔  functions[learn_listKnowledgeArticlesByCategory(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.722Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc 200
[debug] [2025-05-14T15:01:14.722Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9nZXRVcGxvYWRVcmwvVDNucGZwa3RUbGc","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"updateTime":"2025-05-14T14:49:44.873Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","buildId":"855f4bf5-84fe-4afe-accc-838007a99929","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/855f4bf5-84fe-4afe-accc-838007a99929","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:01:06Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/getUploadUrl","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUploadUrl","timeout":"60s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:06.815Z","versionId":"72","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/getUploadUrl"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.722Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[info] ✔  functions[getUploadUrl(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.730Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA 200
[debug] [2025-05-14T15:01:14.730Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9wcm9jZXNzVXBsb2FkZWRJbWFnZS9hcE5FQzJfbTFKOA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com"},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"updateTime":"2025-05-14T14:52:57.072Z","versionId":"71","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","buildId":"10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/10eecbdc-a89a-4e38-9fcc-1585db6b3e7f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"72","updateTime":"2025-05-14T15:01:06Z","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","sourceToken":"fd0021c4-46ea-4c47-b116-996b77d19c1f","buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/nutrisnap2.firebasestorage.app","service":"storage.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processUploadedImage","timeout":"300s","availableMemoryMb":512,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:06.335Z","versionId":"72","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/processUploadedImage"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"be353589-ced7-43e5-8fc8-d5a5d9b28533","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/be353589-ced7-43e5-8fc8-d5a5d9b28533","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.730Z] Got source token fd0021c4-46ea-4c47-b116-996b77d19c1f for region us-central1
[info] ✔  functions[processUploadedImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:14.756Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw 200
[debug] [2025-05-14T15:01:14.756Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRMYXRlc3RBcnRpY2xlcy9RYllkQWpCLXo2bw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:55.009Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"19","updateTime":"2025-05-14T15:01:09Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getLatestArticles","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getLatestArticles","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:09.734Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getLatestArticles"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:14.756Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[info] ✔  functions[learn_getLatestArticles(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:15.096Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:01:15.097Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.097Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.098Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:01:15.101Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:01:15.102Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.102Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.102Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:01:15.106Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:01:15.106Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.106Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.106Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:01:15.192Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:01:15.196Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.196Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.196Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:01:15.855Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:01:15.855Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:15.855Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:15.855Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.855Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.855Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.855Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:15.855Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T15:01:15.855Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails {"name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE="},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"}}
[debug] [2025-05-14T15:01:15.856Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-05-14T15:01:15.856Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions {"name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-uploads-1013120896740.us-central1.cloudfunctions.appspot.com","object":"d767306f-ccfa-4398-b139-47560211dd6b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE="},"serviceConfig":{"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"}}
[debug] [2025-05-14T15:01:15.869Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:01:15.869Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:01:15.870Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T15:01:15.874Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:01:15.874Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:01:15.986Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:01:15.986Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:01:17.228Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails 200
[debug] [2025-05-14T15:01:17.228Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T15:01:17.229Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:17.229Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:17.229Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:17.240Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions 200
[debug] [2025-05-14T15:01:17.240Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-05-14T15:01:17.241Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:17.241Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:17.241Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:17.378Z] [update-default-us-central1-learn_getKnowledgeArticleBySlug] Retrying task index 0
[debug] [2025-05-14T15:01:17.379Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:17.379Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:17.379Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 [none]
[debug] [2025-05-14T15:01:17.645Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 200
[debug] [2025-05-14T15:01:17.645Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4 {"name":"operations/bnV0cmlzbmFwMi91cy1jZW50cmFsMS9sZWFybl9nZXRLbm93bGVkZ2VBcnRpY2xlQnlTbHVnL1VPU0pvWWhzN3A4","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"updateTime":"2025-05-14T14:50:41.898Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip?GoogleAccessId=service-1013120896740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1747236491&Signature=Urx6nbWM7ut8anFmbyjhpjyS7vUGcdeiA%2BoKKqLPL7fRfGx2jEGAjBxrUfClM%2BEoJ1q0iw3EYHOsyxAJKJnY9DtSppK5ecMCsISLmNXklxB1nrFvtIlPtG%2BFVASYfWiYYLAk5YvuekZwPYbcVzeyTXLkSjk0NDw5AwxW%2BT89jETyFG6PmlLjyoLlNtjm%2Bohwl%2BIf9s%2FPUGgQQkt%2FJ9WlOHekt5Ikazbdd2Uyj3OAs48QOb%2FmrNs%2FGud3AaaoyhcQBa9WfK8O653REW3vIJKCFBUUDF4zHT9dxSQ4GJE%2Bo3XwAdf7e3ffVIb4Yx364oHk3xG0Rn%2FjDCAG3teRbr7KZQ%3D%3D","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","buildId":"914b9d56-9f45-40fd-a007-bfc71e903456","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/914b9d56-9f45-40fd-a007-bfc71e903456","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"},"versionId":"20","updateTime":"2025-05-14T15:01:08Z","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","sourceToken":"94306423-570c-438d-bd75-3a5536be285e","buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug","httpsTrigger":{"url":"https://us-central1-nutrisnap2.cloudfunctions.net/learn_getKnowledgeArticleBySlug","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"learn_getKnowledgeArticleBySlug","timeout":"300s","availableMemoryMb":1024,"serviceAccountEmail":"nutrisnap2@appspot.gserviceaccount.com","updateTime":"2025-05-14T15:01:08.951Z","versionId":"20","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"58d8897327b29f504f02910b7b298233a3379f01"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-89684039167.us-central1.cloudfunctions.appspot.com/e35bd694-0238-4329-b505-7df2e592402f.zip","environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/functions/learn_getKnowledgeArticleBySlug"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"e880e107-f95b-4c33-9889-e07e1c209529","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/1013120896740/locations/us-central1/builds/e880e107-f95b-4c33-9889-e07e1c209529","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com"}}
[debug] [2025-05-14T15:01:17.645Z] Got source token 94306423-570c-438d-bd75-3a5536be285e for region us-central1
[info] ✔  functions[learn_getKnowledgeArticleBySlug(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:18.029Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:18.030Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:18.030Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:18.038Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:18.038Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:18.038Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:18.531Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T15:01:18.532Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:18.532Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:18.532Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:18.538Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:18.538Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:18.538Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:18.538Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:19.277Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:19.277Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:19.277Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:19.318Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:19.319Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:19.319Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:20.279Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T15:01:20.280Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:20.281Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:20.281Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:20.320Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:20.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:20.321Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:20.321Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:21.051Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:21.052Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:21.052Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:21.099Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:21.101Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:21.101Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:23.054Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T15:01:23.054Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:23.055Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:23.055Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:23.102Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:23.103Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:23.103Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:23.103Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:23.837Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:23.838Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:23.838Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:23.870Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:23.871Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:23.871Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:25.856Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:01:25.857Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.857Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.857Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:01:25.871Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:01:25.871Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.871Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.871Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:01:25.875Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:01:25.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.875Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:01:25.989Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:01:25.993Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.993Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:25.994Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:01:26.175Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:01:26.175Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:01:26.176Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T15:01:26.776Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:01:26.777Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:26.777Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:26.778Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:01:26.778Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:01:26.789Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:01:26.789Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:01:27.839Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T15:01:27.840Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:27.840Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:27.840Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:27.875Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:27.875Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:27.876Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:27.876Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:28.620Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:28.620Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:28.621Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:28.636Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:28.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:28.637Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:36.177Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:01:36.178Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.178Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.179Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:01:36.623Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T15:01:36.624Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.624Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.624Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:36.637Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:36.637Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.637Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.637Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:36.778Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:01:36.778Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.779Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.779Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:01:36.784Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:01:36.784Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.784Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.784Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:01:36.790Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:01:36.790Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.790Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:36.790Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:01:36.928Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:01:36.929Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:01:36.929Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T15:01:37.382Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:37.382Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getfatsecretfooddetails?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:37.382Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:37.418Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:37.418Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:37.419Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:37.549Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:01:37.550Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:01:37.550Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:01:37.550Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:37.550Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:37.552Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:01:37.552Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:01:46.929Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:01:46.930Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:46.930Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:46.930Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:01:47.384Z] [update-default-us-central1-getFatSecretFoodDetails] Retrying task index 0
[debug] [2025-05-14T15:01:47.385Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.385Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.385Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd [none]
[debug] [2025-05-14T15:01:47.420Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:47.421Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.421Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.421Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:47.551Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:01:47.552Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.552Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.552Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:01:47.557Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:01:47.557Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.557Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.557Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:01:47.559Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:01:47.559Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.559Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:47.560Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:01:47.643Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd 200
[debug] [2025-05-14T15:01:47.643Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876593-63519d22895a7-d8183dc2-37e3becd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.181097823Z","endTime":"2025-05-14T15:01:43.757666768Z","target":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getFatSecretFoodDetails","buildConfig":{"runtime":"nodejs18","entryPoint":"getFatSecretFoodDetails","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getFatSecretFoodDetails/function-source.zip","generation":"1747234877129156"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getfatsecretfooddetails","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails","FUNCTION_TARGET":"getFatSecretFoodDetails","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getfatsecretfooddetails-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getfatsecretfooddetails-00015-muq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getFatSecretFoodDetails","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00016-tad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00016-tad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00016-tad%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-05-14T15:01:47.643Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00016-tad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00016-tad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00016-tad%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-05-14T15:01:47.690Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:01:47.690Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":false}
[debug] [2025-05-14T15:01:47.690Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T15:01:48.179Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:48.179Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:48.179Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:48.327Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:01:48.327Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:01:48.328Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:01:48.328Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":false}
[debug] [2025-05-14T15:01:48.328Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:01:48.329Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:01:48.330Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:01:57.691Z] [update-default-us-central1-analyzeFoodImage] Retrying task index 0
[debug] [2025-05-14T15:01:57.692Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:57.692Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:57.692Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 [none]
[debug] [2025-05-14T15:01:58.181Z] [update-default-us-central1-getAutocompleteSuggestions] Retrying task index 0
[debug] [2025-05-14T15:01:58.182Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.182Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.182Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 [none]
[debug] [2025-05-14T15:01:58.329Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:01:58.329Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.329Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.330Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:01:58.333Z] [update-default-us-central1-searchFatSecretNutrition] Retrying task index 0
[debug] [2025-05-14T15:01:58.333Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.333Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.333Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 [none]
[debug] [2025-05-14T15:01:58.335Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:01:58.335Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.335Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:01:58.335Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:01:58.443Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 200
[debug] [2025-05-14T15:01:58.445Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757991-63519cb16db27-ece6e5d2-fe28c191","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.740277419Z","endTime":"2025-05-14T15:01:48.452849436Z","target":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234088034717"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00132-vul","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1abd73e8-08f0-4b8a-967d-c18803348830?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/analyzefoodimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/analyzeFoodImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/1abd73e8-08f0-4b8a-967d-c18803348830","runtime":"nodejs18","entryPoint":"analyzeFoodImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"analyzeFoodImage/function-source.zip","generation":"1747234758699510"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/analyzefoodimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/analyzeFoodImage","FUNCTION_TARGET":"analyzeFoodImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://analyzefoodimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"2Gi","allTrafficOnLatestRevision":true,"revision":"analyzefoodimage-00133-rir","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:59:18.742335468Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/analyzeFoodImage","createTime":"2025-04-29T18:50:11.173073206Z","satisfiesPzi":true}}
[debug] [2025-05-14T15:01:58.445Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvMWFiZDczZTgtMDhmMC00YjhhLTk2N2QtYzE4ODAzMzQ4ODMwEmp1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hbmFseXplX2Zvb2RfaW1hZ2U6dmVyc2lvbl8xGOSd2JW+HSJEcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FuYWx5emVGb29kSW1hZ2UqCwi64JLBBhCotfdzMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[info] ✔  functions[analyzeFoodImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:58.953Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 200
[debug] [2025-05-14T15:01:58.953Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234876615-63519d228ec00-3cb036a9-ad2e3e31","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T15:01:17.201566196Z","endTime":"2025-05-14T15:01:48.483285825Z","target":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00003-pef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Runtime nodejs18 is currently deprecated for Cloud Functions. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/getautocompletesuggestions?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/getAutocompleteSuggestions","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","runtime":"nodejs18","entryPoint":"getAutocompleteSuggestions","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"getAutocompleteSuggestions/function-source.zip","generation":"1747234877159068"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/getautocompletesuggestions","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/getAutocompleteSuggestions","FUNCTION_TARGET":"getAutocompleteSuggestions","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://getautocompletesuggestions-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"getautocompletesuggestions-00004-ruk","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T15:01:17.203904767Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/getAutocompleteSuggestions","createTime":"2025-05-12T22:29:04.222209961Z","satisfiesPzi":true}}
[debug] [2025-05-14T15:01:58.954Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[info] ✔  functions[getAutocompleteSuggestions(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:59.106Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:01:59.106Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:01:59.107Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 200
[debug] [2025-05-14T15:01:59.107Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234758005-63519cb1711fa-f1acd1c6-d9428016","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.739460652Z","endTime":"2025-05-14T15:01:48.892115630Z","target":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234087735197"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00015-may","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/c11abf00-e4c1-461e-aa6d-5e2da36218d1?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/searchfatsecretnutrition?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/searchFatSecretNutrition","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/c11abf00-e4c1-461e-aa6d-5e2da36218d1","runtime":"nodejs18","entryPoint":"searchFatSecretNutrition","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"searchFatSecretNutrition/function-source.zip","generation":"1747234758692917"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/searchfatsecretnutrition","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/searchFatSecretNutrition","FUNCTION_TARGET":"searchFatSecretNutrition","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://searchfatsecretnutrition-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"searchfatsecretnutrition-00016-kad","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:59:18.742177192Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/searchFatSecretNutrition","createTime":"2025-05-08T10:56:47.287289138Z","satisfiesPzi":true}}
[debug] [2025-05-14T15:01:59.107Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvYzExYWJmMDAtZTRjMS00NjFlLWFhNmQtNWUyZGEzNjIxOGQxEnN1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19zZWFyY2hfZmF0X3NlY3JldF9udXRyaXRpb246dmVyc2lvbl8xGOSd2JW+HSJMcHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL3NlYXJjaEZhdFNlY3JldE51dHJpdGlvbioLCLXgksEGEOiq4hMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[info] ✔  functions[searchFatSecretNutrition(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:01:59.108Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:01:59.108Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZTM0ZGI1M2UtZTA5Yy00MzBjLThjOWQtYjZjM2E0NDM5OGIyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoMCObgksEGEMDS+t0BMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:01:59.108Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZTM0ZGI1M2UtZTA5Yy00MzBjLThjOWQtYjZjM2E0NDM5OGIyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoMCObgksEGEMDS+t0BMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T15:02:09.108Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:02:09.109Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:09.109Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:09.109Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:02:09.112Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:02:09.113Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:09.113Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:09.113Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:02:09.469Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:02:09.469Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZTM0ZGI1M2UtZTA5Yy00MzBjLThjOWQtYjZjM2E0NDM5OGIyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoMCObgksEGEMDS+t0BMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":false}
[debug] [2025-05-14T15:02:09.469Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZTM0ZGI1M2UtZTA5Yy00MzBjLThjOWQtYjZjM2E0NDM5OGIyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoMCObgksEGEMDS+t0BMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-05-14T15:02:09.876Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:02:09.876Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvNTk2NTQwMGUtNTIzOS00NTJiLTliNTUtYWUzOTVkNTI2NzI1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI5+CSwQYQuPOwwQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":false}
[debug] [2025-05-14T15:02:09.876Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvNTk2NTQwMGUtNTIzOS00NTJiLTliNTUtYWUzOTVkNTI2NzI1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI5+CSwQYQuPOwwQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-05-14T15:02:19.471Z] [update-default-us-central1-app] Retrying task index 0
[debug] [2025-05-14T15:02:19.476Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:19.476Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:19.476Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 [none]
[debug] [2025-05-14T15:02:19.878Z] [update-default-us-central1-recognizeFoodFromImage] Retrying task index 0
[debug] [2025-05-14T15:02:19.879Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:19.880Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:19.880Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af [none]
[debug] [2025-05-14T15:02:20.246Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 200
[debug] [2025-05-14T15:02:20.247Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1 {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757990-63519cb16d9ec-5280c849-094ca2f1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.609477434Z","endTime":"2025-05-14T15:02:14.129567399Z","target":"projects/nutrisnap2/locations/us-central1/functions/app","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00019-gaf","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e34db53e-e09c-430c-8c9d-b6c3a44398b2?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/app","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/app?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZTM0ZGI1M2UtZTA5Yy00MzBjLThjOWQtYjZjM2E0NDM5OGIyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoMCObgksEGEMDS+t0BMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/app","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/e34db53e-e09c-430c-8c9d-b6c3a44398b2","runtime":"nodejs18","entryPoint":"app","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"app/function-source.zip","generation":"1747234758564852"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/app","timeoutSeconds":120,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/app","FUNCTION_TARGET":"app","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://app-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"app-00020-xiv","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:59:18.611677064Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/app","createTime":"2025-05-08T13:11:32.783695608Z","satisfiesPzi":true}}
[debug] [2025-05-14T15:02:20.247Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvZTM0ZGI1M2UtZTA5Yy00MzBjLThjOWQtYjZjM2E0NDM5OGIyElt1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19hcHA6dmVyc2lvbl8xGOSd2JW+HSI3cHJvamVjdHMvbnV0cmlzbmFwMi9sb2NhdGlvbnMvdXMtY2VudHJhbDEvZnVuY3Rpb25zL2FwcCoMCObgksEGEMDS+t0BMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[info] ✔  functions[app(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:02:20.810Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af 200
[debug] [2025-05-14T15:02:20.810Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af {"name":"projects/nutrisnap2/locations/us-central1/operations/operation-1747234757492-63519cb0f4098-6e7bb215-c99604af","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-05-14T14:59:18.408951061Z","endTime":"2025-05-14T15:02:16.335112920Z","target":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234087787557"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00002-mej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/5965400e-5239-452b-9b55-ae395d526725?project=1013120896740"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/recognizefoodfromimage?project=nutrisnap2","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvNTk2NTQwMGUtNTIzOS00NTJiLTliNTUtYWUzOTVkNTI2NzI1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI5+CSwQYQuPOwwQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/nutrisnap2/locations/us-central1/functions/recognizeFoodFromImage","buildConfig":{"build":"projects/1013120896740/locations/us-central1/builds/5965400e-5239-452b-9b55-ae395d526725","runtime":"nodejs18","entryPoint":"recognizeFoodFromImage","source":{"storageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1013120896740-us-central1","object":"recognizeFoodFromImage/function-source.zip","generation":"1747234758360455"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/nutrisnap2/serviceAccounts/1013120896740-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/nutrisnap2/locations/us-central1/services/recognizefoodfromimage","timeoutSeconds":60,"environmentVariables":{"OPENAI_API_KEY":"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","ENABLE_LLM_ENHANCEMENT":"true","OPENAI_MODEL":"gpt-4o","USDA_API_KEY":"8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh","FATSECRET_CLIENT_ID":"085c514845bd4626ac4591e21dc09713","FATSECRET_CLIENT_SECRET":"afb99cbdc7bd4c798e3255640ec1fd9c","FIREBASE_CONFIG":"{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}","GCLOUD_PROJECT":"nutrisnap2","EVENTARC_CLOUD_EVENT_SOURCE":"projects/nutrisnap2/locations/us-central1/services/recognizeFoodFromImage","FUNCTION_TARGET":"recognizeFoodFromImage","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://recognizefoodfromimage-vksl3qqptq-uc.a.run.app","serviceAccountEmail":"1013120896740-compute@developer.gserviceaccount.com","availableMemory":"512Mi","allTrafficOnLatestRevision":true,"revision":"recognizefoodfromimage-00003-mam","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-05-14T14:59:18.410901830Z","labels":{"firebase-functions-hash":"a59dbee86d14c5a988ec86b5b424a2c69c6ab77f","deployment-tool":"cli-firebase","deployment-callable":"true"},"environment":"GEN_2","url":"https://us-central1-nutrisnap2.cloudfunctions.net/recognizeFoodFromImage","createTime":"2025-05-14T12:15:05.889619708Z","satisfiesPzi":true}}
[debug] [2025-05-14T15:02:20.810Z] Got source token Clhwcm9qZWN0cy8xMDEzMTIwODk2NzQwL2xvY2F0aW9ucy91cy1jZW50cmFsMS9idWlsZHMvNTk2NTQwMGUtNTIzOS00NTJiLTliNTUtYWUzOTVkNTI2NzI1EnF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9udXRyaXNuYXAyL2djZi1hcnRpZmFjdHMvbnV0cmlzbmFwMl9fdXMtLWNlbnRyYWwxX19yZWNvZ25pemVfZm9vZF9mcm9tX2ltYWdlOnZlcnNpb25fMRjkndiVvh0iSnByb2plY3RzL251dHJpc25hcDIvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9yZWNvZ25pemVGb29kRnJvbUltYWdlKgwI5+CSwQYQuPOwwQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[info] ✔  functions[recognizeFoodFromImage(us-central1)] Successful update operation. 
[debug] [2025-05-14T15:02:20.825Z] Total Function Deployment time: 183573
[debug] [2025-05-14T15:02:20.825Z] 17 Functions Deployed
[debug] [2025-05-14T15:02:20.825Z] 1 Functions Errored
[debug] [2025-05-14T15:02:20.825Z] 0 Function Deployments Aborted
[debug] [2025-05-14T15:02:20.825Z] Average Function Deployment time: 134683.11764705883
[info] 
[info] Functions deploy had errors with the following functions:
	getFatSecretFoodDetails(us-central1)
[info] Function URL (app(us-central1)): https://app-vksl3qqptq-uc.a.run.app
[info] i  functions: cleaning up build files... 
[debug] [2025-05-14T15:02:20.969Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.969Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.970Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.971Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.971Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:20.971Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile [none]
[debug] [2025-05-14T15:02:20.971Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile [none]
[debug] [2025-05-14T15:02:20.972Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile [none]
[debug] [2025-05-14T15:02:20.972Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url [none]
[debug] [2025-05-14T15:02:20.972Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image [none]
[debug] [2025-05-14T15:02:20.973Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image [none]
[debug] [2025-05-14T15:02:20.973Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug [none]
[debug] [2025-05-14T15:02:20.973Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category [none]
[debug] [2025-05-14T15:02:20.974Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories [none]
[debug] [2025-05-14T15:02:20.974Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles [none]
[debug] [2025-05-14T15:02:20.975Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles [none]
[debug] [2025-05-14T15:02:20.975Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles [none]
[debug] [2025-05-14T15:02:20.976Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition [none]
[debug] [2025-05-14T15:02:20.976Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details [none]
[debug] [2025-05-14T15:02:20.976Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions [none]
[debug] [2025-05-14T15:02:20.977Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image [none]
[debug] [2025-05-14T15:02:20.977Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app [none]
[debug] [2025-05-14T15:02:20.978Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T15:02:21.399Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T15:02:21.399Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T15:02:21.399Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T15:02:21.401Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.401Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.401Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T15:02:21.706Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T15:02:21.706Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T15:02:21.706Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T15:02:21.784Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile 404
[debug] [2025-05-14T15:02:21.784Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_user_profile\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.785Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile 404
[debug] [2025-05-14T15:02:21.785Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/update_user_profile\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.786Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles 404
[debug] [2025-05-14T15:02:21.787Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_latest_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.791Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url 404
[debug] [2025-05-14T15:02:21.791Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/get_upload_url\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.795Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile 200
[debug] [2025-05-14T15:02:21.795Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/create_user_profile {"name":"projects/nutrisnap2/locations/us-central1/operations/b2aabf9c-bf5b-46ed-8e35-cff2ef2b866a","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T15:02:21.797Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.797Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.797Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/b2aabf9c-bf5b-46ed-8e35-cff2ef2b866a [none]
[debug] [2025-05-14T15:02:21.799Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles 404
[debug] [2025-05-14T15:02:21.799Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_featured_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.802Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories 404
[debug] [2025-05-14T15:02:21.802Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_categories\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.802Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details 404
[debug] [2025-05-14T15:02:21.802Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_fat_secret_food_details\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.806Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.806Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.806Z] >>> [apiv2][query] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list [none]
[debug] [2025-05-14T15:02:21.808Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category 404
[debug] [2025-05-14T15:02:21.808Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__list_knowledge_articles_by_category\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.811Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions 404
[debug] [2025-05-14T15:02:21.811Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__get_autocomplete_suggestions\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.813Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image 404
[debug] [2025-05-14T15:02:21.813Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/process_uploaded_image\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.825Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles 404
[debug] [2025-05-14T15:02:21.825Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles {"error":{"code":404,"message":"Package \"projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__search_knowledge_articles\" was not found.","status":"NOT_FOUND"}}
[debug] [2025-05-14T15:02:21.838Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app 200
[debug] [2025-05-14T15:02:21.838Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__app {"name":"projects/nutrisnap2/locations/us-central1/operations/88fa706d-d7dd-4eb0-a42c-0bd5cecd9630","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T15:02:21.838Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.838Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.838Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/88fa706d-d7dd-4eb0-a42c-0bd5cecd9630 [none]
[debug] [2025-05-14T15:02:21.841Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug 200
[debug] [2025-05-14T15:02:21.841Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/learn__get_knowledge_article_by_slug {"name":"projects/nutrisnap2/locations/us-central1/operations/0f7f6cfe-4e50-4709-827f-9f4563202617","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T15:02:21.841Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.841Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.841Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/0f7f6cfe-4e50-4709-827f-9f4563202617 [none]
[debug] [2025-05-14T15:02:21.842Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition 200
[debug] [2025-05-14T15:02:21.842Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__search_fat_secret_nutrition {"name":"projects/nutrisnap2/locations/us-central1/operations/8315b401-64b5-4a8a-ba9a-6945ee704a07","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T15:02:21.843Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.843Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.843Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/8315b401-64b5-4a8a-ba9a-6945ee704a07 [none]
[debug] [2025-05-14T15:02:21.846Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image 200
[debug] [2025-05-14T15:02:21.846Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__analyze_food_image {"name":"projects/nutrisnap2/locations/us-central1/operations/e6765b8a-a424-4d3b-b1fe-3553ed75116e","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T15:02:21.846Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.847Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.847Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/e6765b8a-a424-4d3b-b1fe-3553ed75116e [none]
[debug] [2025-05-14T15:02:21.938Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image 200
[debug] [2025-05-14T15:02:21.938Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/repositories/gcf-artifacts/packages/nutrisnap2__us--central1__recognize_food_from_image {"name":"projects/nutrisnap2/locations/us-central1/operations/6d7095fe-3af4-45ea-96b1-76d493dc4a7b","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"}}
[debug] [2025-05-14T15:02:21.938Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.938Z] Checked if tokens are valid: true, expires at: 1747237658127
[debug] [2025-05-14T15:02:21.938Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6d7095fe-3af4-45ea-96b1-76d493dc4a7b [none]
[debug] [2025-05-14T15:02:22.130Z] <<< [apiv2][status] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list 404
[debug] [2025-05-14T15:02:22.130Z] <<< [apiv2][body] GET https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2025-05-14T15:02:22.131Z] Failed docker command with error  Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/nutrisnap2/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2025-05-14T15:02:22.622Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/b2aabf9c-bf5b-46ed-8e35-cff2ef2b866a 200
[debug] [2025-05-14T15:02:22.622Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/b2aabf9c-bf5b-46ed-8e35-cff2ef2b866a {"name":"projects/nutrisnap2/locations/us-central1/operations/b2aabf9c-bf5b-46ed-8e35-cff2ef2b866a","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T15:02:22.623Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/0f7f6cfe-4e50-4709-827f-9f4563202617 200
[debug] [2025-05-14T15:02:22.623Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/0f7f6cfe-4e50-4709-827f-9f4563202617 {"name":"projects/nutrisnap2/locations/us-central1/operations/0f7f6cfe-4e50-4709-827f-9f4563202617","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T15:02:22.623Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/88fa706d-d7dd-4eb0-a42c-0bd5cecd9630 200
[debug] [2025-05-14T15:02:22.623Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/88fa706d-d7dd-4eb0-a42c-0bd5cecd9630 {"name":"projects/nutrisnap2/locations/us-central1/operations/88fa706d-d7dd-4eb0-a42c-0bd5cecd9630","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T15:02:22.643Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/8315b401-64b5-4a8a-ba9a-6945ee704a07 200
[debug] [2025-05-14T15:02:22.643Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/8315b401-64b5-4a8a-ba9a-6945ee704a07 {"name":"projects/nutrisnap2/locations/us-central1/operations/8315b401-64b5-4a8a-ba9a-6945ee704a07","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T15:02:22.667Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/e6765b8a-a424-4d3b-b1fe-3553ed75116e 200
[debug] [2025-05-14T15:02:22.667Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/e6765b8a-a424-4d3b-b1fe-3553ed75116e {"name":"projects/nutrisnap2/locations/us-central1/operations/e6765b8a-a424-4d3b-b1fe-3553ed75116e","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2025-05-14T15:02:22.783Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6d7095fe-3af4-45ea-96b1-76d493dc4a7b 200
[debug] [2025-05-14T15:02:22.783Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/nutrisnap2/locations/us-central1/operations/6d7095fe-3af4-45ea-96b1-76d493dc4a7b {"name":"projects/nutrisnap2/locations/us-central1/operations/6d7095fe-3af4-45ea-96b1-76d493dc4a7b","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/nutrisnap2/us/gcf 
[debug] [2025-05-14T15:02:22.783Z] Functions deploy failed.
[debug] [2025-05-14T15:02:22.783Z] {
  "endpoint": {
    "id": "getFatSecretFoodDetails",
    "project": "nutrisnap2",
    "region": "us-central1",
    "entryPoint": "getFatSecretFoodDetails",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "OPENAI_API_KEY": "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",
      "ENABLE_LLM_ENHANCEMENT": "true",
      "OPENAI_MODEL": "gpt-4o",
      "USDA_API_KEY": "8MUe1SvzEYcMyZVmFwWq1tDte1YT5xDdzAh7qqrh",
      "FATSECRET_CLIENT_ID": "085c514845bd4626ac4591e21dc09713",
      "FATSECRET_CLIENT_SECRET": "afb99cbdc7bd4c798e3255640ec1fd9c",
      "FIREBASE_CONFIG": "{\"projectId\":\"nutrisnap2\",\"storageBucket\":\"nutrisnap2.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "nutrisnap2",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/nutrisnap2/locations/us-central1/services/getFatSecretFoodDetails"
    },
    "codebase": "default",
    "runServiceId": "getfatsecretfooddetails",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "a59dbee86d14c5a988ec86b5b424a2c69c6ab77f"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00016-tad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00016-tad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00016-tad%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service getfatsecretfooddetails, Container Healthcheck failed. Revision 'getfatsecretfooddetails-00016-tad' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=nutrisnap2&resource=cloud_run_revision/service_name/getfatsecretfooddetails/revision_name/getfatsecretfooddetails-00016-tad&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22getfatsecretfooddetails%22%0Aresource.labels.revision_name%3D%22getfatsecretfooddetails-00016-tad%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-05-14T15:02:22.889Z] Error: Failed to update function getFatSecretFoodDetails in region us-central1
    at /Users/arnauddecube/.nvm/versions/node/v18.20.8/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/Users/arnauddecube/.nvm/versions/node/v18.20.8/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/Users/arnauddecube/.nvm/versions/node/v18.20.8/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/Users/arnauddecube/.nvm/versions/node/v18.20.8/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
